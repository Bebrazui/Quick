/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(rsc)/./src/app/page.tsx\")), \"/home/user/nostr/src/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/home/user/nostr/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/home/user/nostr/src/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZ1c2VyJTJGbm9zdHImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLGdKQUFzRTtBQUM3RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQXdFO0FBQ2pHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLz82OGMxIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvc3JjL2FwcC9wYWdlLnRzeFwiKSwgXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL2hvbWUvdXNlci9ub3N0ci9zcmMvYXBwL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTRHO0FBQzVHO0FBQ0Esb09BQTZHO0FBQzdHO0FBQ0EsME9BQWdIO0FBQ2hIO0FBQ0Esd09BQStHO0FBQy9HO0FBQ0Esa1BBQW9IO0FBQ3BIO0FBQ0Esc1FBQThIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8/N2NjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS91c2VyL25vc3RyL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvdXNlci9ub3N0ci9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ThemeProvider.tsx */ \"(ssr)/./src/components/ThemeProvider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZm9udCUyRmdvb2dsZSUyRnRhcmdldC5jc3MlM0YlN0IlNUMlMjJwYXRoJTVDJTIyJTNBJTVDJTIyc3JjJTJGYXBwJTJGbGF5b3V0LnRzeCU1QyUyMiUyQyU1QyUyMmltcG9ydCU1QyUyMiUzQSU1QyUyMkludGVyJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtaW50ZXIlNUMlMjIlN0QlNUQlMkMlNUMlMjJ2YXJpYWJsZU5hbWUlNUMlMjIlM0ElNUMlMjJpbnRlciU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmZvbnQlMkZnb29nbGUlMkZ0YXJnZXQuY3NzJTNGJTdCJTVDJTIycGF0aCU1QyUyMiUzQSU1QyUyMnNyYyUyRmFwcCUyRmxheW91dC50c3glNUMlMjIlMkMlNUMlMjJpbXBvcnQlNUMlMjIlM0ElNUMlMjJTcGFjZV9Nb25vJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIyd2VpZ2h0JTVDJTIyJTNBJTVDJTIyNDAwJTVDJTIyJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtc3BhY2UtbW9ubyU1QyUyMiU3RCU1RCUyQyU1QyUyMnZhcmlhYmxlTmFtZSU1QyUyMiUzQSU1QyUyMnNwYWNlTW9ubyU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGc3JjJTJGYXBwJTJGZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRnNyYyUyRmNvbXBvbmVudHMlMkZUaGVtZVByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMlRoZW1lUHJvdmlkZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdMQUF5SCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvP2NlZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJUaGVtZVByb3ZpZGVyXCJdICovIFwiL2hvbWUvdXNlci9ub3N0ci9zcmMvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(ssr)/./src/app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZzcmMlMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ0pBQXNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8/ZDlkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvc3JjL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _components_LoginScreen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/LoginScreen */ \"(ssr)/./src/components/LoginScreen.tsx\");\n/* harmony import */ var _components_Sidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Sidebar */ \"(ssr)/./src/components/Sidebar.tsx\");\n/* harmony import */ var _components_ChatView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ChatView */ \"(ssr)/./src/components/ChatView.tsx\");\n/* harmony import */ var _components_CallOverlay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/CallOverlay */ \"(ssr)/./src/components/CallOverlay.tsx\");\n/* harmony import */ var _components_Welcome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/Welcome */ \"(ssr)/./src/components/Welcome.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction HomePage() {\n    const { isLoggedIn, activeChat, showSidebar } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.useAppState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const autoLogin = async ()=>{\n            if (_lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.tryAutoLogin()) {\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.setLoggedIn)(true);\n                await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.connectToRelays();\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.loadContacts)();\n            }\n        };\n        autoLogin();\n    }, []);\n    if (!isLoggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoginScreen__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n            fileName: \"/home/user/nostr/src/app/page.tsx\",\n            lineNumber: 27,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"flex h-screen w-screen bg-bg text-text\",\n        children: [\n            showSidebar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Sidebar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 32,\n                columnNumber: 23\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `flex-1 flex flex-col ${showSidebar ? \"w-[calc(100vw-320px)]\" : \"w-full\"}`,\n                children: activeChat ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatView__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 34,\n                    columnNumber: 23\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Welcome__WEBPACK_IMPORTED_MODULE_8__.Welcome, {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 34,\n                    columnNumber: 38\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CallOverlay__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 36,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/app/page.tsx\",\n        lineNumber: 31,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFa0M7QUFDbUM7QUFDM0I7QUFDUztBQUNSO0FBQ0U7QUFDTTtBQUNKO0FBRWhDLFNBQVNVO0lBQ3RCLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRSxHQUFHWix1REFBV0E7SUFFM0RELGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWMsWUFBWTtZQUNoQixJQUFJVixtREFBV0EsQ0FBQ1csWUFBWSxJQUFJO2dCQUM5QmIsdURBQVdBLENBQUM7Z0JBQ1osTUFBTUUsbURBQVdBLENBQUNZLGVBQWU7Z0JBQ2pDYix3REFBWUE7WUFDZDtRQUNGO1FBQ0FXO0lBQ0YsR0FBRyxFQUFFO0lBRUwsSUFBSSxDQUFDSCxZQUFZO1FBQ2YscUJBQU8sOERBQUNOLCtEQUFXQTs7Ozs7SUFDckI7SUFFQSxxQkFDRSw4REFBQ1k7UUFBS0MsV0FBVTs7WUFDYkwsNkJBQWUsOERBQUNQLDJEQUFPQTs7Ozs7MEJBQ3hCLDhEQUFDYTtnQkFBSUQsV0FBVyxDQUFDLHFCQUFxQixFQUFFTCxjQUFjLDBCQUEwQixTQUFTLENBQUM7MEJBQ3ZGRCwyQkFBYSw4REFBQ0wsNERBQVFBOzs7O3lDQUFNLDhEQUFDRSx3REFBT0E7Ozs7Ozs7Ozs7MEJBRXZDLDhEQUFDRCwrREFBV0E7Ozs7Ozs7Ozs7O0FBR2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBcHBTdGF0ZSwgc2V0TG9nZ2VkSW4sIGxvYWRDb250YWN0cyB9IGZyb20gXCJAL2xpYi9zdG9yZVwiO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQgfSBmcm9tIFwiQC9saWIvbm9zdHJcIjtcbmltcG9ydCBMb2dpblNjcmVlbiBmcm9tIFwiQC9jb21wb25lbnRzL0xvZ2luU2NyZWVuXCI7XG5pbXBvcnQgU2lkZWJhciBmcm9tIFwiQC9jb21wb25lbnRzL1NpZGViYXJcIjtcbmltcG9ydCBDaGF0VmlldyBmcm9tIFwiQC9jb21wb25lbnRzL0NoYXRWaWV3XCI7XG5pbXBvcnQgQ2FsbE92ZXJsYXkgZnJvbSBcIkAvY29tcG9uZW50cy9DYWxsT3ZlcmxheVwiO1xuaW1wb3J0IHsgV2VsY29tZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvV2VsY29tZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lUGFnZSgpIHtcbiAgY29uc3QgeyBpc0xvZ2dlZEluLCBhY3RpdmVDaGF0LCBzaG93U2lkZWJhciB9ID0gdXNlQXBwU3RhdGUoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGF1dG9Mb2dpbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChub3N0ckNsaWVudC50cnlBdXRvTG9naW4oKSkge1xuICAgICAgICBzZXRMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgYXdhaXQgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgICAgIGxvYWRDb250YWN0cygpO1xuICAgICAgfVxuICAgIH07XG4gICAgYXV0b0xvZ2luKCk7XG4gIH0sIFtdKTtcblxuICBpZiAoIWlzTG9nZ2VkSW4pIHtcbiAgICByZXR1cm4gPExvZ2luU2NyZWVuIC8+O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIHctc2NyZWVuIGJnLWJnIHRleHQtdGV4dFwiPlxuICAgICAge3Nob3dTaWRlYmFyICYmIDxTaWRlYmFyIC8+fVxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4LTEgZmxleCBmbGV4LWNvbCAke3Nob3dTaWRlYmFyID8gXCJ3LVtjYWxjKDEwMHZ3LTMyMHB4KV1cIiA6IFwidy1mdWxsXCJ9YH0+XG4gICAgICAgIHthY3RpdmVDaGF0ID8gPENoYXRWaWV3IC8+IDogPFdlbGNvbWUgLz59XG4gICAgICA8L2Rpdj5cbiAgICAgIDxDYWxsT3ZlcmxheSAvPlxuICAgIDwvbWFpbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VBcHBTdGF0ZSIsInNldExvZ2dlZEluIiwibG9hZENvbnRhY3RzIiwibm9zdHJDbGllbnQiLCJMb2dpblNjcmVlbiIsIlNpZGViYXIiLCJDaGF0VmlldyIsIkNhbGxPdmVybGF5IiwiV2VsY29tZSIsIkhvbWVQYWdlIiwiaXNMb2dnZWRJbiIsImFjdGl2ZUNoYXQiLCJzaG93U2lkZWJhciIsImF1dG9Mb2dpbiIsInRyeUF1dG9Mb2dpbiIsImNvbm5lY3RUb1JlbGF5cyIsIm1haW4iLCJjbGFzc05hbWUiLCJkaXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Avatar.tsx":
/*!***********************************!*\
  !*** ./src/components/Avatar.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AvatarGradient: () => (/* binding */ AvatarGradient),\n/* harmony export */   \"default\": () => (/* binding */ Avatar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n\n\n\nconst GRADIENT_PAIRS = [\n    [\n        \"#7c5cfc\",\n        \"#22d3ee\"\n    ],\n    [\n        \"#f472b6\",\n        \"#fbbf24\"\n    ],\n    [\n        \"#4ade80\",\n        \"#22d3ee\"\n    ],\n    [\n        \"#f87171\",\n        \"#fb923c\"\n    ],\n    [\n        \"#a78bfa\",\n        \"#f472b6\"\n    ],\n    [\n        \"#22d3ee\",\n        \"#4ade80\"\n    ],\n    [\n        \"#fbbf24\",\n        \"#f87171\"\n    ],\n    [\n        \"#fb923c\",\n        \"#a78bfa\"\n    ],\n    [\n        \"#34d399\",\n        \"#818cf8\"\n    ],\n    [\n        \"#f97316\",\n        \"#ec4899\"\n    ],\n    [\n        \"#06b6d4\",\n        \"#8b5cf6\"\n    ],\n    [\n        \"#84cc16\",\n        \"#06b6d4\"\n    ],\n    [\n        \"#e879f9\",\n        \"#38bdf8\"\n    ],\n    [\n        \"#fb7185\",\n        \"#c084fc\"\n    ],\n    [\n        \"#2dd4bf\",\n        \"#a855f7\"\n    ],\n    [\n        \"#facc15\",\n        \"#f43f5e\"\n    ]\n];\nfunction hashCode(str) {\n    let hash = 0;\n    for(let i = 0; i < str.length; i++){\n        const char = str.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash |= 0;\n    }\n    return Math.abs(hash);\n}\nconst SIZE_MAP = {\n    xs: {\n        outer: \"w-7 h-7\",\n        inner: \"w-6 h-6\",\n        text: \"text-[10px]\",\n        dot: \"w-2 h-2 -bottom-0 -right-0\",\n        border: \"2px\",\n        size: 24\n    },\n    sm: {\n        outer: \"w-9 h-9\",\n        inner: \"w-8 h-8\",\n        text: \"text-xs\",\n        dot: \"w-2.5 h-2.5 -bottom-0 -right-0\",\n        border: \"2px\",\n        size: 32\n    },\n    md: {\n        outer: \"w-11 h-11\",\n        inner: \"w-10 h-10\",\n        text: \"text-sm\",\n        dot: \"w-3 h-3 -bottom-0.5 -right-0.5\",\n        border: \"2px\",\n        size: 40\n    },\n    lg: {\n        outer: \"w-16 h-16\",\n        inner: \"w-14 h-14\",\n        text: \"text-xl\",\n        dot: \"w-3.5 h-3.5 bottom-0 right-0\",\n        border: \"3px\",\n        size: 56\n    },\n    xl: {\n        outer: \"w-24 h-24\",\n        inner: \"w-[86px] h-[86px]\",\n        text: \"text-3xl\",\n        dot: \"w-4 h-4 bottom-0.5 right-0.5\",\n        border: \"3px\",\n        size: 86\n    }\n};\nfunction Avatar({ pubkey, name, picture, size = \"md\", showBorder = true, online, className = \"\" }) {\n    const gradient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const idx = hashCode(pubkey) % GRADIENT_PAIRS.length;\n        return GRADIENT_PAIRS[idx];\n    }, [\n        pubkey\n    ]);\n    const s = SIZE_MAP[size];\n    const initial = (name || pubkey || \"?\")[0].toUpperCase();\n    const gradientStyle = showBorder ? {\n        background: `linear-gradient(135deg, ${gradient[0]}, ${gradient[1]})`,\n        padding: s.border\n    } : {};\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `relative shrink-0 ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${s.outer} rounded-full flex items-center justify-center`,\n                style: showBorder ? gradientStyle : {},\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `${s.inner} rounded-full flex items-center justify-center overflow-hidden ${showBorder ? \"bg-bg-secondary\" : \"bg-bg-tertiary\"}`,\n                    style: !showBorder ? {\n                        background: `linear-gradient(135deg, ${gradient[0]}22, ${gradient[1]}22)`,\n                        border: `1px solid ${gradient[0]}33`\n                    } : {},\n                    children: picture ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        src: picture,\n                        alt: name || \"Avatar\",\n                        width: s.size,\n                        height: s.size,\n                        className: \"w-full h-full object-cover\",\n                        onError: (e)=>{\n                            e.target.style.display = \"none\";\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                        lineNumber: 81,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: `${s.text} font-bold`,\n                        style: {\n                            color: gradient[0]\n                        },\n                        children: initial\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            online !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `absolute ${s.dot} rounded-full border-2 border-bg-secondary ${online ? \"bg-green\" : \"bg-text-muted\"}`\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\nfunction AvatarGradient({ pubkey }) {\n    const gradient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const idx = hashCode(pubkey) % GRADIENT_PAIRS.length;\n        return GRADIENT_PAIRS[idx];\n    }, [\n        pubkey\n    ]);\n    return gradient;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvQXZhdGFyLnRzeD8yMDU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTmV4dEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5jb25zdCBHUkFESUVOVF9QQUlSUyA9IFtcbiAgWycjN2M1Y2ZjJywgJyMyMmQzZWUnXSxcbiAgWycjZjQ3MmI2JywgJyNmYmJmMjQnXSxcbiAgWycjNGFkZTgwJywgJyMyMmQzZWUnXSxcbiAgWycjZjg3MTcxJywgJyNmYjkyM2MnXSxcbiAgWycjYTc4YmZhJywgJyNmNDcyYjYnXSxcbiAgWycjMjJkM2VlJywgJyM0YWRlODAnXSxcbiAgWycjZmJiZjI0JywgJyNmODcxNzEnXSxcbiAgWycjZmI5MjNjJywgJyNhNzhiZmEnXSxcbiAgWycjMzRkMzk5JywgJyM4MThjZjgnXSxcbiAgWycjZjk3MzE2JywgJyNlYzQ4OTknXSxcbiAgWycjMDZiNmQ0JywgJyM4YjVjZjYnXSxcbiAgWycjODRjYzE2JywgJyMwNmI2ZDQnXSxcbiAgWycjZTg3OWY5JywgJyMzOGJkZjgnXSxcbiAgWycjZmI3MTg1JywgJyNjMDg0ZmMnXSxcbiAgWycjMmRkNGJmJywgJyNhODU1ZjcnXSxcbiAgWycjZmFjYzE1JywgJyNmNDNmNWUnXSxcbl07XG5cbmZ1bmN0aW9uIGhhc2hDb2RlKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgbGV0IGhhc2ggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgIGhhc2ggfD0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG59XG5cbmludGVyZmFjZSBBdmF0YXJQcm9wcyB7XG4gIHB1YmtleTogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBwaWN0dXJlPzogc3RyaW5nO1xuICBzaXplPzogJ3hzJyB8ICdzbScgfCAnbWQnIHwgJ2xnJyB8ICd4bCc7XG4gIHNob3dCb3JkZXI/OiBib29sZWFuO1xuICBvbmxpbmU/OiBib29sZWFuO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFNJWkVfTUFQID0ge1xuICB4czogeyBvdXRlcjogJ3ctNyBoLTcnLCBpbm5lcjogJ3ctNiBoLTYnLCB0ZXh0OiAndGV4dC1bMTBweF0nLCBkb3Q6ICd3LTIgaC0yIC1ib3R0b20tMCAtcmlnaHQtMCcsIGJvcmRlcjogJzJweCcsIHNpemU6IDI0IH0sXG4gIHNtOiB7IG91dGVyOiAndy05IGgtOScsIGlubmVyOiAndy04IGgtOCcsIHRleHQ6ICd0ZXh0LXhzJywgZG90OiAndy0yLjUgaC0yLjUgLWJvdHRvbS0wIC1yaWdodC0wJywgYm9yZGVyOiAnMnB4Jywgc2l6ZTogMzIgfSxcbiAgbWQ6IHsgb3V0ZXI6ICd3LTExIGgtMTEnLCBpbm5lcjogJ3ctMTAgaC0xMCcsIHRleHQ6ICd0ZXh0LXNtJywgZG90OiAndy0zIGgtMyAtYm90dG9tLTAuNSAtcmlnaHQtMC41JywgYm9yZGVyOiAnMnB4Jywgc2l6ZTogNDAgfSxcbiAgbGc6IHsgb3V0ZXI6ICd3LTE2IGgtMTYnLCBpbm5lcjogJ3ctMTQgaC0xNCcsIHRleHQ6ICd0ZXh0LXhsJywgZG90OiAndy0zLjUgaC0zLjUgYm90dG9tLTAgcmlnaHQtMCcsIGJvcmRlcjogJzNweCcsIHNpemU6IDU2IH0sXG4gIHhsOiB7IG91dGVyOiAndy0yNCBoLTI0JywgaW5uZXI6ICd3LVs4NnB4XSBoLVs4NnB4XScsIHRleHQ6ICd0ZXh0LTN4bCcsIGRvdDogJ3ctNCBoLTQgYm90dG9tLTAuNSByaWdodC0wLjUnLCBib3JkZXI6ICczcHgnLCBzaXplOiA4NiB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXZhdGFyKHsgcHVia2V5LCBuYW1lLCBwaWN0dXJlLCBzaXplID0gJ21kJywgc2hvd0JvcmRlciA9IHRydWUsIG9ubGluZSwgY2xhc3NOYW1lID0gJycgfTogQXZhdGFyUHJvcHMpIHtcbiAgY29uc3QgZ3JhZGllbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpZHggPSBoYXNoQ29kZShwdWJrZXkpICUgR1JBRElFTlRfUEFJUlMubGVuZ3RoO1xuICAgIHJldHVybiBHUkFESUVOVF9QQUlSU1tpZHhdO1xuICB9LCBbcHVia2V5XSk7XG5cbiAgY29uc3QgcyA9IFNJWkVfTUFQW3NpemVdO1xuICBjb25zdCBpbml0aWFsID0gKG5hbWUgfHwgcHVia2V5IHx8ICc/JylbMF0udG9VcHBlckNhc2UoKTtcblxuICBjb25zdCBncmFkaWVudFN0eWxlID0gc2hvd0JvcmRlciA/IHtcbiAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFswXX0sICR7Z3JhZGllbnRbMV19KWAsXG4gICAgcGFkZGluZzogcy5ib3JkZXIsXG4gIH0gOiB7fTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgc2hyaW5rLTAgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YCR7cy5vdXRlcn0gcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyYH1cbiAgICAgICAgc3R5bGU9e3Nob3dCb3JkZXIgPyBncmFkaWVudFN0eWxlIDoge319XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3MuaW5uZXJ9IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW4gJHtcbiAgICAgICAgICAgIHNob3dCb3JkZXIgPyAnYmctYmctc2Vjb25kYXJ5JyA6ICdiZy1iZy10ZXJ0aWFyeSdcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBzdHlsZT17IXNob3dCb3JkZXIgPyB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFswXX0yMiwgJHtncmFkaWVudFsxXX0yMilgLFxuICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z3JhZGllbnRbMF19MzNgLFxuICAgICAgICAgIH0gOiB7fX1cbiAgICAgICAgPlxuICAgICAgICAgIHtwaWN0dXJlID8gKFxuICAgICAgICAgICAgPE5leHRJbWFnZVxuICAgICAgICAgICAgICBzcmM9e3BpY3R1cmV9XG4gICAgICAgICAgICAgIGFsdD17bmFtZSB8fCAnQXZhdGFyJ31cbiAgICAgICAgICAgICAgd2lkdGg9e3Muc2l6ZX1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtzLnNpemV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cy50ZXh0fSBmb250LWJvbGRgfVxuICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ3JhZGllbnRbMF0gfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2luaXRpYWx9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtvbmxpbmUgIT09IHVuZGVmaW5lZCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSAke3MuZG90fSByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWJnLXNlY29uZGFyeSAke1xuICAgICAgICAgICAgb25saW5lID8gJ2JnLWdyZWVuJyA6ICdiZy10ZXh0LW11dGVkJ1xuICAgICAgICAgIH1gfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF2YXRhckdyYWRpZW50KHsgcHVia2V5IH06IHsgcHVia2V5OiBzdHJpbmcgfSkge1xuICBjb25zdCBncmFkaWVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGlkeCA9IGhhc2hDb2RlKHB1YmtleSkgJSBHUkFESUVOVF9QQUlSUy5sZW5ndGg7XG4gICAgcmV0dXJuIEdSQURJRU5UX1BBSVJTW2lkeF07XG4gIH0sIFtwdWJrZXldKTtcbiAgcmV0dXJuIGdyYWRpZW50O1xufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJOZXh0SW1hZ2UiLCJHUkFESUVOVF9QQUlSUyIsImhhc2hDb2RlIiwic3RyIiwiaGFzaCIsImkiLCJsZW5ndGgiLCJjaGFyIiwiY2hhckNvZGVBdCIsIk1hdGgiLCJhYnMiLCJTSVpFX01BUCIsInhzIiwib3V0ZXIiLCJpbm5lciIsInRleHQiLCJkb3QiLCJib3JkZXIiLCJzaXplIiwic20iLCJtZCIsImxnIiwieGwiLCJBdmF0YXIiLCJwdWJrZXkiLCJuYW1lIiwicGljdHVyZSIsInNob3dCb3JkZXIiLCJvbmxpbmUiLCJjbGFzc05hbWUiLCJncmFkaWVudCIsImlkeCIsInMiLCJpbml0aWFsIiwidG9VcHBlckNhc2UiLCJncmFkaWVudFN0eWxlIiwiYmFja2dyb3VuZCIsInBhZGRpbmciLCJkaXYiLCJzdHlsZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwib25FcnJvciIsImUiLCJ0YXJnZXQiLCJkaXNwbGF5Iiwic3BhbiIsImNvbG9yIiwidW5kZWZpbmVkIiwiQXZhdGFyR3JhZGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Avatar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/CallOverlay.tsx":
/*!****************************************!*\
  !*** ./src/components/CallOverlay.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallOverlay)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone-incoming.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/webrtc */ \"(ssr)/./src/lib/webrtc.ts\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\n\nfunction CallOverlay() {\n    const { contacts } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.useAppState)();\n    const [callState, setCallState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [remotePubkey, setRemotePubkey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callType, setCallType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"audio\");\n    const [muted, setMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videoOff, setVideoOff] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [elapsed, setElapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [localStream, setLocalStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [remoteStream, setRemoteStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callError, setCallError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const localVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.init();\n        const unsubState = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.onStateChange((state, pubkey, type, error)=>{\n            setCallState(state);\n            setRemotePubkey(pubkey);\n            setCallType(type);\n            if (error) {\n                setCallError(error);\n                setTimeout(()=>setCallError(null), 4000);\n            }\n            if (state === \"idle\") {\n                setMuted(false);\n                setVideoOff(false);\n                setElapsed(0);\n            }\n        });\n        const unsubStream = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.onStream((local, remote)=>{\n            setLocalStream(local);\n            setRemoteStream(remote);\n        });\n        return ()=>{\n            unsubState();\n            unsubStream();\n            _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.destroy();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (localVideoRef.current && localStream) {\n            localVideoRef.current.srcObject = localStream;\n        }\n    }, [\n        localStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (remoteVideoRef.current && remoteStream) {\n            remoteVideoRef.current.srcObject = remoteStream;\n        }\n    }, [\n        remoteStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (callState !== \"connected\") return;\n        const interval = setInterval(()=>{\n            setElapsed(Math.floor((Date.now() - _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.callStartTime) / 1000));\n        }, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        callState\n    ]);\n    const handleToggleMute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const isMuted = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.toggleMute();\n        setMuted(isMuted);\n    }, []);\n    const handleToggleVideo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const isOff = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.toggleVideo();\n        setVideoOff(isOff);\n    }, []);\n    const contact = remotePubkey ? contacts.find((c)=>c.pubkey === remotePubkey) : null;\n    const displayName = contact?.name || (remotePubkey ? _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(remotePubkey) : \"\");\n    const formatElapsed = (s)=>{\n        const m = Math.floor(s / 60);\n        const sec = s % 60;\n        return `${m.toString().padStart(2, \"0\")}:${sec.toString().padStart(2, \"0\")}`;\n    };\n    //       \n    if (callState === \"idle\" && !callError) return null;\n    //     \n    if (callState === \"idle\" && callError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: -20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                exit: {\n                    opacity: 0,\n                    y: -20\n                },\n                className: \"fixed top-4 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 bg-red/90 backdrop-blur-sm rounded-2xl shadow-2xl shadow-red/20 text-white text-sm max-w-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-5 h-5 shrink-0\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: callError\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                lineNumber: 100,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n            lineNumber: 99,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n            initial: {\n                opacity: 0\n            },\n            animate: {\n                opacity: 1\n            },\n            exit: {\n                opacity: 0\n            },\n            className: \"fixed inset-0 z-[100] flex items-center justify-center\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 bg-bg/95 backdrop-blur-xl\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 122,\n                    columnNumber: 9\n                }, this),\n                callType === \"video\" && callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: remoteVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            className: \"absolute inset-0 w-full h-full object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 bg-black/20\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 133,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                            initial: {\n                                scale: 0.8,\n                                opacity: 0\n                            },\n                            animate: {\n                                scale: 1,\n                                opacity: 1\n                            },\n                            className: \"absolute top-4 right-4 w-32 h-44 sm:w-40 sm:h-56 rounded-2xl overflow-hidden border-2 border-white/20 shadow-2xl z-10\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                ref: localVideoRef,\n                                autoPlay: true,\n                                playsInline: true,\n                                muted: true,\n                                className: \"w-full h-full object-cover\",\n                                style: {\n                                    transform: \"scaleX(-1)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                lineNumber: 139,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 134,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true),\n                (callType === \"audio\" || callState !== \"connected\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative z-10 flex flex-col items-center\",\n                    children: [\n                        (callState === \"calling\" || callState === \"ringing\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute w-40 h-40 rounded-full border-2 border-accent/20 animate-pulse-ring\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 156,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute w-56 h-56 rounded-full border border-accent/10 animate-pulse-ring\",\n                                    style: {\n                                        animationDelay: \"0.5s\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 157,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                            initial: {\n                                scale: 0.5\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            transition: {\n                                type: \"spring\",\n                                stiffness: 200\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                pubkey: remotePubkey || \"\",\n                                name: contact?.name,\n                                picture: contact?.picture,\n                                size: \"xl\",\n                                showBorder: true\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                lineNumber: 166,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 161,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.h2, {\n                            initial: {\n                                opacity: 0,\n                                y: 10\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                delay: 0.1\n                            },\n                            className: \"mt-6 text-xl font-bold text-text\",\n                            style: {\n                                fontFamily: \"Space Grotesk\"\n                            },\n                            children: displayName\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 175,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.p, {\n                            initial: {\n                                opacity: 0\n                            },\n                            animate: {\n                                opacity: 1\n                            },\n                            transition: {\n                                delay: 0.2\n                            },\n                            className: \"mt-2 text-sm text-text-secondary\",\n                            children: [\n                                callState === \"calling\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"animate-call-pulse\",\n                                    children: \"...\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 192,\n                                    columnNumber: 17\n                                }, this),\n                                callState === \"ringing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"animate-call-pulse flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                            lineNumber: 196,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        callType === \"video\" ? \"\" : \"\",\n                                        \" \"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 195,\n                                    columnNumber: 17\n                                }, this),\n                                callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-green\",\n                                    children: formatElapsed(elapsed)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 201,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 185,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 153,\n                    columnNumber: 11\n                }, this),\n                callType === \"video\" && callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-4 left-4 z-10 flex items-center gap-3 bg-black/50 backdrop-blur-sm rounded-2xl px-4 py-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            pubkey: remotePubkey || \"\",\n                            name: contact?.name,\n                            picture: contact?.picture,\n                            size: \"xs\",\n                            showBorder: true\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-medium text-white\",\n                                    children: displayName\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 212,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-green\",\n                                    children: formatElapsed(elapsed)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 211,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                    initial: {\n                        y: 50,\n                        opacity: 0\n                    },\n                    animate: {\n                        y: 0,\n                        opacity: 1\n                    },\n                    transition: {\n                        delay: 0.3\n                    },\n                    className: \"absolute bottom-8 sm:bottom-12 left-0 right-0 flex items-center justify-center gap-4 z-10\",\n                    children: [\n                        callState === \"ringing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.rejectCall(),\n                                    className: \"w-16 h-16 rounded-full bg-red flex items-center justify-center shadow-lg shadow-red/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 234,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 228,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.acceptCall(),\n                                    className: \"w-16 h-16 rounded-full bg-green flex items-center justify-center shadow-lg shadow-green/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 242,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        (callState === \"calling\" || callState === \"connected\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: handleToggleMute,\n                                    className: `w-14 h-14 rounded-full flex items-center justify-center transition-colors ${muted ? \"bg-red/20 text-red\" : \"bg-white/10 text-white hover:bg-white/20\"}`,\n                                    children: muted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 26\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 59\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 250,\n                                    columnNumber: 15\n                                }, this),\n                                callType === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: handleToggleVideo,\n                                    className: `w-14 h-14 rounded-full flex items-center justify-center transition-colors ${videoOff ? \"bg-red/20 text-red\" : \"bg-white/10 text-white hover:bg-white/20\"}`,\n                                    children: videoOff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 31\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 66\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 262,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.endCall(),\n                                    className: \"w-16 h-16 rounded-full bg-red flex items-center justify-center shadow-lg shadow-red/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 274,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 219,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n            lineNumber: 115,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n        lineNumber: 114,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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STtvQ0FDekJlLFVBQVU7d0NBQUVmLE9BQU87b0NBQUk7b0NBQ3ZCZ0IsU0FBUzNDO29DQUNUcUIsV0FBVyxDQUFDLDBFQUEwRSxFQUNwRjNELFdBQVcsdUJBQXVCLDJDQUNuQyxDQUFDOzhDQUVEQSx5QkFBVyw4REFBQ25CLGlKQUFRQTt3Q0FBQzhFLFdBQVU7Ozs7OzZEQUFlLDhEQUFDL0UsaUpBQUtBO3dDQUFDK0UsV0FBVTs7Ozs7Ozs7Ozs7OENBSXBFLDhEQUFDbkYsaURBQU1BLENBQUNzRyxNQUFNO29DQUNaQyxZQUFZO3dDQUFFZCxPQUFPO29DQUFJO29DQUN6QmUsVUFBVTt3Q0FBRWYsT0FBTztvQ0FBSTtvQ0FDdkJnQixTQUFTLElBQU0vRixzREFBYUEsQ0FBQ2tHLE9BQU87b0NBQ3BDekIsV0FBVTs4Q0FFViw0RUFBQ2hGLGlKQUFRQTt3Q0FBQ2dGLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFwQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9DYWxsT3ZlcmxheS50c3g/YmVhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IFBob25lLCBQaG9uZU9mZiwgVmlkZW8sIFZpZGVvT2ZmLCBNaWMsIE1pY09mZiwgUGhvbmVJbmNvbWluZywgQWxlcnRUcmlhbmdsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyB3ZWJydGNNYW5hZ2VyLCB0eXBlIENhbGxTdGF0ZSwgdHlwZSBDYWxsVHlwZSB9IGZyb20gJy4uL2xpYi93ZWJydGMnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHsgdXNlQXBwU3RhdGUgfSBmcm9tICcuLi9saWIvc3RvcmUnO1xuaW1wb3J0IEF2YXRhciBmcm9tICcuL0F2YXRhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbGxPdmVybGF5KCkge1xuICBjb25zdCB7IGNvbnRhY3RzIH0gPSB1c2VBcHBTdGF0ZSgpO1xuICBjb25zdCBbY2FsbFN0YXRlLCBzZXRDYWxsU3RhdGVdID0gdXNlU3RhdGU8Q2FsbFN0YXRlPignaWRsZScpO1xuICBjb25zdCBbcmVtb3RlUHVia2V5LCBzZXRSZW1vdGVQdWJrZXldID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjYWxsVHlwZSwgc2V0Q2FsbFR5cGVdID0gdXNlU3RhdGU8Q2FsbFR5cGU+KCdhdWRpbycpO1xuICBjb25zdCBbbXV0ZWQsIHNldE11dGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZpZGVvT2ZmLCBzZXRWaWRlb09mZl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlbGFwc2VkLCBzZXRFbGFwc2VkXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbbG9jYWxTdHJlYW0sIHNldExvY2FsU3RyZWFtXSA9IHVzZVN0YXRlPE1lZGlhU3RyZWFtIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtyZW1vdGVTdHJlYW0sIHNldFJlbW90ZVN0cmVhbV0gPSB1c2VTdGF0ZTxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY2FsbEVycm9yLCBzZXRDYWxsRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgbG9jYWxWaWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcbiAgY29uc3QgcmVtb3RlVmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3ZWJydGNNYW5hZ2VyLmluaXQoKTtcblxuICAgIGNvbnN0IHVuc3ViU3RhdGUgPSB3ZWJydGNNYW5hZ2VyLm9uU3RhdGVDaGFuZ2UoKHN0YXRlLCBwdWJrZXksIHR5cGUsIGVycm9yKSA9PiB7XG4gICAgICBzZXRDYWxsU3RhdGUoc3RhdGUpO1xuICAgICAgc2V0UmVtb3RlUHVia2V5KHB1YmtleSk7XG4gICAgICBzZXRDYWxsVHlwZSh0eXBlKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBzZXRDYWxsRXJyb3IoZXJyb3IpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENhbGxFcnJvcihudWxsKSwgNDAwMCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUgPT09ICdpZGxlJykge1xuICAgICAgICBzZXRNdXRlZChmYWxzZSk7XG4gICAgICAgIHNldFZpZGVvT2ZmKGZhbHNlKTtcbiAgICAgICAgc2V0RWxhcHNlZCgwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHVuc3ViU3RyZWFtID0gd2VicnRjTWFuYWdlci5vblN0cmVhbSgobG9jYWwsIHJlbW90ZSkgPT4ge1xuICAgICAgc2V0TG9jYWxTdHJlYW0obG9jYWwpO1xuICAgICAgc2V0UmVtb3RlU3RyZWFtKHJlbW90ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJTdGF0ZSgpO1xuICAgICAgdW5zdWJTdHJlYW0oKTtcbiAgICAgIHdlYnJ0Y01hbmFnZXIuZGVzdHJveSgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsb2NhbFZpZGVvUmVmLmN1cnJlbnQgJiYgbG9jYWxTdHJlYW0pIHtcbiAgICAgIGxvY2FsVmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBsb2NhbFN0cmVhbTtcbiAgICB9XG4gIH0sIFtsb2NhbFN0cmVhbV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlbW90ZVZpZGVvUmVmLmN1cnJlbnQgJiYgcmVtb3RlU3RyZWFtKSB7XG4gICAgICByZW1vdGVWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHJlbW90ZVN0cmVhbTtcbiAgICB9XG4gIH0sIFtyZW1vdGVTdHJlYW1dKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjYWxsU3RhdGUgIT09ICdjb25uZWN0ZWQnKSByZXR1cm47XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZXRFbGFwc2VkKE1hdGguZmxvb3IoKERhdGUubm93KCkgLSB3ZWJydGNNYW5hZ2VyLmNhbGxTdGFydFRpbWUpIC8gMTAwMCkpO1xuICAgIH0sIDEwMDApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW2NhbGxTdGF0ZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZU11dGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgaXNNdXRlZCA9IHdlYnJ0Y01hbmFnZXIudG9nZ2xlTXV0ZSgpO1xuICAgIHNldE11dGVkKGlzTXV0ZWQpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlVmlkZW8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgaXNPZmYgPSB3ZWJydGNNYW5hZ2VyLnRvZ2dsZVZpZGVvKCk7XG4gICAgc2V0VmlkZW9PZmYoaXNPZmYpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY29udGFjdCA9IHJlbW90ZVB1YmtleSA/IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gcmVtb3RlUHVia2V5KSA6IG51bGw7XG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gY29udGFjdD8ubmFtZSB8fCAocmVtb3RlUHVia2V5ID8gbm9zdHJDbGllbnQuc2hvcnRlbktleShyZW1vdGVQdWJrZXkpIDogJ9Cd0LXQuNC30LLQtdGB0YLQvdGL0LknKTtcblxuICBjb25zdCBmb3JtYXRFbGFwc2VkID0gKHM6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHMgLyA2MCk7XG4gICAgY29uc3Qgc2VjID0gcyAlIDYwO1xuICAgIHJldHVybiBgJHttLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gIH07XG5cbiAgLy8g0J/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YMg0LTQsNC20LUg0LrQvtCz0LTQsCDQt9Cy0L7QvdC+0Log0L3QtSDQsNC60YLQuNCy0LXQvVxuICBpZiAoY2FsbFN0YXRlID09PSAnaWRsZScgJiYgIWNhbGxFcnJvcikgcmV0dXJuIG51bGw7XG5cbiAgLy8g0KLQvtC70YzQutC+INC+0YjQuNCx0LrQsCDigJQg0LzQsNC70LXQvdGM0LrQuNC5INGC0L7RgdGCXG4gIGlmIChjYWxsU3RhdGUgPT09ICdpZGxlJyAmJiBjYWxsRXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IC0yMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgeTogLTIwIH19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiB6LVsxMDBdIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTUgcHktMyBiZy1yZWQvOTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLTJ4bCBzaGFkb3ctMnhsIHNoYWRvdy1yZWQvMjAgdGV4dC13aGl0ZSB0ZXh0LXNtIG1heC13LW1kXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctNSBoLTUgc2hyaW5rLTBcIiAvPlxuICAgICAgICAgIDxzcGFuPntjYWxsRXJyb3J9PC9zcGFuPlxuICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVsxMDBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICAgID5cbiAgICAgICAgey8qINCk0L7QvSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWJnLzk1IGJhY2tkcm9wLWJsdXIteGxcIiAvPlxuXG4gICAgICAgIHsvKiDQktC40LTQtdC+INC00LvRjyDQstC40LTQtdC+0LfQstC+0L3QutCwICovfVxuICAgICAgICB7Y2FsbFR5cGUgPT09ICd2aWRlbycgJiYgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICByZWY9e3JlbW90ZVZpZGVvUmVmfVxuICAgICAgICAgICAgICBhdXRvUGxheVxuICAgICAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMjBcIiAvPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBzY2FsZTogMC44LCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgc2NhbGU6IDEsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCB3LTMyIGgtNDQgc206dy00MCBzbTpoLTU2IHJvdW5kZWQtMnhsIG92ZXJmbG93LWhpZGRlbiBib3JkZXItMiBib3JkZXItd2hpdGUvMjAgc2hhZG93LTJ4bCB6LTEwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAgICAgcmVmPXtsb2NhbFZpZGVvUmVmfVxuICAgICAgICAgICAgICAgIGF1dG9QbGF5XG4gICAgICAgICAgICAgICAgcGxheXNJbmxpbmVcbiAgICAgICAgICAgICAgICBtdXRlZFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06ICdzY2FsZVgoLTEpJyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiDQkNGD0LTQuNC+0LfQstC+0L3QvtC6IC8g0JLRi9C30L7QsiAvINCS0YXQvtC00Y/RidC40LkgKi99XG4gICAgICAgIHsoY2FsbFR5cGUgPT09ICdhdWRpbycgfHwgY2FsbFN0YXRlICE9PSAnY29ubmVjdGVkJykgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgeyhjYWxsU3RhdGUgPT09ICdjYWxsaW5nJyB8fCBjYWxsU3RhdGUgPT09ICdyaW5naW5nJykgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy00MCBoLTQwIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItYWNjZW50LzIwIGFuaW1hdGUtcHVsc2UtcmluZ1wiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTU2IGgtNTYgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItYWNjZW50LzEwIGFuaW1hdGUtcHVsc2UtcmluZ1wiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMC41cycgfX0gLz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IHNjYWxlOiAwLjUgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBzY2FsZTogMSB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IHR5cGU6ICdzcHJpbmcnLCBzdGlmZm5lc3M6IDIwMCB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgICAgcHVia2V5PXtyZW1vdGVQdWJrZXkgfHwgJyd9XG4gICAgICAgICAgICAgICAgbmFtZT17Y29udGFjdD8ubmFtZX1cbiAgICAgICAgICAgICAgICBwaWN0dXJlPXtjb250YWN0Py5waWN0dXJlfVxuICAgICAgICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgICAgICAgc2hvd0JvcmRlcj17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICAgICAgPG1vdGlvbi5oMlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDEwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjEgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lfVxuICAgICAgICAgICAgPC9tb3Rpb24uaDI+XG5cbiAgICAgICAgICAgIDxtb3Rpb24ucFxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuMiB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjYWxsU3RhdGUgPT09ICdjYWxsaW5nJyAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYW5pbWF0ZS1jYWxsLXB1bHNlXCI+0JLRi9C30L7Qsi4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2NhbGxTdGF0ZSA9PT0gJ3JpbmdpbmcnICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhbmltYXRlLWNhbGwtcHVsc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxQaG9uZUluY29taW5nIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAg0JLRhdC+0LTRj9GJ0LjQuSB7Y2FsbFR5cGUgPT09ICd2aWRlbycgPyAn0LLQuNC00LXQvicgOiAn0LDRg9C00LjQvid9INC30LLQvtC90L7QulxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2NhbGxTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW5cIj57Zm9ybWF0RWxhcHNlZChlbGFwc2VkKX08L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L21vdGlvbi5wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiDQmNC90YTQviDQstC40LTQtdC+0LfQstC+0L3QutCwICovfVxuICAgICAgICB7Y2FsbFR5cGUgPT09ICd2aWRlbycgJiYgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTQgei0xMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtMnhsIHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgPEF2YXRhciBwdWJrZXk9e3JlbW90ZVB1YmtleSB8fCAnJ30gbmFtZT17Y29udGFjdD8ubmFtZX0gcGljdHVyZT17Y29udGFjdD8ucGljdHVyZX0gc2l6ZT1cInhzXCIgc2hvd0JvcmRlciAvPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlXCI+e2Rpc3BsYXlOYW1lfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyZWVuXCI+e2Zvcm1hdEVsYXBzZWQoZWxhcHNlZCl9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qINCa0L3QvtC/0LrQuCDRg9C/0YDQsNCy0LvQtdC90LjRjyAqL31cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBpbml0aWFsPXt7IHk6IDUwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgYW5pbWF0ZT17eyB5OiAwLCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgdHJhbnNpdGlvbj17eyBkZWxheTogMC4zIH19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTggc206Ym90dG9tLTEyIGxlZnQtMCByaWdodC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC00IHotMTBcIlxuICAgICAgICA+XG4gICAgICAgICAgey8qINCS0YXQvtC00Y/RidC40Lk6INCf0YDQuNC90Y/RgtGMIC8g0J7RgtC60LvQvtC90LjRgtGMICovfVxuICAgICAgICAgIHtjYWxsU3RhdGUgPT09ICdyaW5naW5nJyAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLnJlamVjdENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLXJlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgc2hhZG93LXJlZC8zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGhvbmVPZmYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLmFjY2VwdENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLWdyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyBzaGFkb3ctZ3JlZW4vMzBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFBob25lIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7Lyog0JIg0LfQstC+0L3QutC1ICovfVxuICAgICAgICAgIHsoY2FsbFN0YXRlID09PSAnY2FsbGluZycgfHwgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJykgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjEgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlTXV0ZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTE0IGgtMTQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICBtdXRlZCA/ICdiZy1yZWQvMjAgdGV4dC1yZWQnIDogJ2JnLXdoaXRlLzEwIHRleHQtd2hpdGUgaG92ZXI6Ymctd2hpdGUvMjAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bXV0ZWQgPyA8TWljT2ZmIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPiA6IDxNaWMgY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+fVxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG5cbiAgICAgICAgICAgICAge2NhbGxUeXBlID09PSAndmlkZW8nICYmIChcbiAgICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVWaWRlb31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTQgaC0xNCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9PZmYgPyAnYmctcmVkLzIwIHRleHQtcmVkJyA6ICdiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3ZpZGVvT2ZmID8gPFZpZGVvT2ZmIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPiA6IDxWaWRlbyBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz59XG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdlYnJ0Y01hbmFnZXIuZW5kQ2FsbCgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctcmVkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyBzaGFkb3ctcmVkLzMwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQaG9uZU9mZiBjbGFzc05hbWU9XCJ3LTcgaC03IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICA8L21vdGlvbi5kaXY+XG4gICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsIlBob25lIiwiUGhvbmVPZmYiLCJWaWRlbyIsIlZpZGVvT2ZmIiwiTWljIiwiTWljT2ZmIiwiUGhvbmVJbmNvbWluZyIsIkFsZXJ0VHJpYW5nbGUiLCJ3ZWJydGNNYW5hZ2VyIiwibm9zdHJDbGllbnQiLCJ1c2VBcHBTdGF0ZSIsIkF2YXRhciIsIkNhbGxPdmVybGF5IiwiY29udGFjdHMiLCJjYWxsU3RhdGUiLCJzZXRDYWxsU3RhdGUiLCJyZW1vdGVQdWJrZXkiLCJzZXRSZW1vdGVQdWJrZXkiLCJjYWxsVHlwZSIsInNldENhbGxUeXBlIiwibXV0ZWQiLCJzZXRNdXRlZCIsInZpZGVvT2ZmIiwic2V0VmlkZW9PZmYiLCJlbGFwc2VkIiwic2V0RWxhcHNlZCIsImxvY2FsU3RyZWFtIiwic2V0TG9jYWxTdHJlYW0iLCJyZW1vdGVTdHJlYW0iLCJzZXRSZW1vdGVTdHJlYW0iLCJjYWxsRXJyb3IiLCJzZXRDYWxsRXJyb3IiLCJsb2NhbFZpZGVvUmVmIiwicmVtb3RlVmlkZW9SZWYiLCJpbml0IiwidW5zdWJTdGF0ZSIsIm9uU3RhdGVDaGFuZ2UiLCJzdGF0ZSIsInB1YmtleSIsInR5cGUiLCJlcnJvciIsInNldFRpbWVvdXQiLCJ1bnN1YlN0cmVhbSIsIm9uU3RyZWFtIiwibG9jYWwiLCJyZW1vdGUiLCJkZXN0cm95IiwiY3VycmVudCIsInNyY09iamVjdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiY2FsbFN0YXJ0VGltZSIsImNsZWFySW50ZXJ2YWwiLCJoYW5kbGVUb2dnbGVNdXRlIiwiaXNNdXRlZCIsInRvZ2dsZU11dGUiLCJoYW5kbGVUb2dnbGVWaWRlbyIsImlzT2ZmIiwidG9nZ2xlVmlkZW8iLCJjb250YWN0IiwiZmluZCIsImMiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJzaG9ydGVuS2V5IiwiZm9ybWF0RWxhcHNlZCIsInMiLCJtIiwic2VjIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImRpdiIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsImFuaW1hdGUiLCJleGl0IiwiY2xhc3NOYW1lIiwic3BhbiIsInZpZGVvIiwicmVmIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsInNjYWxlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJhbmltYXRpb25EZWxheSIsInRyYW5zaXRpb24iLCJzdGlmZm5lc3MiLCJwaWN0dXJlIiwic2l6ZSIsInNob3dCb3JkZXIiLCJoMiIsImRlbGF5IiwiZm9udEZhbWlseSIsInAiLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJvbkNsaWNrIiwicmVqZWN0Q2FsbCIsImFjY2VwdENhbGwiLCJlbmRDYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/CallOverlay.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatView.tsx":
/*!*************************************!*\
  !*** ./src/components/ChatView.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/menu.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/reply.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _lib_chunkStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n/* harmony import */ var _lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/fileUtils */ \"(ssr)/./src/lib/fileUtils.ts\");\n/* harmony import */ var _lib_webrtc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/webrtc */ \"(ssr)/./src/lib/webrtc.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\n\n\n\n\nfunction Highlight({ text, highlight }) {\n    if (!highlight.trim()) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            children: text\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n            lineNumber: 37,\n            columnNumber: 12\n        }, this);\n    }\n    const regex = new RegExp(`(${highlight})`, \"gi\");\n    const parts = text.split(regex);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        children: parts.map((part, i)=>regex.test(part) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mark\", {\n                className: \"bg-yellow-300 text-black rounded-sm\",\n                children: part\n            }, i, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 46,\n                columnNumber: 11\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: part\n            }, i, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 50,\n                columnNumber: 11\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, this);\n}\nfunction ChatView() {\n    const { activeChat, contacts, channels } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.useAppState)();\n    const isChannel = !!activeChat && activeChat.startsWith(\"channel:\");\n    const channelId = isChannel ? activeChat.slice(\"channel:\".length) : \"\";\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [pendingAttachment, setPendingAttachment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sendProgress, setSendProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [replyTo, setReplyTo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewImage, setPreviewImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearchVisible, setIsSearchVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const contact = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>contacts.find((c)=>c.pubkey === activeChat), [\n        contacts,\n        activeChat\n    ]);\n    const channel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>channels.find((c)=>c.id === channelId), [\n        channels,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isSearchVisible) {\n            searchInputRef.current?.focus();\n        }\n    }, [\n        isSearchVisible\n    ]);\n    const filteredMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!searchQuery.trim()) return messages;\n        return messages.filter((msg)=>msg.content?.toLowerCase().includes(searchQuery.toLowerCase()));\n    }, [\n        messages,\n        searchQuery\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat) return;\n        if (isChannel) {\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n        } else {\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.requestProfile(activeChat);\n        }\n        setPendingAttachment(null);\n        setSendProgress(null);\n        setReplyTo(null);\n        setError(\"\");\n    }, [\n        activeChat,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubMsg = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onMessage((msg)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n            if (!activeChat || isChannel) return;\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n        });\n        const unsubChannel = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onChannelMessage((msg)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addChannelMessage)(msg);\n            if (!channelId || !isChannel || msg.channelId !== channelId) return;\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n        });\n        return ()=>{\n            unsubMsg();\n            unsubChannel();\n        };\n    }, [\n        activeChat,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsub = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onProfile((pubkey, profile)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.updateContactProfile)(pubkey, profile.name, profile.picture, profile.about);\n        });\n        return unsub;\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat) return;\n        setMessages(isChannel ? (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId) : (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n    }, [\n        activeChat,\n        contacts,\n        channels,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (searchQuery) return;\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages,\n        searchQuery\n    ]);\n    const handleSend = async ()=>{\n        if (!input.trim() && !pendingAttachment || !activeChat || sending) return;\n        const text = input.trim();\n        setInput(\"\");\n        setSending(true);\n        setError(\"\");\n        setSendProgress(null);\n        try {\n            if (isChannel) {\n                if (pendingAttachment) throw new Error(\"Attachments are not supported in public channels.\");\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendChannelMessage(channelId, text, replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addChannelMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n            } else if (pendingAttachment) {\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendAttachment(activeChat, pendingAttachment, text, (sent, total)=>setSendProgress({\n                        sent,\n                        total\n                    }), replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n                setPendingAttachment(null);\n            } else {\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendDirectMessage(activeChat, text, replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n            }\n            setReplyTo(null);\n            setSendProgress(null);\n        } catch (err) {\n            setError(err.message || \"Failed to send\");\n        } finally{\n            setSending(false);\n        }\n    };\n    const handleCall = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type)=>{\n        if (!activeChat || isChannel) return;\n        _lib_webrtc__WEBPACK_IMPORTED_MODULE_7__.webrtcManager.initiateCall(activeChat, type);\n    }, [\n        activeChat,\n        isChannel\n    ]);\n    const handleFileSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        e.target.value = \"\";\n        setError(\"\");\n        try {\n            const attachment = await (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.processFile)(file);\n            if (attachment) setPendingAttachment(attachment);\n        } catch (err) {\n            setError(err.message);\n        }\n    }, []);\n    const handleCopy = async (text, id)=>{\n        await navigator.clipboard.writeText(text);\n        setCopied(id);\n        setTimeout(()=>setCopied(\"\"), 1400);\n    };\n    const handleDownload = async (msg)=>{\n        if (!msg.attachment) return;\n        if (msg.attachment.chunked && msg.attachment.transferId) {\n            await (0,_lib_chunkStore__WEBPACK_IMPORTED_MODULE_5__.downloadChunkedTransfer)(msg.attachment.transferId, msg.attachment.name, msg.attachment.mimeType);\n            return;\n        }\n        (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.downloadAttachment)(msg.attachment);\n    };\n    if (!activeChat) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex-1 flex items-center justify-center bg-bg\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-text mb-2\",\n                        style: {\n                            fontFamily: \"Space Grotesk\"\n                        },\n                        children: \"Anonymous Decentralized Messenger\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 218,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-text-secondary text-sm\",\n                        children: \"Choose contact or channel to start.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 219,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 217,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n            lineNumber: 216,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col bg-bg h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-b border-border bg-bg-secondary/50 backdrop-blur-sm flex items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: _lib_store__WEBPACK_IMPORTED_MODULE_4__.toggleSidebar,\n                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary lg:hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 229,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 228,\n                        columnNumber: 9\n                    }, this),\n                    isChannel ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-8 h-8 rounded-full bg-cyan/15 border border-cyan/25 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            className: \"w-4 h-4 text-cyan\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 234,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        pubkey: activeChat,\n                        name: contact?.name,\n                        picture: contact?.picture,\n                        size: \"sm\",\n                        showBorder: true\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 237,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                            initial: false,\n                            mode: \"wait\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: -10\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0,\n                                    y: 10\n                                },\n                                transition: {\n                                    duration: 0.2\n                                },\n                                className: \"w-full\",\n                                children: isSearchVisible ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-full\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                            className: \"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 252,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: searchInputRef,\n                                            type: \"text\",\n                                            value: searchQuery,\n                                            onChange: (e)=>setSearchQuery(e.target.value),\n                                            placeholder: \"Search in chat...\",\n                                            className: \"w-full bg-bg-tertiary border border-border rounded-lg pl-8 pr-8 py-1 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 253,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setIsSearchVisible(false);\n                                                setSearchQuery(\"\");\n                                            },\n                                            className: \"absolute right-2 top-1/2 -translate-y-1/2 p-0.5 text-text-muted hover:text-text\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 261,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 251,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm font-medium text-text truncate\",\n                                            children: isChannel ? `# ${channel?.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(channelId)}` : contact?.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(activeChat)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 267,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[10px] text-text-muted\",\n                                            children: isChannel ? \"Public channel over relays\" : \"Encrypted DM over relays\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 270,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 266,\n                                    columnNumber: 17\n                                }, this)\n                            }, isSearchVisible ? \"search\" : \"title\", false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 241,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setIsSearchVisible(!isSearchVisible),\n                                className: `p-2 rounded-lg hover:bg-bg-hover transition-colors ${isSearchVisible ? \"bg-bg-tertiary text-accent\" : \"text-text-muted hover:text-text-secondary\"}`,\n                                title: \"Search\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 281,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 11\n                            }, this),\n                            !isChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCall(\"audio\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-green transition-colors\",\n                                        title: \"Audio call\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 285,\n                                            columnNumber: 174\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCall(\"video\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                        title: \"Video call\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 286,\n                                            columnNumber: 175\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCopy(activeChat, \"header\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-text-secondary transition-colors\",\n                                        title: \"Copy key\",\n                                        children: copied === \"header\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                            className: \"w-4 h-4 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 288,\n                                            columnNumber: 40\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 288,\n                                            columnNumber: 83\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 287,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 279,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 227,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto px-4 py-4 space-y-2\",\n                children: [\n                    filteredMessages.map((msg)=>{\n                        const isMe = msg.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                            initial: {\n                                opacity: 0,\n                                y: 8\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            className: `flex ${isMe ? \"justify-end\" : \"justify-start\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `group relative max-w-[78%] rounded-2xl text-sm overflow-hidden ${isMe ? \"bg-accent text-white rounded-br-md\" : \"bg-bg-secondary border border-border text-text rounded-bl-md\"}`,\n                                children: [\n                                    msg.replyTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `mx-2 mt-2 px-2 py-1 rounded-md text-[11px] ${isMe ? \"bg-white/15 text-white/80\" : \"bg-bg-tertiary text-text-secondary\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium truncate\",\n                                                children: msg.replyTo.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey ? \"You\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(msg.replyTo.from)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 303,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"truncate\",\n                                                children: msg.replyTo.text\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 304,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 302,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.msgType === \"image\" && msg.attachment && !msg.attachment.chunked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"cursor-pointer\",\n                                        onClick: ()=>setPreviewImage(`data:${msg.attachment.mimeType};base64,${msg.attachment.data}`),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            src: `data:${msg.attachment.mimeType};base64,${msg.attachment.data}`,\n                                            alt: msg.attachment.name,\n                                            width: 300,\n                                            height: 200,\n                                            className: \"max-w-full max-h-64 rounded-t-2xl object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 310,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 309,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.attachment && msg.msgType === \"file\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 px-3.5 pt-3 cursor-pointer\",\n                                        onClick: ()=>handleDownload(msg),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-10 h-10 rounded-xl flex items-center justify-center text-lg ${isMe ? \"bg-white/15\" : \"bg-bg-tertiary\"}`,\n                                                children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.getFileIcon)(msg.attachment.mimeType)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 316,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs font-medium truncate ${isMe ? \"text-white\" : \"text-text\"}`,\n                                                        children: msg.attachment.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 320,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-[10px] ${isMe ? \"text-white/60\" : \"text-text-muted\"}`,\n                                                        children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(msg.attachment.size)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 321,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 319,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: `w-4 h-4 shrink-0 ${isMe ? \"text-white/60\" : \"text-text-muted\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 323,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 315,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.attachment && msg.msgType === \"image\" && msg.attachment.chunked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 px-3.5 pt-3 cursor-pointer\",\n                                        onClick: ()=>handleDownload(msg),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-10 h-10 rounded-xl flex items-center justify-center text-lg ${isMe ? \"bg-white/15\" : \"bg-bg-tertiary\"}`,\n                                                children: \"\\uD83D\\uDDBC\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 329,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs font-medium truncate ${isMe ? \"text-white\" : \"text-text\"}`,\n                                                        children: msg.attachment.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 331,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-[10px] ${isMe ? \"text-white/60\" : \"text-text-muted\"}`,\n                                                        children: \"Chunked image, click to download\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 332,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 330,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: `w-4 h-4 shrink-0 ${isMe ? \"text-white/60\" : \"text-text-muted\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 334,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 328,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3.5 py-2.5\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"whitespace-pre-wrap break-words\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Highlight, {\n                                                text: msg.content,\n                                                highlight: searchQuery\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 341,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 340,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 339,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `flex items-center gap-1 px-3.5 pb-2 ${isMe ? \"justify-end\" : \"justify-start\"}`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-[10px] ${isMe ? \"text-white/50\" : \"text-text-muted\"}`,\n                                            children: new Date(msg.timestamp).toLocaleTimeString([], {\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 347,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 346,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `absolute top-1 ${isMe ? \"left-0 -translate-x-9\" : \"right-0 translate-x-9\"} flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity`,\n                                        children: [\n                                            msg.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleCopy(msg.content, msg.id),\n                                                className: \"p-1 rounded bg-bg-secondary border border-border\",\n                                                children: copied === msg.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                    className: \"w-3 h-3 text-green\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 355,\n                                                    columnNumber: 44\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    className: \"w-3 h-3 text-text-muted\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 355,\n                                                    columnNumber: 87\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 354,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setReplyTo({\n                                                        id: msg.id,\n                                                        from: msg.from,\n                                                        text: msg.content || msg.attachment?.name || \"\"\n                                                    }),\n                                                className: \"p-1 rounded bg-bg-secondary border border-border\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                    className: \"w-3 h-3 text-text-muted\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 359,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 358,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 352,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 300,\n                                columnNumber: 15\n                            }, this)\n                        }, msg.id, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 299,\n                            columnNumber: 13\n                        }, this);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 366,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 295,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                children: replyTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 py-2 border-t border-border bg-bg-secondary/40 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-start justify-between gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-[11px] text-text-muted\",\n                                        children: [\n                                            \"Reply to \",\n                                            replyTo.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey ? \"you\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(replyTo.from)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 374,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-text-secondary truncate\",\n                                        children: replyTo.text || \"(attachment)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 375,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 373,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setReplyTo(null),\n                                className: \"p-1.5 rounded hover:bg-bg-hover\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"w-3.5 h-3.5 text-text-muted\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 100\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 377,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 372,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 371,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 369,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                children: pendingAttachment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 border-t border-border bg-bg-secondary/30 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-3 flex items-center gap-3\",\n                        children: [\n                            pendingAttachment.type === \"image\" && pendingAttachment.data ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 rounded-xl overflow-hidden border border-border shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: `data:${pendingAttachment.mimeType};base64,${pendingAttachment.data}`,\n                                    alt: \"Attachment preview\",\n                                    width: 64,\n                                    height: 64,\n                                    className: \"w-full h-full object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 389,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 388,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 rounded-xl bg-bg-tertiary border border-border flex items-center justify-center text-2xl shrink-0\",\n                                children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.getFileIcon)(pendingAttachment.mimeType)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 392,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-text truncate\",\n                                        children: pendingAttachment.name\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 395,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-text-muted\",\n                                        children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(pendingAttachment.size)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 394,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setPendingAttachment(null),\n                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-red transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 399,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 398,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 386,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 385,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 383,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                children: sendProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 border-t border-border bg-bg-secondary/30 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between text-xs text-text-secondary mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                className: \"w-3 h-3 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 412,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Uploading...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 411,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            sendProgress.sent,\n                                            \"/\",\n                                            sendProgress.total,\n                                            \" chunks\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 415,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 410,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full h-1.5 bg-bg-tertiary rounded-full overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                                    className: \"h-full bg-accent rounded-full\",\n                                    initial: {\n                                        width: 0\n                                    },\n                                    animate: {\n                                        width: `${sendProgress.sent / sendProgress.total * 100}%`\n                                    },\n                                    transition: {\n                                        duration: 0.2\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 418,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 417,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 409,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 408,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 406,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                children: error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 py-2 bg-red-dim border-t border-red/20\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-red\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 428,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 427,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 425,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-t border-border bg-bg-secondary/30\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-end gap-2\",\n                    children: [\n                        !isChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-0.5 pb-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>imageInputRef.current?.click(),\n                                    className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                    title: \"Send image\",\n                                    disabled: sending,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 438,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 437,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>fileInputRef.current?.click(),\n                                    className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                    title: \"Send file\",\n                                    disabled: sending,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 441,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 440,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 436,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: imageInputRef,\n                            type: \"file\",\n                            accept: \"image/*\",\n                            className: \"hidden\",\n                            onChange: handleFileSelect\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: fileInputRef,\n                            type: \"file\",\n                            className: \"hidden\",\n                            onChange: handleFileSelect\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 447,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\" && !e.shiftKey) {\n                                    e.preventDefault();\n                                    handleSend();\n                                }\n                            },\n                            placeholder: pendingAttachment ? \"Add caption...\" : isChannel ? \"Post message to channel...\" : \"Write message...\",\n                            rows: 1,\n                            disabled: sending,\n                            className: \"flex-1 bg-bg-tertiary border border-border rounded-xl px-4 py-3 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none max-h-32 disabled:opacity-50\",\n                            style: {\n                                minHeight: \"44px\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 449,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.button, {\n                            whileHover: {\n                                scale: sending ? 1 : 1.05\n                            },\n                            whileTap: {\n                                scale: sending ? 1 : 0.95\n                            },\n                            onClick: handleSend,\n                            disabled: !input.trim() && !pendingAttachment || sending,\n                            className: \"p-3 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-colors shrink-0\",\n                            children: sending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                className: \"w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 466,\n                                columnNumber: 24\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 466,\n                                columnNumber: 71\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 465,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 434,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 433,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                children: previewImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                    initial: {\n                        opacity: 0\n                    },\n                    animate: {\n                        opacity: 1\n                    },\n                    exit: {\n                        opacity: 0\n                    },\n                    className: \"fixed inset-0 z-[90] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4\",\n                    onClick: ()=>setPreviewImage(null),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"absolute top-4 right-4 p-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors z-10\",\n                            onClick: ()=>setPreviewImage(null),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                className: \"w-6 h-6\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 475,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 474,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                            initial: {\n                                scale: 0.9\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            exit: {\n                                scale: 0.9\n                            },\n                            className: \"relative max-w-full max-h-full\",\n                            onClick: (e)=>e.stopPropagation(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                src: previewImage,\n                                alt: \"Image preview\",\n                                layout: \"fill\",\n                                objectFit: \"contain\",\n                                className: \"rounded-lg\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 478,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 477,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 473,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 471,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n        lineNumber: 226,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQUU7b0JBQUdFLFNBQVM7d0JBQUVGLFNBQVM7b0JBQUU7b0JBQUdHLE1BQU07d0JBQUVILFNBQVM7b0JBQUU7b0JBQUd2RyxXQUFVO29CQUF5RmtHLFNBQVMsSUFBTTNFLGdCQUFnQjs7c0NBQ3BOLDhEQUFDMEU7NEJBQU9qRyxXQUFVOzRCQUF3R2tHLFNBQVMsSUFBTTNFLGdCQUFnQjtzQ0FDdkosNEVBQUN0RCxrS0FBQ0E7Z0NBQUMrQixXQUFVOzs7Ozs7Ozs7OztzQ0FFZiw4REFBQzlDLGtEQUFNQSxDQUFDMEksR0FBRzs0QkFBQ1MsU0FBUztnQ0FBRXNDLE9BQU87NEJBQUk7NEJBQUdsQyxTQUFTO2dDQUFFa0MsT0FBTzs0QkFBRTs0QkFBR2pDLE1BQU07Z0NBQUVpQyxPQUFPOzRCQUFJOzRCQUFHM0ksV0FBVTs0QkFBaUNrRyxTQUFTckIsQ0FBQUEsSUFBS0EsRUFBRWdFLGVBQWU7c0NBQzFKLDRFQUFDM0ssa0RBQVNBO2dDQUFDcUosS0FBS2pHO2dDQUFja0csS0FBSTtnQ0FBZ0JzQixRQUFPO2dDQUFPQyxXQUFVO2dDQUFVL0ksV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU81RyIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9DaGF0Vmlldy50c3g/NDFiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7XG4gIENoZWNrLFxuICBDb3B5LFxuICBEb3dubG9hZCxcbiAgSGFzaCxcbiAgSW1hZ2UgYXMgSW1hZ2VJY29uLFxuICBMb2FkZXIyLFxuICBNZW51LFxuICBQYXBlcmNsaXAsXG4gIFBob25lLFxuICBSZXBseSxcbiAgU2VuZCxcbiAgU2VhcmNoLFxuICBWaWRlbyxcbiAgWCxcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCBOZXh0SW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyBub3N0ckNsaWVudCwgdHlwZSBBdHRhY2htZW50LCB0eXBlIERpcmVjdE1lc3NhZ2UsIHR5cGUgUmVwbHlSZWYgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHtcbiAgYWRkQ2hhbm5lbE1lc3NhZ2UsXG4gIGFkZE1lc3NhZ2UsXG4gIGdldENoYW5uZWxNZXNzYWdlcyxcbiAgZ2V0TWVzc2FnZXMsXG4gIHRvZ2dsZVNpZGViYXIsXG4gIHVwZGF0ZUNvbnRhY3RQcm9maWxlLFxuICB1c2VBcHBTdGF0ZSxcbn0gZnJvbSAnLi4vbGliL3N0b3JlJztcbmltcG9ydCB7IGRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIH0gZnJvbSAnLi4vbGliL2NodW5rU3RvcmUnO1xuaW1wb3J0IHsgZG93bmxvYWRBdHRhY2htZW50LCBmb3JtYXRGaWxlU2l6ZSwgZ2V0RmlsZUljb24sIHByb2Nlc3NGaWxlIH0gZnJvbSAnLi4vbGliL2ZpbGVVdGlscyc7XG5pbXBvcnQgeyB3ZWJydGNNYW5hZ2VyIH0gZnJvbSAnLi4vbGliL3dlYnJ0Yyc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJy4vQXZhdGFyJztcblxuZnVuY3Rpb24gSGlnaGxpZ2h0KHsgdGV4dCwgaGlnaGxpZ2h0IH06IHsgdGV4dDogc3RyaW5nOyBoaWdobGlnaHQ6IHN0cmluZyB9KSB7XG4gIGlmICghaGlnaGxpZ2h0LnRyaW0oKSkge1xuICAgIHJldHVybiA8c3Bhbj57dGV4dH08L3NwYW4+O1xuICB9XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7aGlnaGxpZ2h0fSlgLCAnZ2knKTtcbiAgY29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KHJlZ2V4KTtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuPlxuICAgICAge3BhcnRzLm1hcCgocGFydCwgaSkgPT5cbiAgICAgICAgcmVnZXgudGVzdChwYXJ0KSA/IChcbiAgICAgICAgICA8bWFyayBrZXk9e2l9IGNsYXNzTmFtZT1cImJnLXllbGxvdy0zMDAgdGV4dC1ibGFjayByb3VuZGVkLXNtXCI+XG4gICAgICAgICAgICB7cGFydH1cbiAgICAgICAgICA8L21hcms+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHNwYW4ga2V5PXtpfT57cGFydH08L3NwYW4+XG4gICAgICAgICksXG4gICAgICApfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFZpZXcoKSB7XG4gIGNvbnN0IHsgYWN0aXZlQ2hhdCwgY29udGFjdHMsIGNoYW5uZWxzIH0gPSB1c2VBcHBTdGF0ZSgpO1xuICBjb25zdCBpc0NoYW5uZWwgPSAhIWFjdGl2ZUNoYXQgJiYgYWN0aXZlQ2hhdC5zdGFydHNXaXRoKCdjaGFubmVsOicpO1xuICBjb25zdCBjaGFubmVsSWQgPSBpc0NoYW5uZWwgPyBhY3RpdmVDaGF0IS5zbGljZSgnY2hhbm5lbDonLmxlbmd0aCkgOiAnJztcblxuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlbmRpbmcsIHNldFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPERpcmVjdE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbcGVuZGluZ0F0dGFjaG1lbnQsIHNldFBlbmRpbmdBdHRhY2htZW50XSA9IHVzZVN0YXRlPEF0dGFjaG1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbmRQcm9ncmVzcywgc2V0U2VuZFByb2dyZXNzXSA9IHVzZVN0YXRlPHsgc2VudDogbnVtYmVyOyB0b3RhbDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlcGx5VG8sIHNldFJlcGx5VG9dID0gdXNlU3RhdGU8UmVwbHlSZWYgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3ByZXZpZXdJbWFnZSwgc2V0UHJldmlld0ltYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1NlYXJjaFZpc2libGUsIHNldElzU2VhcmNoVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbWFnZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNlYXJjaElucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IGNvbnRhY3QgPSB1c2VNZW1vKCgpID0+IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gYWN0aXZlQ2hhdCksIFtjb250YWN0cywgYWN0aXZlQ2hhdF0pO1xuICBjb25zdCBjaGFubmVsID0gdXNlTWVtbygoKSA9PiBjaGFubmVscy5maW5kKGMgPT4gYy5pZCA9PT0gY2hhbm5lbElkKSwgW2NoYW5uZWxzLCBjaGFubmVsSWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1NlYXJjaFZpc2libGUpIHtcbiAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbaXNTZWFyY2hWaXNpYmxlXSk7XG5cbiAgY29uc3QgZmlsdGVyZWRNZXNzYWdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VhcmNoUXVlcnkudHJpbSgpKSByZXR1cm4gbWVzc2FnZXM7XG4gICAgcmV0dXJuIG1lc3NhZ2VzLmZpbHRlcihtc2cgPT4gbXNnLmNvbnRlbnQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkpO1xuICB9LCBbbWVzc2FnZXMsIHNlYXJjaFF1ZXJ5XSk7XG5cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCkgcmV0dXJuO1xuICAgIGlmIChpc0NoYW5uZWwpIHtcbiAgICAgIHNldE1lc3NhZ2VzKGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUoYWN0aXZlQ2hhdCk7XG4gICAgfVxuICAgIHNldFBlbmRpbmdBdHRhY2htZW50KG51bGwpO1xuICAgIHNldFNlbmRQcm9ncmVzcyhudWxsKTtcbiAgICBzZXRSZXBseVRvKG51bGwpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgfSwgW2FjdGl2ZUNoYXQsIGlzQ2hhbm5lbCwgY2hhbm5lbElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1Yk1zZyA9IG5vc3RyQ2xpZW50Lm9uTWVzc2FnZShtc2cgPT4ge1xuICAgICAgYWRkTWVzc2FnZShtc2cpO1xuICAgICAgaWYgKCFhY3RpdmVDaGF0IHx8IGlzQ2hhbm5lbCkgcmV0dXJuO1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVuc3ViQ2hhbm5lbCA9IG5vc3RyQ2xpZW50Lm9uQ2hhbm5lbE1lc3NhZ2UobXNnID0+IHtcbiAgICAgIGFkZENoYW5uZWxNZXNzYWdlKG1zZyk7XG4gICAgICBpZiAoIWNoYW5uZWxJZCB8fCAhaXNDaGFubmVsIHx8IG1zZy5jaGFubmVsSWQgIT09IGNoYW5uZWxJZCkgcmV0dXJuO1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWxJZCkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1Yk1zZygpO1xuICAgICAgdW5zdWJDaGFubmVsKCk7XG4gICAgfTtcbiAgfSwgW2FjdGl2ZUNoYXQsIGlzQ2hhbm5lbCwgY2hhbm5lbElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1YiA9IG5vc3RyQ2xpZW50Lm9uUHJvZmlsZSgocHVia2V5LCBwcm9maWxlKSA9PiB7XG4gICAgICB1cGRhdGVDb250YWN0UHJvZmlsZShwdWJrZXksIHByb2ZpbGUubmFtZSwgcHJvZmlsZS5waWN0dXJlLCBwcm9maWxlLmFib3V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5zdWI7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCkgcmV0dXJuO1xuICAgIHNldE1lc3NhZ2VzKGlzQ2hhbm5lbCA/IGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpIDogZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICB9LCBbYWN0aXZlQ2hhdCwgY29udGFjdHMsIGNoYW5uZWxzLCBpc0NoYW5uZWwsIGNoYW5uZWxJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlYXJjaFF1ZXJ5KSByZXR1cm47XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlcywgc2VhcmNoUXVlcnldKTtcblxuICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICgoIWlucHV0LnRyaW0oKSAmJiAhcGVuZGluZ0F0dGFjaG1lbnQpIHx8ICFhY3RpdmVDaGF0IHx8IHNlbmRpbmcpIHJldHVybjtcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXQudHJpbSgpO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRTZW5kUHJvZ3Jlc3MobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ2hhbm5lbCkge1xuICAgICAgICBpZiAocGVuZGluZ0F0dGFjaG1lbnQpIHRocm93IG5ldyBFcnJvcignQXR0YWNobWVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gcHVibGljIGNoYW5uZWxzLicpO1xuICAgICAgICBjb25zdCBtc2cgPSBhd2FpdCBub3N0ckNsaWVudC5zZW5kQ2hhbm5lbE1lc3NhZ2UoY2hhbm5lbElkLCB0ZXh0LCByZXBseVRvIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgIGFkZENoYW5uZWxNZXNzYWdlKG1zZyk7XG4gICAgICAgIHNldE1lc3NhZ2VzKGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpKTtcbiAgICAgIH0gZWxzZSBpZiAocGVuZGluZ0F0dGFjaG1lbnQpIHtcbiAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgbm9zdHJDbGllbnQuc2VuZEF0dGFjaG1lbnQoXG4gICAgICAgICAgYWN0aXZlQ2hhdCxcbiAgICAgICAgICBwZW5kaW5nQXR0YWNobWVudCxcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIChzZW50LCB0b3RhbCkgPT4gc2V0U2VuZFByb2dyZXNzKHsgc2VudCwgdG90YWwgfSksXG4gICAgICAgICAgcmVwbHlUbyB8fCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICAgIGFkZE1lc3NhZ2UobXNnKTtcbiAgICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgICBzZXRQZW5kaW5nQXR0YWNobWVudChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IG5vc3RyQ2xpZW50LnNlbmREaXJlY3RNZXNzYWdlKGFjdGl2ZUNoYXQsIHRleHQsIHJlcGx5VG8gfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgYWRkTWVzc2FnZShtc2cpO1xuICAgICAgICBzZXRNZXNzYWdlcyhnZXRNZXNzYWdlcyhhY3RpdmVDaGF0KSk7XG4gICAgICB9XG4gICAgICBzZXRSZXBseVRvKG51bGwpO1xuICAgICAgc2V0U2VuZFByb2dyZXNzKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoKGVyciBhcyBFcnJvcikubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2VuZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbGwgPSB1c2VDYWxsYmFjaygodHlwZTogJ2F1ZGlvJyB8ICd2aWRlbycpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUNoYXQgfHwgaXNDaGFubmVsKSByZXR1cm47XG4gICAgd2VicnRjTWFuYWdlci5pbml0aWF0ZUNhbGwoYWN0aXZlQ2hhdCwgdHlwZSk7XG4gIH0sIFthY3RpdmVDaGF0LCBpc0NoYW5uZWxdKTtcblxuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgZS50YXJnZXQudmFsdWUgPSAnJztcbiAgICBzZXRFcnJvcignJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBhd2FpdCBwcm9jZXNzRmlsZShmaWxlKTtcbiAgICAgIGlmIChhdHRhY2htZW50KSBzZXRQZW5kaW5nQXR0YWNobWVudChhdHRhY2htZW50KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKChlcnIgYXMgRXJyb3IpLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNvcHkgPSBhc3luYyAodGV4dDogc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgc2V0Q29waWVkKGlkKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZCgnJyksIDE0MDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gYXN5bmMgKG1zZzogRGlyZWN0TWVzc2FnZSkgPT4ge1xuICAgIGlmICghbXNnLmF0dGFjaG1lbnQpIHJldHVybjtcbiAgICBpZiAobXNnLmF0dGFjaG1lbnQuY2h1bmtlZCAmJiBtc2cuYXR0YWNobWVudC50cmFuc2ZlcklkKSB7XG4gICAgICBhd2FpdCBkb3dubG9hZENodW5rZWRUcmFuc2Zlcihtc2cuYXR0YWNobWVudC50cmFuc2ZlcklkLCBtc2cuYXR0YWNobWVudC5uYW1lLCBtc2cuYXR0YWNobWVudC5taW1lVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvd25sb2FkQXR0YWNobWVudChtc2cuYXR0YWNobWVudCk7XG4gIH07XG5cbiAgaWYgKCFhY3RpdmVDaGF0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC10ZXh0IG1iLTJcIiBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX0+QW5vbnltb3VzIERlY2VudHJhbGl6ZWQgTWVzc2VuZ2VyPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IHRleHQtc21cIj5DaG9vc2UgY29udGFjdCBvciBjaGFubmVsIHRvIHN0YXJ0LjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIGJnLWJnIGgtZnVsbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgYm9yZGVyLWIgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvNTAgYmFja2Ryb3AtYmx1ci1zbSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RvZ2dsZVNpZGViYXJ9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgbGc6aGlkZGVuXCI+XG4gICAgICAgICAgPE1lbnUgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHtpc0NoYW5uZWwgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1jeWFuLzE1IGJvcmRlciBib3JkZXItY3lhbi8yNSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPEhhc2ggY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWN5YW5cIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxBdmF0YXIgcHVia2V5PXthY3RpdmVDaGF0fSBuYW1lPXtjb250YWN0Py5uYW1lfSBwaWN0dXJlPXtjb250YWN0Py5waWN0dXJlfSBzaXplPVwic21cIiBzaG93Qm9yZGVyIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2UgaW5pdGlhbD17ZmFsc2V9IG1vZGU9XCJ3YWl0XCI+XG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBrZXk9e2lzU2VhcmNoVmlzaWJsZSA/ICdzZWFyY2gnIDogJ3RpdGxlJ31cbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAtMTAgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgeTogMTAgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4yIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1NlYXJjaFZpc2libGUgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB3LTQgaC00IHRleHQtdGV4dC1tdXRlZFwiIC8+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtzZWFyY2hJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggaW4gY2hhdC4uLlwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHBsLTggcHItOCBweS0xIHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldElzU2VhcmNoVmlzaWJsZShmYWxzZSk7IHNldFNlYXJjaFF1ZXJ5KCcnKTsgfX0gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgcC0wLjUgdGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0IHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpc0NoYW5uZWwgPyBgIyAke2NoYW5uZWw/Lm5hbWUgfHwgbm9zdHJDbGllbnQuc2hvcnRlbktleShjaGFubmVsSWQpfWAgOiAoY29udGFjdD8ubmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KGFjdGl2ZUNoYXQpKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAge2lzQ2hhbm5lbCA/ICdQdWJsaWMgY2hhbm5lbCBvdmVyIHJlbGF5cycgOiAnRW5jcnlwdGVkIERNIG92ZXIgcmVsYXlzJ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc1NlYXJjaFZpc2libGUoIWlzU2VhcmNoVmlzaWJsZSl9IGNsYXNzTmFtZT17YHAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRyYW5zaXRpb24tY29sb3JzICR7aXNTZWFyY2hWaXNpYmxlID8gJ2JnLWJnLXRlcnRpYXJ5IHRleHQtYWNjZW50JyA6ICd0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC10ZXh0LXNlY29uZGFyeSd9YH0gdGl0bGU9XCJTZWFyY2hcIj5cbiAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgeyFpc0NoYW5uZWwgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDYWxsKCdhdWRpbycpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC1ncmVlbiB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiQXVkaW8gY2FsbFwiPjxQaG9uZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDYWxsKCd2aWRlbycpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIlZpZGVvIGNhbGxcIj48VmlkZW8gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlQ29weShhY3RpdmVDaGF0LCAnaGVhZGVyJyl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXRleHQtc2Vjb25kYXJ5IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJDb3B5IGtleVwiPlxuICAgICAgICAgICAgICAgIHtjb3BpZWQgPT09ICdoZWFkZXInID8gPENoZWNrIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlblwiIC8+IDogPENvcHkgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+fVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBweC00IHB5LTQgc3BhY2UteS0yXCI+XG4gICAgICAgIHtmaWx0ZXJlZE1lc3NhZ2VzLm1hcChtc2cgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzTWUgPSBtc2cuZnJvbSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5O1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bW90aW9uLmRpdiBrZXk9e21zZy5pZH0gaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA4IH19IGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fSBjbGFzc05hbWU9e2BmbGV4ICR7aXNNZSA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZ3JvdXAgcmVsYXRpdmUgbWF4LXctWzc4JV0gcm91bmRlZC0yeGwgdGV4dC1zbSBvdmVyZmxvdy1oaWRkZW4gJHtpc01lID8gJ2JnLWFjY2VudCB0ZXh0LXdoaXRlIHJvdW5kZWQtYnItbWQnIDogJ2JnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciB0ZXh0LXRleHQgcm91bmRlZC1ibC1tZCd9YH0+XG4gICAgICAgICAgICAgICAge21zZy5yZXBseVRvICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbXgtMiBtdC0yIHB4LTIgcHktMSByb3VuZGVkLW1kIHRleHQtWzExcHhdICR7aXNNZSA/ICdiZy13aGl0ZS8xNSB0ZXh0LXdoaXRlLzgwJyA6ICdiZy1iZy10ZXJ0aWFyeSB0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj57bXNnLnJlcGx5VG8uZnJvbSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5ID8gJ1lvdScgOiBub3N0ckNsaWVudC5zaG9ydGVuS2V5KG1zZy5yZXBseVRvLmZyb20pfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidHJ1bmNhdGVcIj57bXNnLnJlcGx5VG8udGV4dH08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge21zZy5tc2dUeXBlID09PSAnaW1hZ2UnICYmIG1zZy5hdHRhY2htZW50ICYmICFtc2cuYXR0YWNobWVudC5jaHVua2VkICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIiBvbkNsaWNrPXsoKSA9PiBzZXRQcmV2aWV3SW1hZ2UoYGRhdGE6JHttc2cuYXR0YWNobWVudCEubWltZVR5cGV9O2Jhc2U2NCwke21zZy5hdHRhY2htZW50IS5kYXRhfWApfT5cbiAgICAgICAgICAgICAgICAgICAgPE5leHRJbWFnZSBzcmM9e2BkYXRhOiR7bXNnLmF0dGFjaG1lbnQubWltZVR5cGV9O2Jhc2U2NCwke21zZy5hdHRhY2htZW50LmRhdGF9YH0gYWx0PXttc2cuYXR0YWNobWVudC5uYW1lfSB3aWR0aD17MzAwfSBoZWlnaHQ9ezIwMH0gY2xhc3NOYW1lPVwibWF4LXctZnVsbCBtYXgtaC02NCByb3VuZGVkLXQtMnhsIG9iamVjdC1jb3ZlclwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge21zZy5hdHRhY2htZW50ICYmIG1zZy5tc2dUeXBlID09PSAnZmlsZScgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zLjUgcHQtMyBjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9eygpID0+IGhhbmRsZURvd25sb2FkKG1zZyl9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMTAgaC0xMCByb3VuZGVkLXhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbGcgJHtpc01lID8gJ2JnLXdoaXRlLzE1JyA6ICdiZy1iZy10ZXJ0aWFyeSd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAge2dldEZpbGVJY29uKG1zZy5hdHRhY2htZW50Lm1pbWVUeXBlKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LXhzIGZvbnQtbWVkaXVtIHRydW5jYXRlICR7aXNNZSA/ICd0ZXh0LXdoaXRlJyA6ICd0ZXh0LXRleHQnfWB9Pnttc2cuYXR0YWNobWVudC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LVsxMHB4XSAke2lzTWUgPyAndGV4dC13aGl0ZS82MCcgOiAndGV4dC10ZXh0LW11dGVkJ31gfT57Zm9ybWF0RmlsZVNpemUobXNnLmF0dGFjaG1lbnQuc2l6ZSl9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT17YHctNCBoLTQgc2hyaW5rLTAgJHtpc01lID8gJ3RleHQtd2hpdGUvNjAnIDogJ3RleHQtdGV4dC1tdXRlZCd9YH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7bXNnLmF0dGFjaG1lbnQgJiYgbXNnLm1zZ1R5cGUgPT09ICdpbWFnZScgJiYgbXNnLmF0dGFjaG1lbnQuY2h1bmtlZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMuNSBwdC0zIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KCkgPT4gaGFuZGxlRG93bmxvYWQobXNnKX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0xMCBoLTEwIHJvdW5kZWQteGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1sZyAke2lzTWUgPyAnYmctd2hpdGUvMTUnIDogJ2JnLWJnLXRlcnRpYXJ5J31gfT7wn5a877iPPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LXhzIGZvbnQtbWVkaXVtIHRydW5jYXRlICR7aXNNZSA/ICd0ZXh0LXdoaXRlJyA6ICd0ZXh0LXRleHQnfWB9Pnttc2cuYXR0YWNobWVudC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LVsxMHB4XSAke2lzTWUgPyAndGV4dC13aGl0ZS82MCcgOiAndGV4dC10ZXh0LW11dGVkJ31gfT5DaHVua2VkIGltYWdlLCBjbGljayB0byBkb3dubG9hZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxEb3dubG9hZCBjbGFzc05hbWU9e2B3LTQgaC00IHNocmluay0wICR7aXNNZSA/ICd0ZXh0LXdoaXRlLzYwJyA6ICd0ZXh0LXRleHQtbXV0ZWQnfWB9IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge21zZy5jb250ZW50ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMy41IHB5LTIuNVwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIGJyZWFrLXdvcmRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodCB0ZXh0PXttc2cuY29udGVudH0gaGlnaGxpZ2h0PXtzZWFyY2hRdWVyeX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMy41IHBiLTIgJHtpc01lID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtWzEwcHhdICR7aXNNZSA/ICd0ZXh0LXdoaXRlLzUwJyA6ICd0ZXh0LXRleHQtbXV0ZWQnfWB9PlxuICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUobXNnLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIHRvcC0xICR7aXNNZSA/ICdsZWZ0LTAgLXRyYW5zbGF0ZS14LTknIDogJ3JpZ2h0LTAgdHJhbnNsYXRlLXgtOSd9IGZsZXggZmxleC1jb2wgZ2FwLTEgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eWB9PlxuICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDb3B5KG1zZy5jb250ZW50LCBtc2cuaWQpfSBjbGFzc05hbWU9XCJwLTEgcm91bmRlZCBiZy1iZy1zZWNvbmRhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Y29waWVkID09PSBtc2cuaWQgPyA8Q2hlY2sgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWdyZWVuXCIgLz4gOiA8Q29weSBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtdGV4dC1tdXRlZFwiIC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFJlcGx5VG8oeyBpZDogbXNnLmlkLCBmcm9tOiBtc2cuZnJvbSwgdGV4dDogbXNnLmNvbnRlbnQgfHwgbXNnLmF0dGFjaG1lbnQ/Lm5hbWUgfHwgJycgfSl9IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8UmVwbHkgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LXRleHQtbXV0ZWRcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3JlcGx5VG8gJiYgKFxuICAgICAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX0gZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIGJvcmRlci10IGJvcmRlci1ib3JkZXIgYmctYmctc2Vjb25kYXJ5LzQwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBnYXAtM1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LXRleHQtbXV0ZWRcIj5SZXBseSB0byB7cmVwbHlUby5mcm9tID09PSBub3N0ckNsaWVudC5wdWJsaWNLZXkgPyAneW91JyA6IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkocmVwbHlUby5mcm9tKX08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IHRydW5jYXRlXCI+e3JlcGx5VG8udGV4dCB8fCAnKGF0dGFjaG1lbnQpJ308L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFJlcGx5VG8obnVsbCl9IGNsYXNzTmFtZT1cInAtMS41IHJvdW5kZWQgaG92ZXI6YmctYmctaG92ZXJcIj48WCBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNSB0ZXh0LXRleHQtbXV0ZWRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICApfVxuICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtwZW5kaW5nQXR0YWNobWVudCAmJiAoXG4gICAgICAgICAgPG1vdGlvbi5kaXYgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBoZWlnaHQ6ICdhdXRvJywgb3BhY2l0eTogMSB9fSBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJweC00IGJvcmRlci10IGJvcmRlci1ib3JkZXIgYmctYmctc2Vjb25kYXJ5LzMwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0zIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgIHtwZW5kaW5nQXR0YWNobWVudC50eXBlID09PSAnaW1hZ2UnICYmIHBlbmRpbmdBdHRhY2htZW50LmRhdGEgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC14bCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1ib3JkZXIgc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgIDxOZXh0SW1hZ2Ugc3JjPXtgZGF0YToke3BlbmRpbmdBdHRhY2htZW50Lm1pbWVUeXBlfTtiYXNlNjQsJHtwZW5kaW5nQXR0YWNobWVudC5kYXRhfWB9IGFsdD1cIkF0dGFjaG1lbnQgcHJldmlld1wiIHdpZHRoPXs2NH0gaGVpZ2h0PXs2NH0gY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHJvdW5kZWQteGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0yeGwgc2hyaW5rLTBcIj57Z2V0RmlsZUljb24ocGVuZGluZ0F0dGFjaG1lbnQubWltZVR5cGUpfTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQgdHJ1bmNhdGVcIj57cGVuZGluZ0F0dGFjaG1lbnQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtbXV0ZWRcIj57Zm9ybWF0RmlsZVNpemUocGVuZGluZ0F0dGFjaG1lbnQuc2l6ZSl9PC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRQZW5kaW5nQXR0YWNobWVudChudWxsKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtcmVkIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICApfVxuICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtzZW5kUHJvZ3Jlc3MgJiYgKFxuICAgICAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX0gZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gY2xhc3NOYW1lPVwicHgtNCBib3JkZXItdCBib3JkZXItYm9yZGVyIGJnLWJnLXNlY29uZGFyeS8zMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtdGV4dC1zZWNvbmRhcnkgbWItMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctMyBoLTMgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgIFVwbG9hZGluZy4uLlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57c2VuZFByb2dyZXNzLnNlbnR9L3tzZW5kUHJvZ3Jlc3MudG90YWx9IGNodW5rczwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtMS41IGJnLWJnLXRlcnRpYXJ5IHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8bW90aW9uLmRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctYWNjZW50IHJvdW5kZWQtZnVsbFwiIGluaXRpYWw9e3sgd2lkdGg6IDAgfX0gYW5pbWF0ZT17eyB3aWR0aDogYCR7KHNlbmRQcm9ncmVzcy5zZW50IC8gc2VuZFByb2dyZXNzLnRvdGFsKSAqIDEwMH0lYCB9fSB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjIgfX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtZGltIGJvcmRlci10IGJvcmRlci1yZWQvMjBcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWRcIj57ZXJyb3J9PC9wPlxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyBib3JkZXItdCBib3JkZXItYm9yZGVyIGJnLWJnLXNlY29uZGFyeS8zMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kIGdhcC0yXCI+XG4gICAgICAgICAgeyFpc0NoYW5uZWwgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMC41IHBiLTFcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBpbWFnZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiU2VuZCBpbWFnZVwiIGRpc2FibGVkPXtzZW5kaW5nfT5cbiAgICAgICAgICAgICAgICA8SW1hZ2VJY29uIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtYWNjZW50IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJTZW5kIGZpbGVcIiBkaXNhYmxlZD17c2VuZGluZ30+XG4gICAgICAgICAgICAgICAgPFBhcGVyY2xpcCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPGlucHV0IHJlZj17aW1hZ2VJbnB1dFJlZn0gdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgY2xhc3NOYW1lPVwiaGlkZGVuXCIgb25DaGFuZ2U9e2hhbmRsZUZpbGVTZWxlY3R9IC8+XG4gICAgICAgICAgPGlucHV0IHJlZj17ZmlsZUlucHV0UmVmfSB0eXBlPVwiZmlsZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fSAvPlxuXG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBvbktleURvd249e2UgPT4ge1xuICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlU2VuZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3BlbmRpbmdBdHRhY2htZW50ID8gJ0FkZCBjYXB0aW9uLi4uJyA6IChpc0NoYW5uZWwgPyAnUG9zdCBtZXNzYWdlIHRvIGNoYW5uZWwuLi4nIDogJ1dyaXRlIG1lc3NhZ2UuLi4nKX1cbiAgICAgICAgICAgIHJvd3M9ezF9XG4gICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHB4LTQgcHktMyB0ZXh0LXNtIHRleHQtdGV4dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTAgcmVzaXplLW5vbmUgbWF4LWgtMzIgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICBzdHlsZT17eyBtaW5IZWlnaHQ6ICc0NHB4JyB9fVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8bW90aW9uLmJ1dHRvbiB3aGlsZUhvdmVyPXt7IHNjYWxlOiBzZW5kaW5nID8gMSA6IDEuMDUgfX0gd2hpbGVUYXA9e3sgc2NhbGU6IHNlbmRpbmcgPyAxIDogMC45NSB9fSBvbkNsaWNrPXtoYW5kbGVTZW5kfSBkaXNhYmxlZD17KCFpbnB1dC50cmltKCkgJiYgIXBlbmRpbmdBdHRhY2htZW50KSB8fCBzZW5kaW5nfSBjbGFzc05hbWU9XCJwLTMgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgc2hyaW5rLTBcIj5cbiAgICAgICAgICAgIHtzZW5kaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPVwidy01IGgtNSBhbmltYXRlLXNwaW5cIiAvPiA6IDxTZW5kIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPn1cbiAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtwcmV2aWV3SW1hZ2UgJiYgKFxuICAgICAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fSBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX0gZXhpdD17eyBvcGFjaXR5OiAwIH19IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bOTBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzkwIGJhY2tkcm9wLWJsdXItc20gcC00XCIgb25DbGljaz17KCkgPT4gc2V0UHJldmlld0ltYWdlKG51bGwpfT5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCBwLTIgcm91bmRlZC1sZyBiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwIHRyYW5zaXRpb24tY29sb3JzIHotMTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRQcmV2aWV3SW1hZ2UobnVsbCl9PlxuICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXYgaW5pdGlhbD17eyBzY2FsZTogMC45IH19IGFuaW1hdGU9e3sgc2NhbGU6IDEgfX0gZXhpdD17eyBzY2FsZTogMC45IH19IGNsYXNzTmFtZT1cInJlbGF0aXZlIG1heC13LWZ1bGwgbWF4LWgtZnVsbFwiIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgICAgIDxOZXh0SW1hZ2Ugc3JjPXtwcmV2aWV3SW1hZ2V9IGFsdD1cIkltYWdlIHByZXZpZXdcIiBsYXlvdXQ9XCJmaWxsXCIgb2JqZWN0Rml0PVwiY29udGFpblwiIGNsYXNzTmFtZT1cInJvdW5kZWQtbGdcIiAvPlxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiQW5pbWF0ZVByZXNlbmNlIiwibW90aW9uIiwiQ2hlY2siLCJDb3B5IiwiRG93bmxvYWQiLCJIYXNoIiwiSW1hZ2UiLCJJbWFnZUljb24iLCJMb2FkZXIyIiwiTWVudSIsIlBhcGVyY2xpcCIsIlBob25lIiwiUmVwbHkiLCJTZW5kIiwiU2VhcmNoIiwiVmlkZW8iLCJYIiwiTmV4dEltYWdlIiwibm9zdHJDbGllbnQiLCJhZGRDaGFubmVsTWVzc2FnZSIsImFkZE1lc3NhZ2UiLCJnZXRDaGFubmVsTWVzc2FnZXMiLCJnZXRNZXNzYWdlcyIsInRvZ2dsZVNpZGViYXIiLCJ1cGRhdGVDb250YWN0UHJvZmlsZSIsInVzZUFwcFN0YXRlIiwiZG93bmxvYWRDaHVua2VkVHJhbnNmZXIiLCJkb3dubG9hZEF0dGFjaG1lbnQiLCJmb3JtYXRGaWxlU2l6ZSIsImdldEZpbGVJY29uIiwicHJvY2Vzc0ZpbGUiLCJ3ZWJydGNNYW5hZ2VyIiwiQXZhdGFyIiwiSGlnaGxpZ2h0IiwidGV4dCIsImhpZ2hsaWdodCIsInRyaW0iLCJzcGFuIiwicmVnZXgiLCJSZWdFeHAiLCJwYXJ0cyIsInNwbGl0IiwibWFwIiwicGFydCIsImkiLCJ0ZXN0IiwibWFyayIsImNsYXNzTmFtZSIsIkNoYXRWaWV3IiwiYWN0aXZlQ2hhdCIsImNvbnRhY3RzIiwiY2hhbm5lbHMiLCJpc0NoYW5uZWwiLCJzdGFydHNXaXRoIiwiY2hhbm5lbElkIiwic2xpY2UiLCJsZW5ndGgiLCJpbnB1dCIsInNldElucHV0Iiwic2VuZGluZyIsInNldFNlbmRpbmciLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwicGVuZGluZ0F0dGFjaG1lbnQiLCJzZXRQZW5kaW5nQXR0YWNobWVudCIsInNlbmRQcm9ncmVzcyIsInNldFNlbmRQcm9ncmVzcyIsInJlcGx5VG8iLCJzZXRSZXBseVRvIiwicHJldmlld0ltYWdlIiwic2V0UHJldmlld0ltYWdlIiwiZXJyb3IiLCJzZXRFcnJvciIsImNvcGllZCIsInNldENvcGllZCIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJpc1NlYXJjaFZpc2libGUiLCJzZXRJc1NlYXJjaFZpc2libGUiLCJtZXNzYWdlc0VuZFJlZiIsImltYWdlSW5wdXRSZWYiLCJmaWxlSW5wdXRSZWYiLCJzZWFyY2hJbnB1dFJlZiIsImNvbnRhY3QiLCJmaW5kIiwiYyIsInB1YmtleSIsImNoYW5uZWwiLCJpZCIsImN1cnJlbnQiLCJmb2N1cyIsImZpbHRlcmVkTWVzc2FnZXMiLCJmaWx0ZXIiLCJtc2ciLCJjb250ZW50IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInJlcXVlc3RQcm9maWxlIiwidW5zdWJNc2ciLCJvbk1lc3NhZ2UiLCJ1bnN1YkNoYW5uZWwiLCJvbkNoYW5uZWxNZXNzYWdlIiwidW5zdWIiLCJvblByb2ZpbGUiLCJwcm9maWxlIiwibmFtZSIsInBpY3R1cmUiLCJhYm91dCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVTZW5kIiwiRXJyb3IiLCJzZW5kQ2hhbm5lbE1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJzZW5kQXR0YWNobWVudCIsInNlbnQiLCJ0b3RhbCIsInNlbmREaXJlY3RNZXNzYWdlIiwiZXJyIiwibWVzc2FnZSIsImhhbmRsZUNhbGwiLCJ0eXBlIiwiaW5pdGlhdGVDYWxsIiwiaGFuZGxlRmlsZVNlbGVjdCIsImUiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJ2YWx1ZSIsImF0dGFjaG1lbnQiLCJoYW5kbGVDb3B5IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2V0VGltZW91dCIsImhhbmRsZURvd25sb2FkIiwiY2h1bmtlZCIsInRyYW5zZmVySWQiLCJtaW1lVHlwZSIsImRpdiIsImgyIiwic3R5bGUiLCJmb250RmFtaWx5IiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzaXplIiwic2hvd0JvcmRlciIsImluaXRpYWwiLCJtb2RlIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwiZXhpdCIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsInJlZiIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJzaG9ydGVuS2V5IiwidGl0bGUiLCJpc01lIiwiZnJvbSIsInB1YmxpY0tleSIsIm1zZ1R5cGUiLCJkYXRhIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJEYXRlIiwidGltZXN0YW1wIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImNsaWNrIiwiZGlzYWJsZWQiLCJhY2NlcHQiLCJ0ZXh0YXJlYSIsIm9uS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJyb3dzIiwibWluSGVpZ2h0Iiwid2hpbGVIb3ZlciIsInNjYWxlIiwid2hpbGVUYXAiLCJzdG9wUHJvcGFnYXRpb24iLCJsYXlvdXQiLCJvYmplY3RGaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatView.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/LoginScreen.tsx":
/*!****************************************!*\
  !*** ./src/components/LoginScreen.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/shield.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/log-in.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/key.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n\n\n\n\n\n\nfunction LoginScreen() {\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"choice\");\n    const [generatedKeys, setGeneratedKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [importKey, setImportKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [savedKey, setSavedKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleGenerate = ()=>{\n        const keys = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.generateKeys();\n        setGeneratedKeys(keys);\n        setMode(\"generate\");\n    };\n    const handleCopyKey = async ()=>{\n        if (!generatedKeys) return;\n        await navigator.clipboard.writeText(generatedKeys.privateKey);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 2000);\n    };\n    const handleConfirmGenerated = ()=>{\n        if (!generatedKeys) return;\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.login(generatedKeys.privateKey);\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectToRelays();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadContacts)();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadChannels)();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(true);\n    };\n    const handleImport = ()=>{\n        setError(\"\");\n        const key = importKey.trim().replace(/^nsec1/, \"\");\n        if (!_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.isValidHexKey(key)) {\n            setError(\"Invalid private key. Must be 64 hex characters.\");\n            return;\n        }\n        try {\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.login(key);\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectToRelays();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadContacts)();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadChannels)();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(true);\n        } catch  {\n            setError(\"Failed to login with this key.\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex items-center justify-center bg-bg p-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 overflow-hidden pointer-events-none\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-1/4 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan/5 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                lineNumber: 57,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: 20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                className: \"relative z-10 w-full max-w-md\",\n                children: [\n                    mode === \"choice\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                                initial: {\n                                    scale: 0.8\n                                },\n                                animate: {\n                                    scale: 1\n                                },\n                                transition: {\n                                    type: \"spring\",\n                                    stiffness: 200\n                                },\n                                className: \"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-accent/10 border border-accent/20 mb-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-10 h-10 text-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                    lineNumber: 75,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-3xl font-bold text-text mb-2\",\n                                style: {\n                                    fontFamily: \"Space Grotesk\"\n                                },\n                                children: \"NOSTR P2P\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-text-secondary text-sm mb-2\",\n                                children: \"Decentralized. Encrypted. Censorship-resistant.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 81,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center gap-4 text-xs text-text-muted mb-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 85,\n                                                columnNumber: 57\n                                            }, this),\n                                            \" E2E Encrypted\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 86,\n                                                columnNumber: 57\n                                            }, this),\n                                            \" No Central Server\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 86,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleGenerate,\n                                        className: \"w-full flex items-center gap-3 px-5 py-4 bg-accent hover:bg-accent-hover text-white rounded-xl transition-colors text-sm font-medium\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-5 h-5\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 96,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Generate New Identity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 98,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs opacity-70\",\n                                                        children: \"Create a new keypair\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 99,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 97,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 90,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: ()=>setMode(\"import\"),\n                                        className: \"w-full flex items-center gap-3 px-5 py-4 bg-bg-tertiary hover:bg-bg-hover border border-border rounded-xl transition-colors text-sm font-medium text-text\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-5 h-5 text-text-secondary\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 109,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Import Private Key\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 111,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-muted\",\n                                                        children: \"Use existing Nostr identity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 112,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 110,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 103,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 89,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"generate\" && generatedKeys && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMode(\"choice\"),\n                                className: \"text-text-secondary hover:text-text text-sm mb-4 flex items-center gap-1\",\n                                children: \" Back\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green/10 border border-green/20 mb-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                            className: \"w-7 h-7 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 127,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 126,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-text\",\n                                        style: {\n                                            fontFamily: \"Space Grotesk\"\n                                        },\n                                        children: \"Your New Identity\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary text-xs mt-1\",\n                                        children: \"Save your private key securely!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 130,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 125,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                                children: \"Public Key\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 135,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-bg-tertiary border border-border rounded-lg p-3 text-xs text-text-secondary font-mono break-all\",\n                                                children: generatedKeys.publicKey\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 136,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                                children: \"Private Key (SECRET)\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 142,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-red-dim border border-red/20 rounded-lg p-3 text-xs text-red font-mono break-all\",\n                                                children: generatedKeys.privateKey\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 143,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleCopyKey,\n                                        className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-bg-tertiary hover:bg-bg-hover border border-border rounded-lg text-sm text-text transition-colors\",\n                                        children: [\n                                            copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-4 h-4 text-green\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 27\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 70\n                                            }, this),\n                                            copied ? \"Copied!\" : \"Copy Private Key\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-2 text-sm text-text-secondary cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: savedKey,\n                                                onChange: (e)=>setSavedKey(e.target.checked),\n                                                className: \"rounded accent-accent\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"I have saved my private key securely\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 156,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleConfirmGenerated,\n                                        disabled: !savedKey,\n                                        className: \"w-full px-5 py-4 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-all text-sm font-medium\",\n                                        children: \"Enter Messenger\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 166,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 120,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"import\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMode(\"choice\"),\n                                className: \"text-text-secondary hover:text-text text-sm mb-4 flex items-center gap-1\",\n                                children: \" Back\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-accent/10 border border-accent/20 mb-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-7 h-7 text-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 187,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-text\",\n                                        style: {\n                                            fontFamily: \"Space Grotesk\"\n                                        },\n                                        children: \"Import Key\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 189,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary text-xs mt-1\",\n                                        children: \"Enter your Nostr private key (hex)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 185,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            value: importKey,\n                                            onChange: (e)=>setImportKey(e.target.value),\n                                            placeholder: \"Enter 64-character hex private key...\",\n                                            rows: 3,\n                                            className: \"w-full bg-bg-tertiary border border-border rounded-lg p-3 text-sm text-text font-mono resize-none focus:outline-none focus:border-accent placeholder:text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 195,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 194,\n                                        columnNumber: 15\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red text-xs\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 205,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleImport,\n                                        className: \"w-full px-5 py-4 bg-accent hover:bg-accent-hover text-white rounded-xl transition-colors text-sm font-medium\",\n                                        children: \"Login\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n        lineNumber: 56,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7OzBDQUkvSCw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTtrREFDYiw0RUFBQ3pDLHNIQUFLQTs0Q0FBQ3lDLFdBQVU7Ozs7Ozs7Ozs7O2tEQUVuQiw4REFBQ2tCO3dDQUFHbEIsV0FBVTt3Q0FBOEJVLE9BQU87NENBQUVDLFlBQVk7d0NBQWdCO2tEQUFHOzs7Ozs7a0RBQ3BGLDhEQUFDQzt3Q0FBRVosV0FBVTtrREFBbUM7Ozs7Ozs7Ozs7OzswQ0FHbEQsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0Q7a0RBQ0MsNEVBQUM0Qjs0Q0FDQ0MsT0FBT3REOzRDQUNQaUQsVUFBVUMsQ0FBQUEsSUFBS2pELGFBQWFpRCxFQUFFQyxNQUFNLENBQUNHLEtBQUs7NENBQzFDQyxhQUFZOzRDQUNaQyxNQUFNOzRDQUNOOUIsV0FBVTs7Ozs7Ozs7Ozs7b0NBSWJ4Qix1QkFDQyw4REFBQ29DO3dDQUFFWixXQUFVO2tEQUFvQnhCOzs7Ozs7a0RBR25DLDhEQUFDcEIsaURBQU1BLENBQUMwRCxNQUFNO3dDQUNaQyxZQUFZOzRDQUFFVixPQUFPO3dDQUFLO3dDQUMxQlcsVUFBVTs0Q0FBRVgsT0FBTzt3Q0FBSzt3Q0FDeEJZLFNBQVN2Qjt3Q0FDVE0sV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4PzgxN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IEtleSwgUGx1cywgTG9nSW4sIENvcHksIENoZWNrLCBTaGllbGQsIFphcCwgR2xvYmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHsgc2V0TG9nZ2VkSW4sIGxvYWRDb250YWN0cywgbG9hZENoYW5uZWxzIH0gZnJvbSAnLi4vbGliL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW5TY3JlZW4oKSB7XG4gIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IHVzZVN0YXRlPCdjaG9pY2UnIHwgJ2dlbmVyYXRlJyB8ICdpbXBvcnQnPignY2hvaWNlJyk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRLZXlzLCBzZXRHZW5lcmF0ZWRLZXlzXSA9IHVzZVN0YXRlPHsgcHJpdmF0ZUtleTogc3RyaW5nOyBwdWJsaWNLZXk6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbXBvcnRLZXksIHNldEltcG9ydEtleV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2F2ZWRLZXksIHNldFNhdmVkS2V5XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBrZXlzID0gbm9zdHJDbGllbnQuZ2VuZXJhdGVLZXlzKCk7XG4gICAgc2V0R2VuZXJhdGVkS2V5cyhrZXlzKTtcbiAgICBzZXRNb2RlKCdnZW5lcmF0ZScpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvcHlLZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFnZW5lcmF0ZWRLZXlzKSByZXR1cm47XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoZ2VuZXJhdGVkS2V5cy5wcml2YXRlS2V5KTtcbiAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb25maXJtR2VuZXJhdGVkID0gKCkgPT4ge1xuICAgIGlmICghZ2VuZXJhdGVkS2V5cykgcmV0dXJuO1xuICAgIG5vc3RyQ2xpZW50LmxvZ2luKGdlbmVyYXRlZEtleXMucHJpdmF0ZUtleSk7XG4gICAgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgbG9hZENvbnRhY3RzKCk7XG4gICAgbG9hZENoYW5uZWxzKCk7XG4gICAgc2V0TG9nZ2VkSW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1wb3J0ID0gKCkgPT4ge1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBjb25zdCBrZXkgPSBpbXBvcnRLZXkudHJpbSgpLnJlcGxhY2UoL15uc2VjMS8sICcnKTtcbiAgICBpZiAoIW5vc3RyQ2xpZW50LmlzVmFsaWRIZXhLZXkoa2V5KSkge1xuICAgICAgc2V0RXJyb3IoJ0ludmFsaWQgcHJpdmF0ZSBrZXkuIE11c3QgYmUgNjQgaGV4IGNoYXJhY3RlcnMuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBub3N0ckNsaWVudC5sb2dpbihrZXkpO1xuICAgICAgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgICBsb2FkQ29udGFjdHMoKTtcbiAgICAgIGxvYWRDaGFubmVscygpO1xuICAgICAgc2V0TG9nZ2VkSW4odHJ1ZSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvZ2luIHdpdGggdGhpcyBrZXkuJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmcgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgb3ZlcmZsb3ctaGlkZGVuIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMS80IGxlZnQtMS80IHctOTYgaC05NiBiZy1hY2NlbnQvNSByb3VuZGVkLWZ1bGwgYmx1ci0zeGxcIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0xLzQgcmlnaHQtMS80IHctOTYgaC05NiBiZy1jeWFuLzUgcm91bmRlZC1mdWxsIGJsdXItM3hsXCIgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwIHctZnVsbCBtYXgtdy1tZFwiXG4gICAgICA+XG4gICAgICAgIHttb2RlID09PSAnY2hvaWNlJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBzY2FsZTogMC44IH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyB0eXBlOiAnc3ByaW5nJywgc3RpZmZuZXNzOiAyMDAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjAgaC0yMCByb3VuZGVkLTJ4bCBiZy1hY2NlbnQvMTAgYm9yZGVyIGJvcmRlci1hY2NlbnQvMjAgbWItNlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHRleHQtYWNjZW50XCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXRleHQgbWItMlwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5cbiAgICAgICAgICAgICAgTk9TVFIgUDJQXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXNtIG1iLTJcIj5cbiAgICAgICAgICAgICAgRGVjZW50cmFsaXplZC4gRW5jcnlwdGVkLiBDZW5zb3JzaGlwLXJlc2lzdGFudC5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTQgdGV4dC14cyB0ZXh0LXRleHQtbXV0ZWQgbWItOFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxTaGllbGQgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEUyRSBFbmNyeXB0ZWQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBObyBDZW50cmFsIFNlcnZlcjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDIgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45OCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC01IHB5LTQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5HZW5lcmF0ZSBOZXcgSWRlbnRpdHk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTcwXCI+Q3JlYXRlIGEgbmV3IGtleXBhaXI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TW9kZSgnaW1wb3J0Jyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTUgcHktNCBiZy1iZy10ZXJ0aWFyeSBob3ZlcjpiZy1iZy1ob3ZlciBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMb2dJbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtdGV4dC1zZWNvbmRhcnlcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PkltcG9ydCBQcml2YXRlIEtleTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZFwiPlVzZSBleGlzdGluZyBOb3N0ciBpZGVudGl0eTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7bW9kZSA9PT0gJ2dlbmVyYXRlJyAmJiBnZW5lcmF0ZWRLZXlzICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdjaG9pY2UnKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdGV4dC1zbSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLXhsIGJnLWdyZWVuLzEwIGJvcmRlciBib3JkZXItZ3JlZW4vMjAgbWItNFwiPlxuICAgICAgICAgICAgICAgIDxLZXkgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWdyZWVuXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXRleHRcIiBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX0+WW91ciBOZXcgSWRlbnRpdHk8L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IHRleHQteHMgbXQtMVwiPlNhdmUgeW91ciBwcml2YXRlIGtleSBzZWN1cmVseSE8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtbXV0ZWQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIG1iLTEgYmxvY2tcIj5QdWJsaWMgS2V5PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIHRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBmb250LW1vbm8gYnJlYWstYWxsXCI+XG4gICAgICAgICAgICAgICAgICB7Z2VuZXJhdGVkS2V5cy5wdWJsaWNLZXl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBtYi0xIGJsb2NrXCI+UHJpdmF0ZSBLZXkgKFNFQ1JFVCk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLWRpbSBib3JkZXIgYm9yZGVyLXJlZC8yMCByb3VuZGVkLWxnIHAtMyB0ZXh0LXhzIHRleHQtcmVkIGZvbnQtbW9ubyBicmVhay1hbGxcIj5cbiAgICAgICAgICAgICAgICAgIHtnZW5lcmF0ZWRLZXlzLnByaXZhdGVLZXl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb3B5S2V5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBweC00IHB5LTMgYmctYmctdGVydGlhcnkgaG92ZXI6YmctYmctaG92ZXIgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXNtIHRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y29waWVkID8gPENoZWNrIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlblwiIC8+IDogPENvcHkgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+fVxuICAgICAgICAgICAgICAgIHtjb3BpZWQgPyAnQ29waWVkIScgOiAnQ29weSBQcml2YXRlIEtleSd9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtzYXZlZEtleX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNhdmVkS2V5KGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBhY2NlbnQtYWNjZW50XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIEkgaGF2ZSBzYXZlZCBteSBwcml2YXRlIGtleSBzZWN1cmVseVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybUdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNhdmVkS2V5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC01IHB5LTQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFbnRlciBNZXNzZW5nZXJcbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge21vZGUgPT09ICdpbXBvcnQnICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdjaG9pY2UnKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdGV4dC1zbSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLXhsIGJnLWFjY2VudC8xMCBib3JkZXIgYm9yZGVyLWFjY2VudC8yMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgPExvZ0luIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5JbXBvcnQgS2V5PC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXhzIG10LTFcIj5FbnRlciB5b3VyIE5vc3RyIHByaXZhdGUga2V5IChoZXgpPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17aW1wb3J0S2V5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0SW1wb3J0S2V5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgNjQtY2hhcmFjdGVyIGhleCBwcml2YXRlIGtleS4uLlwiXG4gICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIHRleHQtc20gdGV4dC10ZXh0IGZvbnQtbW9ubyByZXNpemUtbm9uZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQgdGV4dC14c1wiPntlcnJvcn08L3A+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAyIH19XG4gICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTggfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVJbXBvcnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTUgcHktNCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIExvZ2luXG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9tb3Rpb24uZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwibW90aW9uIiwiS2V5IiwiUGx1cyIsIkxvZ0luIiwiQ29weSIsIkNoZWNrIiwiU2hpZWxkIiwiWmFwIiwiR2xvYmUiLCJub3N0ckNsaWVudCIsInNldExvZ2dlZEluIiwibG9hZENvbnRhY3RzIiwibG9hZENoYW5uZWxzIiwiTG9naW5TY3JlZW4iLCJtb2RlIiwic2V0TW9kZSIsImdlbmVyYXRlZEtleXMiLCJzZXRHZW5lcmF0ZWRLZXlzIiwiaW1wb3J0S2V5Iiwic2V0SW1wb3J0S2V5IiwiZXJyb3IiLCJzZXRFcnJvciIsImNvcGllZCIsInNldENvcGllZCIsInNhdmVkS2V5Iiwic2V0U2F2ZWRLZXkiLCJoYW5kbGVHZW5lcmF0ZSIsImtleXMiLCJnZW5lcmF0ZUtleXMiLCJoYW5kbGVDb3B5S2V5IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwicHJpdmF0ZUtleSIsInNldFRpbWVvdXQiLCJoYW5kbGVDb25maXJtR2VuZXJhdGVkIiwibG9naW4iLCJjb25uZWN0VG9SZWxheXMiLCJoYW5kbGVJbXBvcnQiLCJrZXkiLCJ0cmltIiwicmVwbGFjZSIsImlzVmFsaWRIZXhLZXkiLCJkaXYiLCJjbGFzc05hbWUiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwic2NhbGUiLCJ0cmFuc2l0aW9uIiwidHlwZSIsInN0aWZmbmVzcyIsImgxIiwic3R5bGUiLCJmb250RmFtaWx5IiwicCIsInNwYW4iLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJvbkNsaWNrIiwiaDIiLCJsYWJlbCIsInB1YmxpY0tleSIsImlucHV0IiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwidGV4dGFyZWEiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwicm93cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/LoginScreen.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Sidebar.tsx":
/*!************************************!*\
  !*** ./src/components/Sidebar.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/radio.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/user-plus.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/camera.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/wifi.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,ChevronLeft,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\nfunction Sidebar() {\n    const { contacts, channels, activeChat, showSidebar } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useAppState)();\n    const [showAddContact, setShowAddContact] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showProfile, setShowProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCreateChannel, setShowCreateChannel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newContactKey, setNewContactKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newContactName, setNewContactName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChannelName, setNewChannelName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChannelAbout, setNewChannelAbout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [joinChannelId, setJoinChannelId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newRelay, setNewRelay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [profileName, setProfileName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileAbout, setProfileAbout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profilePicture, setProfilePicture] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileSaving, setProfileSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [addError, setAddError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const u1 = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onConnection(()=>setTick((t)=>t + 1));\n        const u2 = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onChannel((channel)=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(channel));\n        return ()=>{\n            u1();\n            u2();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsub = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onProfile((pubkey, profile)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.updateContactProfile)(pubkey, profile.name, profile.picture, profile.about);\n            if (pubkey === _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey) {\n                setProfileName(profile.name || \"\");\n                setProfileAbout(profile.about || \"\");\n                setProfilePicture(profile.picture || \"\");\n            }\n        });\n        return unsub;\n    }, []);\n    const handleAddContact = ()=>{\n        setAddError(\"\");\n        const key = newContactKey.trim();\n        if (!_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.isValidHexKey(key)) {\n            setAddError(\"Invalid public key. Expected 64-char hex.\");\n            return;\n        }\n        if (key === _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey) {\n            setAddError(\"You cannot add yourself.\");\n            return;\n        }\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addContact)(key, newContactName.trim() || undefined);\n        setNewContactKey(\"\");\n        setNewContactName(\"\");\n        setShowAddContact(false);\n    };\n    const handleCreateChannel = async ()=>{\n        const name = newChannelName.trim();\n        if (!name) return;\n        try {\n            const channel = await _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.createChannel(name, newChannelAbout.trim());\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(channel);\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channel.id}`);\n            setNewChannelName(\"\");\n            setNewChannelAbout(\"\");\n            setShowCreateChannel(false);\n        } catch  {\n        // ignore\n        }\n    };\n    const handleJoinChannel = ()=>{\n        const channelId = joinChannelId.trim();\n        if (!channelId) return;\n        const known = channels.find((c)=>c.id === channelId);\n        if (!known) {\n            const localChannel = {\n                id: channelId,\n                name: `channel-${channelId.slice(0, 8)}`,\n                createdBy: \"\",\n                createdAt: Date.now()\n            };\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(localChannel);\n        }\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channelId}`);\n        setJoinChannelId(\"\");\n    };\n    const handleCopyPubkey = async ()=>{\n        await navigator.clipboard.writeText(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 1800);\n    };\n    const handleOpenProfile = ()=>{\n        const p = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getProfile(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey);\n        setProfileName(p?.name || \"\");\n        setProfileAbout(p?.about || \"\");\n        setProfilePicture(p?.picture || \"\");\n        setShowProfile(true);\n    };\n    const handleSaveProfile = async ()=>{\n        setProfileSaving(true);\n        try {\n            await _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.updateProfile({\n                name: profileName,\n                about: profileAbout,\n                picture: profilePicture\n            });\n        } catch  {\n        // ignore\n        }\n        setProfileSaving(false);\n        setShowProfile(false);\n    };\n    const handleAvatarUpload = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        if (file.size > 200 * 1024) return;\n        const reader = new FileReader();\n        reader.onload = ()=>setProfilePicture(reader.result);\n        reader.readAsDataURL(file);\n    };\n    const handleAddRelay = ()=>{\n        let url = newRelay.trim();\n        if (!url) return;\n        if (!url.startsWith(\"wss://\") && !url.startsWith(\"ws://\")) url = `wss://${url}`;\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.addRelay(url);\n        setNewRelay(\"\");\n        setTick((t)=>t + 1);\n    };\n    const handleLogout = ()=>{\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.logout();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(false);\n    };\n    const filteredContacts = contacts.filter((c)=>{\n        if (!searchQuery) return true;\n        const q = searchQuery.toLowerCase();\n        return c.name?.toLowerCase().includes(q) || c.pubkey.includes(q);\n    }).sort((a, b)=>(b.lastMessageTime || 0) - (a.lastMessageTime || 0));\n    const filteredChannels = channels.filter((c)=>{\n        if (!searchQuery) return true;\n        const q = searchQuery.toLowerCase();\n        return c.name.toLowerCase().includes(q) || c.id.includes(q);\n    });\n    const connectedCount = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectedRelayCount;\n    if (!showSidebar) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: _lib_store__WEBPACK_IMPORTED_MODULE_3__.toggleSidebar,\n            className: \"fixed top-4 left-4 z-50 lg:hidden bg-bg-secondary border border-border rounded-lg p-2 text-text-secondary hover:text-text\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                className: \"w-5 h-5\"\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n            lineNumber: 174,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                initial: {\n                    x: -320\n                },\n                animate: {\n                    x: 0\n                },\n                className: \"w-80 h-full bg-bg-secondary border-r border-border flex flex-col shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 border-b border-border\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                className: \"text-lg font-bold text-text\",\n                                                style: {\n                                                    fontFamily: \"Space Grotesk\"\n                                                },\n                                                children: \"NOSTR MESH\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 189,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                        className: `w-3 h-3 ${connectedCount > 0 ? \"text-green\" : \"text-red\"}`\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 191,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: connectedCount > 0 ? \"text-green\" : \"text-red\",\n                                                        children: connectedCount\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 192,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 190,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowAddContact(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Add contact\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 196,\n                                                    columnNumber: 182\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 196,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowCreateChannel(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Create channel\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 197,\n                                                    columnNumber: 188\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 197,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowSettings(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Settings\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 198,\n                                                    columnNumber: 177\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 198,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: _lib_store__WEBPACK_IMPORTED_MODULE_3__.toggleSidebar,\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors lg:hidden\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 199,\n                                                    columnNumber: 156\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 199,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 195,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleOpenProfile,\n                                className: \"w-full flex items-center gap-2.5 px-2 py-2 bg-bg-tertiary hover:bg-bg-hover rounded-lg transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        pubkey: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey,\n                                        name: profileName,\n                                        picture: profilePicture,\n                                        size: \"sm\",\n                                        showBorder: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 204,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-w-0 text-left\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs font-medium text-text truncate\",\n                                                children: profileName || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-[10px] text-text-muted font-mono truncate\",\n                                                children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 207,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 205,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            handleCopyPubkey();\n                                        },\n                                        className: \"p-1 rounded hover:bg-bg-active transition-colors\",\n                                        title: \"Copy key\",\n                                        children: copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-3 h-3 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 210,\n                                            columnNumber: 25\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                            className: \"w-3 h-3 text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 210,\n                                            columnNumber: 68\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 209,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 203,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative mt-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: searchQuery,\n                                        onChange: (e)=>setSearchQuery(e.target.value),\n                                        placeholder: \"Search chats/channels...\",\n                                        className: \"w-full pl-9 pr-3 py-2 bg-bg-tertiary border border-border rounded-lg text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pt-3 pb-1 text-[10px] uppercase tracking-wider text-text-muted\",\n                                children: \"Contacts\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 221,\n                                columnNumber: 11\n                            }, this),\n                            filteredContacts.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 text-xs text-text-muted\",\n                                children: \"No contacts yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: filteredContacts.map((contact)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContactItem, {\n                                        contact: contact,\n                                        isActive: activeChat === contact.pubkey,\n                                        onClick: ()=>{\n                                            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(contact.pubkey);\n                                            if (window.innerWidth < 1024) (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.toggleSidebar)();\n                                        },\n                                        onRemove: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.removeContact)(contact.pubkey)\n                                    }, contact.pubkey, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pt-4 pb-1 text-[10px] uppercase tracking-wider text-text-muted\",\n                                children: \"Channels\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 241,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pb-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: joinChannelId,\n                                            onChange: (e)=>setJoinChannelId(e.target.value),\n                                            placeholder: \"Channel ID\",\n                                            className: \"flex-1 bg-bg-tertiary border border-border rounded-lg px-2.5 py-2 text-xs text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 244,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleJoinChannel,\n                                            className: \"px-2.5 py-2 bg-accent hover:bg-accent-hover rounded-lg text-xs text-white\",\n                                            children: \"Join\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 245,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                    lineNumber: 243,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 11\n                            }, this),\n                            filteredChannels.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 text-xs text-text-muted\",\n                                children: \"No channels yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: filteredChannels.map((channel)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channel.id}`);\n                                            if (window.innerWidth < 1024) (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.toggleSidebar)();\n                                        },\n                                        className: `w-full flex items-center gap-2 px-4 py-2.5 text-left transition-colors ${activeChat === `channel:${channel.id}` ? \"bg-accent/10 border-r-2 border-accent\" : \"hover:bg-bg-hover\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4 text-cyan shrink-0\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 261,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-text truncate\",\n                                                        children: channel.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 263,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-[10px] text-text-muted font-mono truncate\",\n                                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(channel.id)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 264,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, channel.id, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 253,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 251,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 220,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 185,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.AnimatePresence, {\n                children: showAddContact && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowAddContact(false),\n                    title: \"Add Contact\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newContactKey,\n                                onChange: (e)=>setNewContactKey(e.target.value),\n                                placeholder: \"Public key (64 hex)\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newContactName,\n                                onChange: (e)=>setNewContactName(e.target.value),\n                                placeholder: \"Display name (optional)\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 15\n                            }, this),\n                            addError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-red text-xs\",\n                                children: addError\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 28\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleAddContact,\n                                className: \"w-full px-4 py-3 bg-accent hover:bg-accent-hover text-white rounded-lg text-sm font-medium transition-colors\",\n                                children: \"Add\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 276,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 275,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 273,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.AnimatePresence, {\n                children: showCreateChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowCreateChannel(false),\n                    title: \"Create Channel\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newChannelName,\n                                onChange: (e)=>setNewChannelName(e.target.value),\n                                placeholder: \"Channel name\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 290,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: newChannelAbout,\n                                onChange: (e)=>setNewChannelAbout(e.target.value),\n                                rows: 3,\n                                placeholder: \"About channel\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 291,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleCreateChannel,\n                                className: \"w-full px-4 py-3 bg-cyan/20 hover:bg-cyan/30 text-cyan rounded-lg text-sm font-medium transition-colors\",\n                                children: \"Create\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 292,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 289,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 288,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 286,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.AnimatePresence, {\n                children: showProfile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowProfile(false),\n                    title: \"My Profile\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative group\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            pubkey: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey,\n                                            name: profileName,\n                                            picture: profilePicture,\n                                            size: \"xl\",\n                                            showBorder: true\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 304,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                    className: \"w-6 h-6 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 306,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    accept: \"image/*\",\n                                                    className: \"hidden\",\n                                                    onChange: handleAvatarUpload\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 307,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 305,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                    lineNumber: 303,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 302,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: profileName,\n                                onChange: (e)=>setProfileName(e.target.value),\n                                placeholder: \"Name\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 311,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: profileAbout,\n                                onChange: (e)=>setProfileAbout(e.target.value),\n                                rows: 2,\n                                placeholder: \"About\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 312,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: profilePicture,\n                                onChange: (e)=>setProfilePicture(e.target.value),\n                                placeholder: \"Avatar URL\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 313,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSaveProfile,\n                                disabled: profileSaving,\n                                className: \"w-full px-4 py-3 bg-accent hover:bg-accent-hover disabled:opacity-50 text-white rounded-lg text-sm font-medium transition-colors\",\n                                children: profileSaving ? \"Saving...\" : \"Save\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 314,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 301,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 300,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 298,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.AnimatePresence, {\n                children: showSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowSettings(false),\n                    title: \"Settings\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4 max-h-[70vh] overflow-y-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-text-muted uppercase tracking-wider mb-2 block flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 325,\n                                                columnNumber: 122\n                                            }, this),\n                                            \" Relays\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 325,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-1 mb-2\",\n                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.relays.map((relay)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between px-3 py-2 bg-bg-tertiary rounded-lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: `w-2 h-2 rounded-full ${_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getRelayStatus(relay) === \"connected\" ? \"bg-green\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getRelayStatus(relay) === \"connecting\" ? \"bg-yellow\" : \"bg-red\"}`\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                                lineNumber: 330,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-text-secondary font-mono\",\n                                                                children: relay.replace(\"wss://\", \"\")\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                                lineNumber: 331,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 329,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.removeRelay(relay);\n                                                            setTick((t)=>t + 1);\n                                                        },\n                                                        className: \"text-text-muted hover:text-red transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                            lineNumber: 333,\n                                                            columnNumber: 165\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 333,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, relay, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 328,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 326,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: newRelay,\n                                                onChange: (e)=>setNewRelay(e.target.value),\n                                                onKeyDown: (e)=>e.key === \"Enter\" && handleAddRelay(),\n                                                placeholder: \"wss://relay.example.com\",\n                                                className: \"flex-1 bg-bg-tertiary border border-border rounded-lg px-3 py-2 text-xs text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 338,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleAddRelay,\n                                                className: \"px-3 py-2 bg-accent hover:bg-accent-hover text-white rounded-lg text-xs transition-colors\",\n                                                children: \"+\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 339,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 324,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                        children: \"Public key\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 344,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-bg-tertiary rounded-lg p-3 text-xs text-text-secondary font-mono break-all\",\n                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 345,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 343,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleLogout,\n                                className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-dim hover:bg-red/20 border border-red/20 text-red rounded-lg text-sm transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 348,\n                                        columnNumber: 208\n                                    }, this),\n                                    \" Logout\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 348,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 323,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 322,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 320,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction ContactItem({ contact, isActive, onClick, onRemove }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `group flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors relative ${isActive ? \"bg-accent/10 border-r-2 border-accent\" : \"hover:bg-bg-hover\"}`,\n        onClick: onClick,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                pubkey: contact.pubkey,\n                name: contact.name,\n                picture: contact.picture,\n                size: \"md\",\n                showBorder: true\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 360,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium text-text truncate\",\n                                children: contact.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(contact.pubkey)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 363,\n                                columnNumber: 11\n                            }, this),\n                            contact.lastMessageTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] text-text-muted shrink-0 ml-2\",\n                                children: formatTime(contact.lastMessageTime)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 364,\n                                columnNumber: 39\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 362,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-text-muted truncate\",\n                                children: contact.lastMessage || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(contact.pubkey)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 367,\n                                columnNumber: 11\n                            }, this),\n                            (contact.unread || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 shrink-0 bg-accent text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center\",\n                                children: contact.unread\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 368,\n                                columnNumber: 41\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 366,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 361,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onRemove();\n                },\n                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-lg bg-red-dim text-red opacity-0 group-hover:opacity-100 hover:bg-red/20 transition-all\",\n                title: \"Remove\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    className: \"w-3 h-3\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 371,\n                    columnNumber: 238\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 371,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n        lineNumber: 359,\n        columnNumber: 5\n    }, this);\n}\nfunction Modal({ children, onClose, title }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n        initial: {\n            opacity: 0\n        },\n        animate: {\n            opacity: 1\n        },\n        exit: {\n            opacity: 0\n        },\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n            initial: {\n                scale: 0.95,\n                opacity: 0\n            },\n            animate: {\n                scale: 1,\n                opacity: 1\n            },\n            exit: {\n                scale: 0.95,\n                opacity: 0\n            },\n            onClick: (e)=>e.stopPropagation(),\n            className: \"w-full max-w-md bg-bg-secondary border border-border rounded-xl p-5\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-bold text-text\",\n                            style: {\n                                fontFamily: \"Space Grotesk\"\n                            },\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                            lineNumber: 381,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-1 rounded-lg hover:bg-bg-hover text-text-secondary\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_ChevronLeft_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 102\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                            lineNumber: 382,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 380,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n            lineNumber: 379,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n        lineNumber: 378,\n        columnNumber: 5\n    }, this);\n}\nfunction formatTime(ts) {\n    const d = new Date(ts);\n    const now = new Date();\n    const diff = now.getTime() - d.getTime();\n    if (diff < 86400000 && d.getDate() === now.getDate()) return d.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n    });\n    if (diff < 604800000) return d.toLocaleDateString(\"en-US\", {\n        weekday: \"short\"\n    });\n    return d.toLocaleDateString(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QThCTSxPQUFPO2dDQUFFQyxZQUFZOzRCQUFnQjtzQ0FBSUU7Ozs7OztzQ0FDckYsOERBQUNYOzRCQUFPQyxTQUFTMkI7NEJBQVMxQixXQUFVO3NDQUF1RCw0RUFBQzdILGlMQUFDQTtnQ0FBQzZILFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7O2dCQUV6RzBDOzs7Ozs7Ozs7Ozs7QUFJVDtBQUVBLFNBQVNILFdBQVdRLEVBQVU7SUFDNUIsTUFBTUMsSUFBSSxJQUFJM0YsS0FBSzBGO0lBQ25CLE1BQU16RixNQUFNLElBQUlEO0lBQ2hCLE1BQU00RixPQUFPM0YsSUFBSTRGLE9BQU8sS0FBS0YsRUFBRUUsT0FBTztJQUN0QyxJQUFJRCxPQUFPLFlBQVlELEVBQUVHLE9BQU8sT0FBTzdGLElBQUk2RixPQUFPLElBQUksT0FBT0gsRUFBRUksa0JBQWtCLENBQUMsRUFBRSxFQUFFO1FBQUVDLE1BQU07UUFBV0MsUUFBUTtJQUFVO0lBQzNILElBQUlMLE9BQU8sV0FBVyxPQUFPRCxFQUFFTyxrQkFBa0IsQ0FBQyxTQUFTO1FBQUVDLFNBQVM7SUFBUTtJQUM5RSxPQUFPUixFQUFFTyxrQkFBa0IsQ0FBQyxTQUFTO1FBQUVFLE9BQU87UUFBU0MsS0FBSztJQUFVO0FBQ3hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9jb21wb25lbnRzL1NpZGViYXIudHN4PzU1NTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFuaW1hdGVQcmVzZW5jZSwgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBDYW1lcmEsIENoZWNrLCBDaGV2cm9uTGVmdCwgQ29weSwgSGFzaCwgTG9nT3V0LCBNZXNzYWdlQ2lyY2xlLCBSYWRpbywgU2VhcmNoLCBTZXR0aW5ncywgVHJhc2gyLCBVc2VyUGx1cywgV2lmaSwgWCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBub3N0ckNsaWVudCwgdHlwZSBDaGFubmVsLCB0eXBlIENvbnRhY3QgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHtcbiAgYWRkQ2hhbm5lbCxcbiAgYWRkQ29udGFjdCxcbiAgcmVtb3ZlQ29udGFjdCxcbiAgc2V0QWN0aXZlQ2hhdCxcbiAgc2V0TG9nZ2VkSW4sXG4gIHRvZ2dsZVNpZGViYXIsXG4gIHVwZGF0ZUNvbnRhY3RQcm9maWxlLFxuICB1c2VBcHBTdGF0ZSxcbn0gZnJvbSAnLi4vbGliL3N0b3JlJztcbmltcG9ydCBBdmF0YXIgZnJvbSAnLi9BdmF0YXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaWRlYmFyKCkge1xuICBjb25zdCB7IGNvbnRhY3RzLCBjaGFubmVscywgYWN0aXZlQ2hhdCwgc2hvd1NpZGViYXIgfSA9IHVzZUFwcFN0YXRlKCk7XG4gIGNvbnN0IFtzaG93QWRkQ29udGFjdCwgc2V0U2hvd0FkZENvbnRhY3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1Byb2ZpbGUsIHNldFNob3dQcm9maWxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dDcmVhdGVDaGFubmVsLCBzZXRTaG93Q3JlYXRlQ2hhbm5lbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdDb250YWN0S2V5LCBzZXROZXdDb250YWN0S2V5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0NvbnRhY3ROYW1lLCBzZXROZXdDb250YWN0TmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDaGFubmVsTmFtZSwgc2V0TmV3Q2hhbm5lbE5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Q2hhbm5lbEFib3V0LCBzZXROZXdDaGFubmVsQWJvdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbam9pbkNoYW5uZWxJZCwgc2V0Sm9pbkNoYW5uZWxJZF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3UmVsYXksIHNldE5ld1JlbGF5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2ZpbGVOYW1lLCBzZXRQcm9maWxlTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtwcm9maWxlQWJvdXQsIHNldFByb2ZpbGVBYm91dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtwcm9maWxlUGljdHVyZSwgc2V0UHJvZmlsZVBpY3R1cmVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbcHJvZmlsZVNhdmluZywgc2V0UHJvZmlsZVNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZGRFcnJvciwgc2V0QWRkRXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbLCBzZXRUaWNrXSA9IHVzZVN0YXRlKDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdTEgPSBub3N0ckNsaWVudC5vbkNvbm5lY3Rpb24oKCkgPT4gc2V0VGljayh0ID0+IHQgKyAxKSk7XG4gICAgY29uc3QgdTIgPSBub3N0ckNsaWVudC5vbkNoYW5uZWwoY2hhbm5lbCA9PiBhZGRDaGFubmVsKGNoYW5uZWwpKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdTEoKTtcbiAgICAgIHUyKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWIgPSBub3N0ckNsaWVudC5vblByb2ZpbGUoKHB1YmtleSwgcHJvZmlsZSkgPT4ge1xuICAgICAgdXBkYXRlQ29udGFjdFByb2ZpbGUocHVia2V5LCBwcm9maWxlLm5hbWUsIHByb2ZpbGUucGljdHVyZSwgcHJvZmlsZS5hYm91dCk7XG4gICAgICBpZiAocHVia2V5ID09PSBub3N0ckNsaWVudC5wdWJsaWNLZXkpIHtcbiAgICAgICAgc2V0UHJvZmlsZU5hbWUocHJvZmlsZS5uYW1lIHx8ICcnKTtcbiAgICAgICAgc2V0UHJvZmlsZUFib3V0KHByb2ZpbGUuYWJvdXQgfHwgJycpO1xuICAgICAgICBzZXRQcm9maWxlUGljdHVyZShwcm9maWxlLnBpY3R1cmUgfHwgJycpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB1bnN1YjtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUFkZENvbnRhY3QgPSAoKSA9PiB7XG4gICAgc2V0QWRkRXJyb3IoJycpO1xuICAgIGNvbnN0IGtleSA9IG5ld0NvbnRhY3RLZXkudHJpbSgpO1xuICAgIGlmICghbm9zdHJDbGllbnQuaXNWYWxpZEhleEtleShrZXkpKSB7XG4gICAgICBzZXRBZGRFcnJvcignSW52YWxpZCBwdWJsaWMga2V5LiBFeHBlY3RlZCA2NC1jaGFyIGhleC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5KSB7XG4gICAgICBzZXRBZGRFcnJvcignWW91IGNhbm5vdCBhZGQgeW91cnNlbGYuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZENvbnRhY3Qoa2V5LCBuZXdDb250YWN0TmFtZS50cmltKCkgfHwgdW5kZWZpbmVkKTtcbiAgICBzZXROZXdDb250YWN0S2V5KCcnKTtcbiAgICBzZXROZXdDb250YWN0TmFtZSgnJyk7XG4gICAgc2V0U2hvd0FkZENvbnRhY3QoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZUNoYW5uZWwgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG5ld0NoYW5uZWxOYW1lLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2hhbm5lbCA9IGF3YWl0IG5vc3RyQ2xpZW50LmNyZWF0ZUNoYW5uZWwobmFtZSwgbmV3Q2hhbm5lbEFib3V0LnRyaW0oKSk7XG4gICAgICBhZGRDaGFubmVsKGNoYW5uZWwpO1xuICAgICAgc2V0QWN0aXZlQ2hhdChgY2hhbm5lbDoke2NoYW5uZWwuaWR9YCk7XG4gICAgICBzZXROZXdDaGFubmVsTmFtZSgnJyk7XG4gICAgICBzZXROZXdDaGFubmVsQWJvdXQoJycpO1xuICAgICAgc2V0U2hvd0NyZWF0ZUNoYW5uZWwoZmFsc2UpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gaWdub3JlXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUpvaW5DaGFubmVsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNoYW5uZWxJZCA9IGpvaW5DaGFubmVsSWQudHJpbSgpO1xuICAgIGlmICghY2hhbm5lbElkKSByZXR1cm47XG4gICAgY29uc3Qga25vd24gPSBjaGFubmVscy5maW5kKGMgPT4gYy5pZCA9PT0gY2hhbm5lbElkKTtcbiAgICBpZiAoIWtub3duKSB7XG4gICAgICBjb25zdCBsb2NhbENoYW5uZWw6IENoYW5uZWwgPSB7XG4gICAgICAgIGlkOiBjaGFubmVsSWQsXG4gICAgICAgIG5hbWU6IGBjaGFubmVsLSR7Y2hhbm5lbElkLnNsaWNlKDAsIDgpfWAsXG4gICAgICAgIGNyZWF0ZWRCeTogJycsXG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG4gICAgICBhZGRDaGFubmVsKGxvY2FsQ2hhbm5lbCk7XG4gICAgfVxuICAgIHNldEFjdGl2ZUNoYXQoYGNoYW5uZWw6JHtjaGFubmVsSWR9YCk7XG4gICAgc2V0Sm9pbkNoYW5uZWxJZCgnJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29weVB1YmtleSA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChub3N0ckNsaWVudC5wdWJsaWNLZXkpO1xuICAgIHNldENvcGllZCh0cnVlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDE4MDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU9wZW5Qcm9maWxlID0gKCkgPT4ge1xuICAgIGNvbnN0IHAgPSBub3N0ckNsaWVudC5nZXRQcm9maWxlKG5vc3RyQ2xpZW50LnB1YmxpY0tleSk7XG4gICAgc2V0UHJvZmlsZU5hbWUocD8ubmFtZSB8fCAnJyk7XG4gICAgc2V0UHJvZmlsZUFib3V0KHA/LmFib3V0IHx8ICcnKTtcbiAgICBzZXRQcm9maWxlUGljdHVyZShwPy5waWN0dXJlIHx8ICcnKTtcbiAgICBzZXRTaG93UHJvZmlsZSh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlUHJvZmlsZSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRQcm9maWxlU2F2aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBub3N0ckNsaWVudC51cGRhdGVQcm9maWxlKHsgbmFtZTogcHJvZmlsZU5hbWUsIGFib3V0OiBwcm9maWxlQWJvdXQsIHBpY3R1cmU6IHByb2ZpbGVQaWN0dXJlIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gaWdub3JlXG4gICAgfVxuICAgIHNldFByb2ZpbGVTYXZpbmcoZmFsc2UpO1xuICAgIHNldFNob3dQcm9maWxlKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBdmF0YXJVcGxvYWQgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICBpZiAoZmlsZS5zaXplID4gMjAwICogMTAyNCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHNldFByb2ZpbGVQaWN0dXJlKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRSZWxheSA9ICgpID0+IHtcbiAgICBsZXQgdXJsID0gbmV3UmVsYXkudHJpbSgpO1xuICAgIGlmICghdXJsKSByZXR1cm47XG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aCgnd3NzOi8vJykgJiYgIXVybC5zdGFydHNXaXRoKCd3czovLycpKSB1cmwgPSBgd3NzOi8vJHt1cmx9YDtcbiAgICBub3N0ckNsaWVudC5hZGRSZWxheSh1cmwpO1xuICAgIHNldE5ld1JlbGF5KCcnKTtcbiAgICBzZXRUaWNrKHQgPT4gdCArIDEpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHtcbiAgICBub3N0ckNsaWVudC5sb2dvdXQoKTtcbiAgICBzZXRMb2dnZWRJbihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyZWRDb250YWN0cyA9IGNvbnRhY3RzXG4gICAgLmZpbHRlcihjID0+IHtcbiAgICAgIGlmICghc2VhcmNoUXVlcnkpIHJldHVybiB0cnVlO1xuICAgICAgY29uc3QgcSA9IHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gYy5uYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8IGMucHVia2V5LmluY2x1ZGVzKHEpO1xuICAgIH0pXG4gICAgLnNvcnQoKGEsIGIpID0+IChiLmxhc3RNZXNzYWdlVGltZSB8fCAwKSAtIChhLmxhc3RNZXNzYWdlVGltZSB8fCAwKSk7XG5cbiAgY29uc3QgZmlsdGVyZWRDaGFubmVscyA9IGNoYW5uZWxzLmZpbHRlcihjID0+IHtcbiAgICBpZiAoIXNlYXJjaFF1ZXJ5KSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCBxID0gc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwgYy5pZC5pbmNsdWRlcyhxKTtcbiAgfSk7XG5cbiAgY29uc3QgY29ubmVjdGVkQ291bnQgPSBub3N0ckNsaWVudC5jb25uZWN0ZWRSZWxheUNvdW50O1xuXG4gIGlmICghc2hvd1NpZGViYXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXt0b2dnbGVTaWRlYmFyfVxuICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNCBsZWZ0LTQgei01MCBsZzpoaWRkZW4gYmctYmctc2Vjb25kYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0yIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0XCJcbiAgICAgID5cbiAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPG1vdGlvbi5kaXYgaW5pdGlhbD17eyB4OiAtMzIwIH19IGFuaW1hdGU9e3sgeDogMCB9fSBjbGFzc05hbWU9XCJ3LTgwIGgtZnVsbCBiZy1iZy1zZWNvbmRhcnkgYm9yZGVyLXIgYm9yZGVyLWJvcmRlciBmbGV4IGZsZXgtY29sIHNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1ib3JkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXRleHRcIiBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX0+Tk9TVFIgTUVTSDwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgIDxSYWRpbyBjbGFzc05hbWU9e2B3LTMgaC0zICR7Y29ubmVjdGVkQ291bnQgPiAwID8gJ3RleHQtZ3JlZW4nIDogJ3RleHQtcmVkJ31gfSAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y29ubmVjdGVkQ291bnQgPiAwID8gJ3RleHQtZ3JlZW4nIDogJ3RleHQtcmVkJ30+e2Nvbm5lY3RlZENvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWRkQ29udGFjdCh0cnVlKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIkFkZCBjb250YWN0XCI+PFVzZXJQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dDcmVhdGVDaGFubmVsKHRydWUpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiQ3JlYXRlIGNoYW5uZWxcIj48SGFzaCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93U2V0dGluZ3ModHJ1ZSl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJTZXR0aW5nc1wiPjxTZXR0aW5ncyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGVTaWRlYmFyfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9ycyBsZzpoaWRkZW5cIj48Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlT3BlblByb2ZpbGV9IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMi41IHB4LTIgcHktMiBiZy1iZy10ZXJ0aWFyeSBob3ZlcjpiZy1iZy1ob3ZlciByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICA8QXZhdGFyIHB1YmtleT17bm9zdHJDbGllbnQucHVibGljS2V5fSBuYW1lPXtwcm9maWxlTmFtZX0gcGljdHVyZT17cHJvZmlsZVBpY3R1cmV9IHNpemU9XCJzbVwiIHNob3dCb3JkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTAgdGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC10ZXh0IHRydW5jYXRlXCI+e3Byb2ZpbGVOYW1lIHx8IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkobm9zdHJDbGllbnQucHVibGljS2V5KX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBmb250LW1vbm8gdHJ1bmNhdGVcIj57bm9zdHJDbGllbnQuc2hvcnRlbktleShub3N0ckNsaWVudC5wdWJsaWNLZXkpfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBoYW5kbGVDb3B5UHVia2V5KCk7IH19IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkIGhvdmVyOmJnLWJnLWFjdGl2ZSB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiQ29weSBrZXlcIj5cbiAgICAgICAgICAgICAge2NvcGllZCA/IDxDaGVjayBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtZ3JlZW5cIiAvPiA6IDxDb3B5IGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC10ZXh0LW11dGVkXCIgLz59XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbXQtM1wiPlxuICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHctNCBoLTQgdGV4dC10ZXh0LW11dGVkXCIgLz5cbiAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17c2VhcmNoUXVlcnl9IG9uQ2hhbmdlPXtlID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9XCJTZWFyY2ggY2hhdHMvY2hhbm5lbHMuLi5cIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtOSBwci0zIHB5LTIgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXNtIHRleHQtdGV4dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHQtMyBwYi0xIHRleHQtWzEwcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciB0ZXh0LXRleHQtbXV0ZWRcIj5Db250YWN0czwvZGl2PlxuICAgICAgICAgIHtmaWx0ZXJlZENvbnRhY3RzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQteHMgdGV4dC10ZXh0LW11dGVkXCI+Tm8gY29udGFjdHMgeWV0LjwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTFcIj5cbiAgICAgICAgICAgICAge2ZpbHRlcmVkQ29udGFjdHMubWFwKGNvbnRhY3QgPT4gKFxuICAgICAgICAgICAgICAgIDxDb250YWN0SXRlbVxuICAgICAgICAgICAgICAgICAga2V5PXtjb250YWN0LnB1YmtleX1cbiAgICAgICAgICAgICAgICAgIGNvbnRhY3Q9e2NvbnRhY3R9XG4gICAgICAgICAgICAgICAgICBpc0FjdGl2ZT17YWN0aXZlQ2hhdCA9PT0gY29udGFjdC5wdWJrZXl9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUNoYXQoY29udGFjdC5wdWJrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCAxMDI0KSB0b2dnbGVTaWRlYmFyKCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25SZW1vdmU9eygpID0+IHJlbW92ZUNvbnRhY3QoY29udGFjdC5wdWJrZXkpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBwdC00IHBiLTEgdGV4dC1bMTBweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIHRleHQtdGV4dC1tdXRlZFwiPkNoYW5uZWxzPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHBiLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e2pvaW5DaGFubmVsSWR9IG9uQ2hhbmdlPXtlID0+IHNldEpvaW5DaGFubmVsSWQoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkNoYW5uZWwgSURcIiBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0yLjUgcHktMiB0ZXh0LXhzIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVKb2luQ2hhbm5lbH0gY2xhc3NOYW1lPVwicHgtMi41IHB5LTIgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciByb3VuZGVkLWxnIHRleHQteHMgdGV4dC13aGl0ZVwiPkpvaW48L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtmaWx0ZXJlZENoYW5uZWxzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQteHMgdGV4dC10ZXh0LW11dGVkXCI+Tm8gY2hhbm5lbHMgeWV0LjwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTFcIj5cbiAgICAgICAgICAgICAge2ZpbHRlcmVkQ2hhbm5lbHMubWFwKGNoYW5uZWwgPT4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17Y2hhbm5lbC5pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQ2hhdChgY2hhbm5lbDoke2NoYW5uZWwuaWR9YCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQpIHRvZ2dsZVNpZGViYXIoKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yLjUgdGV4dC1sZWZ0IHRyYW5zaXRpb24tY29sb3JzICR7YWN0aXZlQ2hhdCA9PT0gYGNoYW5uZWw6JHtjaGFubmVsLmlkfWAgPyAnYmctYWNjZW50LzEwIGJvcmRlci1yLTIgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEhhc2ggY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWN5YW4gc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0IHRydW5jYXRlXCI+e2NoYW5uZWwubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBmb250LW1vbm8gdHJ1bmNhdGVcIj57bm9zdHJDbGllbnQuc2hvcnRlbktleShjaGFubmVsLmlkKX08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3Nob3dBZGRDb250YWN0ICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0FkZENvbnRhY3QoZmFsc2UpfSB0aXRsZT1cIkFkZCBDb250YWN0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NvbnRhY3RLZXl9IG9uQ2hhbmdlPXtlID0+IHNldE5ld0NvbnRhY3RLZXkoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlB1YmxpYyBrZXkgKDY0IGhleClcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdDb250YWN0TmFtZX0gb25DaGFuZ2U9e2UgPT4gc2V0TmV3Q29udGFjdE5hbWUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkRpc3BsYXkgbmFtZSAob3B0aW9uYWwpXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAge2FkZEVycm9yICYmIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkIHRleHQteHNcIj57YWRkRXJyb3J9PC9wPn1cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBZGRDb250YWN0fSBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIj5BZGQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3Nob3dDcmVhdGVDaGFubmVsICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0NyZWF0ZUNoYW5uZWwoZmFsc2UpfSB0aXRsZT1cIkNyZWF0ZSBDaGFubmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NoYW5uZWxOYW1lfSBvbkNoYW5nZT17ZSA9PiBzZXROZXdDaGFubmVsTmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiQ2hhbm5lbCBuYW1lXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtuZXdDaGFubmVsQWJvdXR9IG9uQ2hhbmdlPXtlID0+IHNldE5ld0NoYW5uZWxBYm91dChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezN9IHBsYWNlaG9sZGVyPVwiQWJvdXQgY2hhbm5lbFwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMi41IHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MCByZXNpemUtbm9uZVwiIC8+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ3JlYXRlQ2hhbm5lbH0gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1jeWFuLzIwIGhvdmVyOmJnLWN5YW4vMzAgdGV4dC1jeWFuIHJvdW5kZWQtbGcgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1wiPkNyZWF0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2hvd1Byb2ZpbGUgJiYgKFxuICAgICAgICAgIDxNb2RhbCBvbkNsb3NlPXsoKSA9PiBzZXRTaG93UHJvZmlsZShmYWxzZSl9IHRpdGxlPVwiTXkgUHJvZmlsZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgcHVia2V5PXtub3N0ckNsaWVudC5wdWJsaWNLZXl9IG5hbWU9e3Byb2ZpbGVOYW1lfSBwaWN0dXJlPXtwcm9maWxlUGljdHVyZX0gc2l6ZT1cInhsXCIgc2hvd0JvcmRlciAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNTAgcm91bmRlZC1mdWxsIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPENhbWVyYSBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgY2xhc3NOYW1lPVwiaGlkZGVuXCIgb25DaGFuZ2U9e2hhbmRsZUF2YXRhclVwbG9hZH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3Byb2ZpbGVOYW1lfSBvbkNoYW5nZT17ZSA9PiBzZXRQcm9maWxlTmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiTmFtZVwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMi41IHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MFwiIC8+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17cHJvZmlsZUFib3V0fSBvbkNoYW5nZT17ZSA9PiBzZXRQcm9maWxlQWJvdXQoZS50YXJnZXQudmFsdWUpfSByb3dzPXsyfSBwbGFjZWhvbGRlcj1cIkFib3V0XCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwIHJlc2l6ZS1ub25lXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtwcm9maWxlUGljdHVyZX0gb25DaGFuZ2U9e2UgPT4gc2V0UHJvZmlsZVBpY3R1cmUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkF2YXRhciBVUkxcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNhdmVQcm9maWxlfSBkaXNhYmxlZD17cHJvZmlsZVNhdmluZ30gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIj57cHJvZmlsZVNhdmluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2hvd1NldHRpbmdzICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd1NldHRpbmdzKGZhbHNlKX0gdGl0bGU9XCJTZXR0aW5nc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgbWF4LWgtWzcwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMiBibG9jayBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+PFdpZmkgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IFJlbGF5czwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTEgbWItMlwiPlxuICAgICAgICAgICAgICAgICAge25vc3RyQ2xpZW50LnJlbGF5cy5tYXAocmVsYXkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cmVsYXl9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTIgYmctYmctdGVydGlhcnkgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0yIGgtMiByb3VuZGVkLWZ1bGwgJHtub3N0ckNsaWVudC5nZXRSZWxheVN0YXR1cyhyZWxheSkgPT09ICdjb25uZWN0ZWQnID8gJ2JnLWdyZWVuJyA6IG5vc3RyQ2xpZW50LmdldFJlbGF5U3RhdHVzKHJlbGF5KSA9PT0gJ2Nvbm5lY3RpbmcnID8gJ2JnLXllbGxvdycgOiAnYmctcmVkJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGZvbnQtbW9ub1wiPntyZWxheS5yZXBsYWNlKCd3c3M6Ly8nLCAnJyl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBub3N0ckNsaWVudC5yZW1vdmVSZWxheShyZWxheSk7IHNldFRpY2sodCA9PiB0ICsgMSk7IH19IGNsYXNzTmFtZT1cInRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXJlZCB0cmFuc2l0aW9uLWNvbG9yc1wiPjxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdSZWxheX0gb25DaGFuZ2U9e2UgPT4gc2V0TmV3UmVsYXkoZS50YXJnZXQudmFsdWUpfSBvbktleURvd249e2UgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgaGFuZGxlQWRkUmVsYXkoKX0gcGxhY2Vob2xkZXI9XCJ3c3M6Ly9yZWxheS5leGFtcGxlLmNvbVwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXhzIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQWRkUmVsYXl9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC1sZyB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMSBibG9ja1wiPlB1YmxpYyBrZXk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmctdGVydGlhcnkgcm91bmRlZC1sZyBwLTMgdGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGZvbnQtbW9ubyBicmVhay1hbGxcIj57bm9zdHJDbGllbnQucHVibGljS2V5fTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHB4LTQgcHktMyBiZy1yZWQtZGltIGhvdmVyOmJnLXJlZC8yMCBib3JkZXIgYm9yZGVyLXJlZC8yMCB0ZXh0LXJlZCByb3VuZGVkLWxnIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIj48TG9nT3V0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiBMb2dvdXQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICA8Lz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ29udGFjdEl0ZW0oeyBjb250YWN0LCBpc0FjdGl2ZSwgb25DbGljaywgb25SZW1vdmUgfTogeyBjb250YWN0OiBDb250YWN0OyBpc0FjdGl2ZTogYm9vbGVhbjsgb25DbGljazogKCkgPT4gdm9pZDsgb25SZW1vdmU6ICgpID0+IHZvaWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBweS0zIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHJlbGF0aXZlICR7aXNBY3RpdmUgPyAnYmctYWNjZW50LzEwIGJvcmRlci1yLTIgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9IG9uQ2xpY2s9e29uQ2xpY2t9PlxuICAgICAgPEF2YXRhciBwdWJrZXk9e2NvbnRhY3QucHVia2V5fSBuYW1lPXtjb250YWN0Lm5hbWV9IHBpY3R1cmU9e2NvbnRhY3QucGljdHVyZX0gc2l6ZT1cIm1kXCIgc2hvd0JvcmRlciAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0IHRydW5jYXRlXCI+e2NvbnRhY3QubmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KGNvbnRhY3QucHVia2V5KX08L3NwYW4+XG4gICAgICAgICAge2NvbnRhY3QubGFzdE1lc3NhZ2VUaW1lICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBzaHJpbmstMCBtbC0yXCI+e2Zvcm1hdFRpbWUoY29udGFjdC5sYXN0TWVzc2FnZVRpbWUpfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkIHRydW5jYXRlXCI+e2NvbnRhY3QubGFzdE1lc3NhZ2UgfHwgbm9zdHJDbGllbnQuc2hvcnRlbktleShjb250YWN0LnB1YmtleSl9PC9zcGFuPlxuICAgICAgICAgIHsoY29udGFjdC51bnJlYWQgfHwgMCkgPiAwICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgc2hyaW5rLTAgYmctYWNjZW50IHRleHQtd2hpdGUgdGV4dC1bMTBweF0gZm9udC1ib2xkIHJvdW5kZWQtZnVsbCB3LTUgaC01IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+e2NvbnRhY3QudW5yZWFkfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e2UgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBvblJlbW92ZSgpOyB9fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTEuNSByb3VuZGVkLWxnIGJnLXJlZC1kaW0gdGV4dC1yZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOmJnLXJlZC8yMCB0cmFuc2l0aW9uLWFsbFwiIHRpdGxlPVwiUmVtb3ZlXCI+PFRyYXNoMiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz48L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gTW9kYWwoeyBjaGlsZHJlbiwgb25DbG9zZSwgdGl0bGUgfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBvbkNsb3NlOiAoKSA9PiB2b2lkOyB0aXRsZTogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNjAgYmFja2Ryb3AtYmx1ci1zbSBwLTRcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgc2NhbGU6IDAuOTUsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBzY2FsZTogMSwgb3BhY2l0eTogMSB9fSBleGl0PXt7IHNjYWxlOiAwLjk1LCBvcGFjaXR5OiAwIH19IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHAtNVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT57dGl0bGV9PC9oMz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnlcIj48WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbW90aW9uLmRpdj5cbiAgICA8L21vdGlvbi5kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUodHM6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSh0cyk7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gZC5nZXRUaW1lKCk7XG4gIGlmIChkaWZmIDwgODY0MDAwMDAgJiYgZC5nZXREYXRlKCkgPT09IG5vdy5nZXREYXRlKCkpIHJldHVybiBkLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICBpZiAoZGlmZiA8IDYwNDgwMDAwMCkgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgd2Vla2RheTogJ3Nob3J0JyB9KTtcbiAgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiQW5pbWF0ZVByZXNlbmNlIiwibW90aW9uIiwiQ2FtZXJhIiwiQ2hlY2siLCJDaGV2cm9uTGVmdCIsIkNvcHkiLCJIYXNoIiwiTG9nT3V0IiwiTWVzc2FnZUNpcmNsZSIsIlJhZGlvIiwiU2VhcmNoIiwiU2V0dGluZ3MiLCJUcmFzaDIiLCJVc2VyUGx1cyIsIldpZmkiLCJYIiwibm9zdHJDbGllbnQiLCJhZGRDaGFubmVsIiwiYWRkQ29udGFjdCIsInJlbW92ZUNvbnRhY3QiLCJzZXRBY3RpdmVDaGF0Iiwic2V0TG9nZ2VkSW4iLCJ0b2dnbGVTaWRlYmFyIiwidXBkYXRlQ29udGFjdFByb2ZpbGUiLCJ1c2VBcHBTdGF0ZSIsIkF2YXRhciIsIlNpZGViYXIiLCJjb250YWN0cyIsImNoYW5uZWxzIiwiYWN0aXZlQ2hhdCIsInNob3dTaWRlYmFyIiwic2hvd0FkZENvbnRhY3QiLCJzZXRTaG93QWRkQ29udGFjdCIsInNob3dTZXR0aW5ncyIsInNldFNob3dTZXR0aW5ncyIsInNob3dQcm9maWxlIiwic2V0U2hvd1Byb2ZpbGUiLCJzaG93Q3JlYXRlQ2hhbm5lbCIsInNldFNob3dDcmVhdGVDaGFubmVsIiwibmV3Q29udGFjdEtleSIsInNldE5ld0NvbnRhY3RLZXkiLCJuZXdDb250YWN0TmFtZSIsInNldE5ld0NvbnRhY3ROYW1lIiwibmV3Q2hhbm5lbE5hbWUiLCJzZXROZXdDaGFubmVsTmFtZSIsIm5ld0NoYW5uZWxBYm91dCIsInNldE5ld0NoYW5uZWxBYm91dCIsImpvaW5DaGFubmVsSWQiLCJzZXRKb2luQ2hhbm5lbElkIiwic2VhcmNoUXVlcnkiLCJzZXRTZWFyY2hRdWVyeSIsIm5ld1JlbGF5Iiwic2V0TmV3UmVsYXkiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJwcm9maWxlTmFtZSIsInNldFByb2ZpbGVOYW1lIiwicHJvZmlsZUFib3V0Iiwic2V0UHJvZmlsZUFib3V0IiwicHJvZmlsZVBpY3R1cmUiLCJzZXRQcm9maWxlUGljdHVyZSIsInByb2ZpbGVTYXZpbmciLCJzZXRQcm9maWxlU2F2aW5nIiwiYWRkRXJyb3IiLCJzZXRBZGRFcnJvciIsInNldFRpY2siLCJ1MSIsIm9uQ29ubmVjdGlvbiIsInQiLCJ1MiIsIm9uQ2hhbm5lbCIsImNoYW5uZWwiLCJ1bnN1YiIsIm9uUHJvZmlsZSIsInB1YmtleSIsInByb2ZpbGUiLCJuYW1lIiwicGljdHVyZSIsImFib3V0IiwicHVibGljS2V5IiwiaGFuZGxlQWRkQ29udGFjdCIsImtleSIsInRyaW0iLCJpc1ZhbGlkSGV4S2V5IiwidW5kZWZpbmVkIiwiaGFuZGxlQ3JlYXRlQ2hhbm5lbCIsImNyZWF0ZUNoYW5uZWwiLCJpZCIsImhhbmRsZUpvaW5DaGFubmVsIiwiY2hhbm5lbElkIiwia25vd24iLCJmaW5kIiwiYyIsImxvY2FsQ2hhbm5lbCIsInNsaWNlIiwiY3JlYXRlZEJ5IiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsImhhbmRsZUNvcHlQdWJrZXkiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJzZXRUaW1lb3V0IiwiaGFuZGxlT3BlblByb2ZpbGUiLCJwIiwiZ2V0UHJvZmlsZSIsImhhbmRsZVNhdmVQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsImhhbmRsZUF2YXRhclVwbG9hZCIsImUiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJzaXplIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJoYW5kbGVBZGRSZWxheSIsInVybCIsInN0YXJ0c1dpdGgiLCJhZGRSZWxheSIsImhhbmRsZUxvZ291dCIsImxvZ291dCIsImZpbHRlcmVkQ29udGFjdHMiLCJmaWx0ZXIiLCJxIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInNvcnQiLCJhIiwiYiIsImxhc3RNZXNzYWdlVGltZSIsImZpbHRlcmVkQ2hhbm5lbHMiLCJjb25uZWN0ZWRDb3VudCIsImNvbm5lY3RlZFJlbGF5Q291bnQiLCJidXR0b24iLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiZGl2IiwiaW5pdGlhbCIsIngiLCJhbmltYXRlIiwiaDEiLCJzdHlsZSIsImZvbnRGYW1pbHkiLCJzcGFuIiwidGl0bGUiLCJzaG93Qm9yZGVyIiwic2hvcnRlbktleSIsInN0b3BQcm9wYWdhdGlvbiIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwibGVuZ3RoIiwibWFwIiwiY29udGFjdCIsIkNvbnRhY3RJdGVtIiwiaXNBY3RpdmUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwib25SZW1vdmUiLCJNb2RhbCIsIm9uQ2xvc2UiLCJ0ZXh0YXJlYSIsInJvd3MiLCJsYWJlbCIsInR5cGUiLCJhY2NlcHQiLCJkaXNhYmxlZCIsInJlbGF5cyIsInJlbGF5IiwiZ2V0UmVsYXlTdGF0dXMiLCJyZXBsYWNlIiwicmVtb3ZlUmVsYXkiLCJvbktleURvd24iLCJmb3JtYXRUaW1lIiwibGFzdE1lc3NhZ2UiLCJ1bnJlYWQiLCJjaGlsZHJlbiIsIm9wYWNpdHkiLCJleGl0Iiwic2NhbGUiLCJoMyIsInRzIiwiZCIsImRpZmYiLCJnZXRUaW1lIiwiZ2V0RGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwibW9udGgiLCJkYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Sidebar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ThemeProvider.tsx":
/*!******************************************!*\
  !*** ./src/components/ThemeProvider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ ThemeProvider auto */ \n\nfunction ThemeProvider({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_1__.ThemeProvider, {\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/ThemeProvider.tsx\",\n        lineNumber: 7,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVrRTtBQUczRCxTQUFTQSxjQUFjLEVBQUVFLFFBQVEsRUFBRSxHQUFHQyxPQUEyQjtJQUN0RSxxQkFBTyw4REFBQ0Ysc0RBQWtCQTtRQUFFLEdBQUdFLEtBQUs7a0JBQUdEOzs7Ozs7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvVGhlbWVQcm92aWRlci50c3g/NmY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgVGhlbWVQcm92aWRlciBhcyBOZXh0VGhlbWVzUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCB0eXBlIHsgVGhlbWVQcm92aWRlclByb3BzIH0gZnJvbSBcIm5leHQtdGhlbWVzL2Rpc3QvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogVGhlbWVQcm92aWRlclByb3BzKSB7XG4gIHJldHVybiA8TmV4dFRoZW1lc1Byb3ZpZGVyIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvTmV4dFRoZW1lc1Byb3ZpZGVyPjtcbn1cbiJdLCJuYW1lcyI6WyJUaGVtZVByb3ZpZGVyIiwiTmV4dFRoZW1lc1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJwcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ThemeProvider.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Welcome.tsx":
/*!************************************!*\
  !*** ./src/components/Welcome.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Welcome: () => (/* binding */ Welcome)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sun.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/moon.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/at-sign.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ Welcome auto */ \n\n\n\nfunction FeatureCard({ icon, title, children, color }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-bg-secondary p-6 rounded-2xl border border-border transform hover:-translate-y-1 transition-transform duration-300 ease-in-out\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-start gap-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `p-2 rounded-lg`,\n                    style: {\n                        backgroundColor: `${color}1A`\n                    },\n                    children: icon\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 17,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"font-bold text-text text-lg\",\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 21,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-text-secondary mt-1\",\n                            children: children\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 22,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\nfunction ThemeToggle() {\n    const { theme, setTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: \"p-2 rounded-full text-text-secondary hover:text-text hover:bg-bg-tertiary transition-colors\",\n        onClick: ()=>setTheme(theme === \"dark\" ? \"light\" : \"dark\"),\n        children: theme === \"dark\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            size: 20\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 37,\n            columnNumber: 27\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            size: 20\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 37,\n            columnNumber: 47\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 33,\n        columnNumber: 5\n    }, this);\n}\nfunction Welcome() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen w-full flex items-center justify-center bg-bg p-4 relative overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-accent/10 via-bg/0 to-bg/0 opacity-70\"\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-4xl bg-bg-secondary/50 backdrop-blur-2xl border border-border rounded-3xl shadow-glow p-8 md:p-12 z-10\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 bg-gradient-to-br from-accent to-blue-500 rounded-full mb-6 shadow-lg\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                size: 32,\n                                className: \"text-white\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                lineNumber: 50,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 49,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-text to-text-secondary\",\n                            children: [\n                                \"Welcome to \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"bg-clip-text text-transparent bg-gradient-to-r from-accent to-blue-500\",\n                                    children: \"Nostr\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 54,\n                                    columnNumber: 24\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 53,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-text-secondary text-lg md:text-xl max-w-2xl mb-10\",\n                            children: \"A new kind of social network. Decentralized, open, and free.\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 57,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full grid grid-cols-1 md:grid-cols-3 gap-6 text-left mb-10\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Direct Messages\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-accent\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 62,\n                                        columnNumber: 56\n                                    }, void 0),\n                                    color: \"#7C3AED\",\n                                    children: \"Encrypted, peer-to-peer conversations.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 62,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Public Channels\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-cyan\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 56\n                                    }, void 0),\n                                    color: \"#22D3EE\",\n                                    children: \"Join communities and discussions.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 65,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Your Identity\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-green\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 68,\n                                        columnNumber: 54\n                                    }, void 0),\n                                    color: \"#4ADE80\",\n                                    children: \"Controlled by you, not a corporation.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 68,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeToggle, {}, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 73,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 48,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                lineNumber: 46,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 44,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9XZWxjb21lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQzRFO0FBQ3JDO0FBQ2I7QUFTMUIsU0FBU1EsWUFBWSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQW9CO0lBQ3JFLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVcsQ0FBQyxjQUFjLENBQUM7b0JBQUVDLE9BQU87d0JBQUVDLGlCQUFpQixDQUFDLEVBQUVKLE1BQU0sRUFBRSxDQUFDO29CQUFBOzhCQUNyRUg7Ozs7Ozs4QkFFSCw4REFBQ0k7O3NDQUNDLDhEQUFDSTs0QkFBR0gsV0FBVTtzQ0FBK0JKOzs7Ozs7c0NBQzdDLDhEQUFDUTs0QkFBRUosV0FBVTtzQ0FBb0NIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLFNBQVNRO0lBQ1AsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHZixxREFBUUE7SUFFcEMscUJBQ0UsOERBQUNnQjtRQUNDUixXQUFVO1FBQ1ZTLFNBQVMsSUFBTUYsU0FBU0QsVUFBVSxTQUFTLFVBQVU7a0JBRXBEQSxVQUFVLHVCQUFTLDhEQUFDaEIsbUhBQUdBO1lBQUNvQixNQUFNOzs7OztpQ0FBUyw4REFBQ25CLG1IQUFJQTtZQUFDbUIsTUFBTTs7Ozs7Ozs7Ozs7QUFHMUQ7QUFFTyxTQUFTQztJQUNkLHFCQUNFLDhEQUFDWjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7Ozs7OzswQkFDZiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBRWIsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNkLG1IQUFHQTtnQ0FBQ3dCLE1BQU07Z0NBQUlWLFdBQVU7Ozs7Ozs7Ozs7O3NDQUczQiw4REFBQ1k7NEJBQUdaLFdBQVU7O2dDQUFpSDs4Q0FDbEgsOERBQUNhO29DQUFLYixXQUFVOzhDQUF5RTs7Ozs7Ozs7Ozs7O3NDQUd0Ryw4REFBQ0k7NEJBQUVKLFdBQVU7c0NBQXlEOzs7Ozs7c0NBSXRFLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNOO29DQUFZRSxPQUFNO29DQUFrQkQsb0JBQU0sOERBQUNQLG1IQUFhQTt3Q0FBQ3NCLE1BQU07d0NBQUlWLFdBQVU7Ozs7OztvQ0FBaUJGLE9BQU07OENBQVU7Ozs7Ozs4Q0FHL0csOERBQUNKO29DQUFZRSxPQUFNO29DQUFrQkQsb0JBQU0sOERBQUNSLG1IQUFLQTt3Q0FBQ3VCLE1BQU07d0NBQUlWLFdBQVU7Ozs7OztvQ0FBZUYsT0FBTTs4Q0FBVTs7Ozs7OzhDQUdyRyw4REFBQ0o7b0NBQVlFLE9BQU07b0NBQWdCRCxvQkFBTSw4REFBQ04sbUhBQU1BO3dDQUFDcUIsTUFBTTt3Q0FBSVYsV0FBVTs7Ozs7O29DQUFnQkYsT0FBTTs4Q0FBVTs7Ozs7Ozs7Ozs7O3NDQUt2Ryw4REFBQ087Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9XZWxjb21lLnRzeD81M2Q2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgWmFwLCBVc2VycywgTWVzc2FnZVNxdWFyZSwgQXRTaWduLCBTdW4sIE1vb24gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBGZWF0dXJlQ2FyZFByb3BzIHtcbiAgaWNvbjogUmVhY3QuUmVhY3ROb2RlO1xuICB0aXRsZTogc3RyaW5nO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICBjb2xvcjogc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBGZWF0dXJlQ2FyZCh7IGljb24sIHRpdGxlLCBjaGlsZHJlbiwgY29sb3IgfTogRmVhdHVyZUNhcmRQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmctc2Vjb25kYXJ5IHAtNiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlciB0cmFuc2Zvcm0gaG92ZXI6LXRyYW5zbGF0ZS15LTEgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZ2B9IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogYCR7Y29sb3J9MUFgfX0+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC10ZXh0IHRleHQtbGdcIj57dGl0bGV9PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgbXQtMVwiPntjaGlsZHJlbn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRoZW1lVG9nZ2xlKCkge1xuICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWZ1bGwgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgaG92ZXI6YmctYmctdGVydGlhcnkgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgb25DbGljaz17KCkgPT4gc2V0VGhlbWUodGhlbWUgPT09IFwiZGFya1wiID8gXCJsaWdodFwiIDogXCJkYXJrXCIpfVxuICAgID5cbiAgICAgIHt0aGVtZSA9PT0gXCJkYXJrXCIgPyA8U3VuIHNpemU9ezIwfSAvPiA6IDxNb29uIHNpemU9ezIwfSAvPn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFdlbGNvbWUoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJnIHAtNCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZV9hdF9jZW50ZXIsX3ZhcigtLXR3LWdyYWRpZW50LXN0b3BzKSldIGZyb20tYWNjZW50LzEwIHZpYS1iZy8wIHRvLWJnLzAgb3BhY2l0eS03MFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctNHhsIGJnLWJnLXNlY29uZGFyeS81MCBiYWNrZHJvcC1ibHVyLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLTN4bCBzaGFkb3ctZ2xvdyBwLTggbWQ6cC0xMiB6LTEwXCI+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1hY2NlbnQgdG8tYmx1ZS01MDAgcm91bmRlZC1mdWxsIG1iLTYgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICA8WmFwIHNpemU9ezMyfSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTV4bCBtZDp0ZXh0LTZ4bCBmb250LWJvbGQgbWItNCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20tdGV4dCB0by10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgV2VsY29tZSB0byA8c3BhbiBjbGFzc05hbWU9XCJiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20tYWNjZW50IHRvLWJsdWUtNTAwXCI+Tm9zdHI8L3NwYW4+XG4gICAgICAgICAgPC9oMT5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtdGV4dC1zZWNvbmRhcnkgdGV4dC1sZyBtZDp0ZXh0LXhsIG1heC13LTJ4bCBtYi0xMFwiPlxuICAgICAgICAgICAgQSBuZXcga2luZCBvZiBzb2NpYWwgbmV0d29yay4gRGVjZW50cmFsaXplZCwgb3BlbiwgYW5kIGZyZWUuXG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNiB0ZXh0LWxlZnQgbWItMTBcIj5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIkRpcmVjdCBNZXNzYWdlc1wiIGljb249ezxNZXNzYWdlU3F1YXJlIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LWFjY2VudFwiLz59IGNvbG9yPVwiIzdDM0FFRFwiPlxuICAgICAgICAgICAgICBFbmNyeXB0ZWQsIHBlZXItdG8tcGVlciBjb252ZXJzYXRpb25zLlxuICAgICAgICAgICAgPC9GZWF0dXJlQ2FyZD5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIlB1YmxpYyBDaGFubmVsc1wiIGljb249ezxVc2VycyBzaXplPXsyNH0gY2xhc3NOYW1lPVwidGV4dC1jeWFuXCIvPn0gY29sb3I9XCIjMjJEM0VFXCI+XG4gICAgICAgICAgICAgIEpvaW4gY29tbXVuaXRpZXMgYW5kIGRpc2N1c3Npb25zLlxuICAgICAgICAgICAgPC9GZWF0dXJlQ2FyZD5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIllvdXIgSWRlbnRpdHlcIiBpY29uPXs8QXRTaWduIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuXCIvPn0gY29sb3I9XCIjNEFERTgwXCI+XG4gICAgICAgICAgICAgIENvbnRyb2xsZWQgYnkgeW91LCBub3QgYSBjb3Jwb3JhdGlvbi5cbiAgICAgICAgICAgIDwvRmVhdHVyZUNhcmQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8VGhlbWVUb2dnbGUgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJaYXAiLCJVc2VycyIsIk1lc3NhZ2VTcXVhcmUiLCJBdFNpZ24iLCJTdW4iLCJNb29uIiwidXNlVGhlbWUiLCJSZWFjdCIsIkZlYXR1cmVDYXJkIiwiaWNvbiIsInRpdGxlIiwiY2hpbGRyZW4iLCJjb2xvciIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaDMiLCJwIiwiVGhlbWVUb2dnbGUiLCJ0aGVtZSIsInNldFRoZW1lIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJXZWxjb21lIiwiaDEiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Welcome.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/chunkStore.ts":
/*!*******************************!*\
  !*** ./src/lib/chunkStore.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   downloadChunkedTransfer: () => (/* binding */ downloadChunkedTransfer),\n/* harmony export */   ensureTransfer: () => (/* binding */ ensureTransfer),\n/* harmony export */   getTransfer: () => (/* binding */ getTransfer),\n/* harmony export */   isTransferComplete: () => (/* binding */ isTransferComplete),\n/* harmony export */   storeChunk: () => (/* binding */ storeChunk)\n/* harmony export */ });\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb */ \"(ssr)/./node_modules/idb/build/index.js\");\n\nconst DB_NAME = \"nostr-p2p-files\";\nconst DB_VERSION = 1;\nconst dbPromise = (0,idb__WEBPACK_IMPORTED_MODULE_0__.openDB)(DB_NAME, DB_VERSION, {\n    upgrade (db) {\n        if (!db.objectStoreNames.contains(\"transfers\")) {\n            db.createObjectStore(\"transfers\", {\n                keyPath: \"transferId\"\n            });\n        }\n        if (!db.objectStoreNames.contains(\"chunks\")) {\n            db.createObjectStore(\"chunks\", {\n                keyPath: [\n                    \"transferId\",\n                    \"index\"\n                ]\n            });\n        }\n    }\n});\nfunction base64ToBytes(base64) {\n    const bin = atob(base64);\n    const out = new Uint8Array(bin.length);\n    for(let i = 0; i < bin.length; i++)out[i] = bin.charCodeAt(i);\n    return out;\n}\nasync function ensureTransfer(meta) {\n    const db = await dbPromise;\n    const existing = await db.get(\"transfers\", meta.transferId);\n    const row = {\n        ...meta,\n        receivedChunks: existing?.receivedChunks ?? meta.receivedChunks ?? 0\n    };\n    await db.put(\"transfers\", row);\n    return row;\n}\nasync function storeChunk(transferId, index, totalChunks, data) {\n    const db = await dbPromise;\n    const tx = db.transaction([\n        \"chunks\",\n        \"transfers\"\n    ], \"readwrite\");\n    const key = [\n        transferId,\n        index\n    ];\n    const existing = await tx.objectStore(\"chunks\").get(key);\n    if (!existing) {\n        await tx.objectStore(\"chunks\").put({\n            transferId,\n            index,\n            data\n        });\n        const transfer = await tx.objectStore(\"transfers\").get(transferId);\n        if (transfer) {\n            transfer.receivedChunks = Math.min(transfer.totalChunks, transfer.receivedChunks + 1);\n            await tx.objectStore(\"transfers\").put(transfer);\n        } else {\n            await tx.objectStore(\"transfers\").put({\n                transferId,\n                fileName: \"file\",\n                mimeType: \"application/octet-stream\",\n                fileType: \"file\",\n                size: 0,\n                totalChunks,\n                receivedChunks: 1\n            });\n        }\n    }\n    await tx.done;\n}\nasync function getTransfer(transferId) {\n    const db = await dbPromise;\n    return await db.get(\"transfers\", transferId);\n}\nasync function isTransferComplete(transferId) {\n    const transfer = await getTransfer(transferId);\n    if (!transfer) return false;\n    return transfer.totalChunks > 0 && transfer.receivedChunks >= transfer.totalChunks;\n}\nasync function downloadChunkedTransfer(transferId, fallbackName, fallbackMime) {\n    const db = await dbPromise;\n    const transfer = await db.get(\"transfers\", transferId);\n    if (!transfer) throw new Error(\"Transfer not found\");\n    const fileName = fallbackName || transfer.fileName || \"file\";\n    const mimeType = fallbackMime || transfer.mimeType || \"application/octet-stream\";\n    const range = IDBKeyRange.bound([\n        transferId,\n        0\n    ], [\n        transferId,\n        Number.MAX_SAFE_INTEGER\n    ]);\n    const store = db.transaction(\"chunks\", \"readonly\").objectStore(\"chunks\");\n    const useFsApi =  false && 0;\n    if (useFsApi) {\n        const picker = window.showSaveFilePicker;\n        const handle = await picker({\n            suggestedName: fileName,\n            types: [\n                {\n                    description: \"File\",\n                    accept: {\n                        [mimeType]: [\n                            \".\" + fileName.split(\".\").pop()\n                        ]\n                    }\n                }\n            ]\n        });\n        const writable = await handle.createWritable();\n        let cursor = await store.openCursor(range);\n        while(cursor){\n            const row = cursor.value;\n            await writable.write(base64ToBytes(row.data));\n            cursor = await cursor.continue();\n        }\n        await writable.close();\n        return;\n    }\n    const parts = [];\n    let cursor = await store.openCursor(range);\n    while(cursor){\n        const row = cursor.value;\n        parts.push(base64ToBytes(row.data));\n        cursor = await cursor.continue();\n    }\n    const blob = new Blob(parts, {\n        type: mimeType\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUyxNQUFNZixNQUFNZ0IsVUFBVSxDQUFDckI7SUFDcEMsTUFBT29CLE9BQVE7UUFDYixNQUFNN0MsTUFBTTZDLE9BQU9FLEtBQUs7UUFDeEJJLE1BQU1DLElBQUksQ0FBQ2xFLGNBQWNjLElBQUlNLElBQUk7UUFDakN1QyxTQUFTLE1BQU1BLE9BQU9JLFFBQVE7SUFDaEM7SUFDQSxNQUFNSSxPQUFPLElBQUlDLEtBQUtILE9BQU87UUFBRUksTUFBTXhDO0lBQVM7SUFDOUMsTUFBTXlDLE1BQU1DLElBQUlDLGVBQWUsQ0FBQ0w7SUFDaEMsTUFBTU0sSUFBSUMsU0FBU0MsYUFBYSxDQUFDO0lBQ2pDRixFQUFFRyxJQUFJLEdBQUdOO0lBQ1RHLEVBQUVJLFFBQVEsR0FBR2pEO0lBQ2I4QyxTQUFTSSxJQUFJLENBQUNDLFdBQVcsQ0FBQ047SUFDMUJBLEVBQUVPLEtBQUs7SUFDUE4sU0FBU0ksSUFBSSxDQUFDRyxXQUFXLENBQUNSO0lBQzFCRixJQUFJVyxlQUFlLENBQUNaO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvY2h1bmtTdG9yZS50cz9lYjdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9wZW5EQiB9IGZyb20gJ2lkYic7XG5cbmludGVyZmFjZSBDaHVua1JvdyB7XG4gIHRyYW5zZmVySWQ6IHN0cmluZztcbiAgaW5kZXg6IG51bWJlcjtcbiAgZGF0YTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVHJhbnNmZXJSb3cge1xuICB0cmFuc2ZlcklkOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG4gIG1pbWVUeXBlOiBzdHJpbmc7XG4gIGZpbGVUeXBlOiAnaW1hZ2UnIHwgJ2ZpbGUnO1xuICBzaXplOiBudW1iZXI7XG4gIHRvdGFsQ2h1bmtzOiBudW1iZXI7XG4gIHJlY2VpdmVkQ2h1bmtzOiBudW1iZXI7XG4gIHRleHQ/OiBzdHJpbmc7XG59XG5cbmNvbnN0IERCX05BTUUgPSAnbm9zdHItcDJwLWZpbGVzJztcbmNvbnN0IERCX1ZFUlNJT04gPSAxO1xuXG5jb25zdCBkYlByb21pc2UgPSBvcGVuREIoREJfTkFNRSwgREJfVkVSU0lPTiwge1xuICB1cGdyYWRlKGRiKSB7XG4gICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCd0cmFuc2ZlcnMnKSkge1xuICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3RyYW5zZmVycycsIHsga2V5UGF0aDogJ3RyYW5zZmVySWQnIH0pO1xuICAgIH1cbiAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ2NodW5rcycpKSB7XG4gICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY2h1bmtzJywgeyBrZXlQYXRoOiBbJ3RyYW5zZmVySWQnLCAnaW5kZXgnXSB9KTtcbiAgICB9XG4gIH0sXG59KTtcblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyhiYXNlNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBiaW4gPSBhdG9iKGJhc2U2NCk7XG4gIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7IGkrKykgb3V0W2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnN1cmVUcmFuc2ZlcihtZXRhOiBPbWl0PFRyYW5zZmVyUm93LCAncmVjZWl2ZWRDaHVua3MnPiAmIHsgcmVjZWl2ZWRDaHVua3M/OiBudW1iZXIgfSkge1xuICBjb25zdCBkYiA9IGF3YWl0IGRiUHJvbWlzZTtcbiAgY29uc3QgZXhpc3RpbmcgPSAoYXdhaXQgZGIuZ2V0KCd0cmFuc2ZlcnMnLCBtZXRhLnRyYW5zZmVySWQpKSBhcyBUcmFuc2ZlclJvdyB8IHVuZGVmaW5lZDtcbiAgY29uc3Qgcm93OiBUcmFuc2ZlclJvdyA9IHtcbiAgICAuLi5tZXRhLFxuICAgIHJlY2VpdmVkQ2h1bmtzOiBleGlzdGluZz8ucmVjZWl2ZWRDaHVua3MgPz8gbWV0YS5yZWNlaXZlZENodW5rcyA/PyAwLFxuICB9O1xuICBhd2FpdCBkYi5wdXQoJ3RyYW5zZmVycycsIHJvdyk7XG4gIHJldHVybiByb3c7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdG9yZUNodW5rKHRyYW5zZmVySWQ6IHN0cmluZywgaW5kZXg6IG51bWJlciwgdG90YWxDaHVua3M6IG51bWJlciwgZGF0YTogc3RyaW5nKSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZGJQcm9taXNlO1xuICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFsnY2h1bmtzJywgJ3RyYW5zZmVycyddLCAncmVhZHdyaXRlJyk7XG4gIGNvbnN0IGtleSA9IFt0cmFuc2ZlcklkLCBpbmRleF0gYXMgW3N0cmluZywgbnVtYmVyXTtcbiAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCB0eC5vYmplY3RTdG9yZSgnY2h1bmtzJykuZ2V0KGtleSk7XG4gIGlmICghZXhpc3RpbmcpIHtcbiAgICBhd2FpdCB0eC5vYmplY3RTdG9yZSgnY2h1bmtzJykucHV0KHsgdHJhbnNmZXJJZCwgaW5kZXgsIGRhdGEgfSBhcyBDaHVua1Jvdyk7XG4gICAgY29uc3QgdHJhbnNmZXIgPSAoYXdhaXQgdHgub2JqZWN0U3RvcmUoJ3RyYW5zZmVycycpLmdldCh0cmFuc2ZlcklkKSkgYXMgVHJhbnNmZXJSb3cgfCB1bmRlZmluZWQ7XG4gICAgaWYgKHRyYW5zZmVyKSB7XG4gICAgICB0cmFuc2Zlci5yZWNlaXZlZENodW5rcyA9IE1hdGgubWluKHRyYW5zZmVyLnRvdGFsQ2h1bmtzLCB0cmFuc2Zlci5yZWNlaXZlZENodW5rcyArIDEpO1xuICAgICAgYXdhaXQgdHgub2JqZWN0U3RvcmUoJ3RyYW5zZmVycycpLnB1dCh0cmFuc2Zlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHR4Lm9iamVjdFN0b3JlKCd0cmFuc2ZlcnMnKS5wdXQoe1xuICAgICAgICB0cmFuc2ZlcklkLFxuICAgICAgICBmaWxlTmFtZTogJ2ZpbGUnLFxuICAgICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgIGZpbGVUeXBlOiAnZmlsZScsXG4gICAgICAgIHNpemU6IDAsXG4gICAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgICByZWNlaXZlZENodW5rczogMSxcbiAgICAgIH0gYXMgVHJhbnNmZXJSb3cpO1xuICAgIH1cbiAgfVxuICBhd2FpdCB0eC5kb25lO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJhbnNmZXIodHJhbnNmZXJJZDogc3RyaW5nKSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZGJQcm9taXNlO1xuICByZXR1cm4gKGF3YWl0IGRiLmdldCgndHJhbnNmZXJzJywgdHJhbnNmZXJJZCkpIGFzIFRyYW5zZmVyUm93IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNUcmFuc2ZlckNvbXBsZXRlKHRyYW5zZmVySWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCB0cmFuc2ZlciA9IGF3YWl0IGdldFRyYW5zZmVyKHRyYW5zZmVySWQpO1xuICBpZiAoIXRyYW5zZmVyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cmFuc2Zlci50b3RhbENodW5rcyA+IDAgJiYgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgPj0gdHJhbnNmZXIudG90YWxDaHVua3M7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkb3dubG9hZENodW5rZWRUcmFuc2Zlcih0cmFuc2ZlcklkOiBzdHJpbmcsIGZhbGxiYWNrTmFtZT86IHN0cmluZywgZmFsbGJhY2tNaW1lPzogc3RyaW5nKSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZGJQcm9taXNlO1xuICBjb25zdCB0cmFuc2ZlciA9IChhd2FpdCBkYi5nZXQoJ3RyYW5zZmVycycsIHRyYW5zZmVySWQpKSBhcyBUcmFuc2ZlclJvdyB8IHVuZGVmaW5lZDtcbiAgaWYgKCF0cmFuc2ZlcikgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2ZlciBub3QgZm91bmQnKTtcblxuICBjb25zdCBmaWxlTmFtZSA9IGZhbGxiYWNrTmFtZSB8fCB0cmFuc2Zlci5maWxlTmFtZSB8fCAnZmlsZSc7XG4gIGNvbnN0IG1pbWVUeXBlID0gZmFsbGJhY2tNaW1lIHx8IHRyYW5zZmVyLm1pbWVUeXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuXG4gIGNvbnN0IHJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQoW3RyYW5zZmVySWQsIDBdLCBbdHJhbnNmZXJJZCwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJdKTtcbiAgY29uc3Qgc3RvcmUgPSBkYi50cmFuc2FjdGlvbignY2h1bmtzJywgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoJ2NodW5rcycpO1xuXG4gIGNvbnN0IHVzZUZzQXBpID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICdzaG93U2F2ZUZpbGVQaWNrZXInIGluIHdpbmRvdyAmJlxuICAgIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQ7XG5cbiAgaWYgKHVzZUZzQXBpKSB7XG4gICAgY29uc3QgcGlja2VyID0gKHdpbmRvdyBhcyB1bmtub3duIGFzIHsgc2hvd1NhdmVGaWxlUGlja2VyOiAob3B0czogb2JqZWN0KSA9PiBQcm9taXNlPHsgY3JlYXRlV3JpdGFibGU6ICgpID0+IFByb21pc2U8eyB3cml0ZTogKGNodW5rOiBVaW50OEFycmF5KSA9PiBQcm9taXNlPHZvaWQ+OyBjbG9zZTogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PiB9PiB9KS5zaG93U2F2ZUZpbGVQaWNrZXI7XG4gICAgY29uc3QgaGFuZGxlID0gYXdhaXQgcGlja2VyKHtcbiAgICAgIHN1Z2dlc3RlZE5hbWU6IGZpbGVOYW1lLFxuICAgICAgdHlwZXM6IFt7IGRlc2NyaXB0aW9uOiAnRmlsZScsIGFjY2VwdDogeyBbbWltZVR5cGVdOiBbJy4nICsgZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKV0gfSB9XSxcbiAgICB9KTtcbiAgICBjb25zdCB3cml0YWJsZSA9IGF3YWl0IGhhbmRsZS5jcmVhdGVXcml0YWJsZSgpO1xuICAgIGxldCBjdXJzb3IgPSBhd2FpdCBzdG9yZS5vcGVuQ3Vyc29yKHJhbmdlKTtcbiAgICB3aGlsZSAoY3Vyc29yKSB7XG4gICAgICBjb25zdCByb3cgPSBjdXJzb3IudmFsdWUgYXMgQ2h1bmtSb3c7XG4gICAgICBhd2FpdCB3cml0YWJsZS53cml0ZShiYXNlNjRUb0J5dGVzKHJvdy5kYXRhKSk7XG4gICAgICBjdXJzb3IgPSBhd2FpdCBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gICAgYXdhaXQgd3JpdGFibGUuY2xvc2UoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwYXJ0czogVWludDhBcnJheVtdID0gW107XG4gIGxldCBjdXJzb3IgPSBhd2FpdCBzdG9yZS5vcGVuQ3Vyc29yKHJhbmdlKTtcbiAgd2hpbGUgKGN1cnNvcikge1xuICAgIGNvbnN0IHJvdyA9IGN1cnNvci52YWx1ZSBhcyBDaHVua1JvdztcbiAgICBwYXJ0cy5wdXNoKGJhc2U2NFRvQnl0ZXMocm93LmRhdGEpKTtcbiAgICBjdXJzb3IgPSBhd2FpdCBjdXJzb3IuY29udGludWUoKTtcbiAgfVxuICBjb25zdCBibG9iID0gbmV3IEJsb2IocGFydHMsIHsgdHlwZTogbWltZVR5cGUgfSk7XG4gIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICBhLmNsaWNrKCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbn1cbiJdLCJuYW1lcyI6WyJvcGVuREIiLCJEQl9OQU1FIiwiREJfVkVSU0lPTiIsImRiUHJvbWlzZSIsInVwZ3JhZGUiLCJkYiIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImJhc2U2NFRvQnl0ZXMiLCJiYXNlNjQiLCJiaW4iLCJhdG9iIiwib3V0IiwiVWludDhBcnJheSIsImxlbmd0aCIsImkiLCJjaGFyQ29kZUF0IiwiZW5zdXJlVHJhbnNmZXIiLCJtZXRhIiwiZXhpc3RpbmciLCJnZXQiLCJ0cmFuc2ZlcklkIiwicm93IiwicmVjZWl2ZWRDaHVua3MiLCJwdXQiLCJzdG9yZUNodW5rIiwiaW5kZXgiLCJ0b3RhbENodW5rcyIsImRhdGEiLCJ0eCIsInRyYW5zYWN0aW9uIiwia2V5Iiwib2JqZWN0U3RvcmUiLCJ0cmFuc2ZlciIsIk1hdGgiLCJtaW4iLCJmaWxlTmFtZSIsIm1pbWVUeXBlIiwiZmlsZVR5cGUiLCJzaXplIiwiZG9uZSIsImdldFRyYW5zZmVyIiwiaXNUcmFuc2ZlckNvbXBsZXRlIiwiZG93bmxvYWRDaHVua2VkVHJhbnNmZXIiLCJmYWxsYmFja05hbWUiLCJmYWxsYmFja01pbWUiLCJFcnJvciIsInJhbmdlIiwiSURCS2V5UmFuZ2UiLCJib3VuZCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJzdG9yZSIsInVzZUZzQXBpIiwid2luZG93IiwiaXNTZWN1cmVDb250ZXh0IiwicGlja2VyIiwic2hvd1NhdmVGaWxlUGlja2VyIiwiaGFuZGxlIiwic3VnZ2VzdGVkTmFtZSIsInR5cGVzIiwiZGVzY3JpcHRpb24iLCJhY2NlcHQiLCJzcGxpdCIsInBvcCIsIndyaXRhYmxlIiwiY3JlYXRlV3JpdGFibGUiLCJjdXJzb3IiLCJvcGVuQ3Vyc29yIiwidmFsdWUiLCJ3cml0ZSIsImNvbnRpbnVlIiwiY2xvc2UiLCJwYXJ0cyIsInB1c2giLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/chunkStore.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/fileUtils.ts":
/*!******************************!*\
  !*** ./src/lib/fileUtils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBlob: () => (/* binding */ base64ToBlob),\n/* harmony export */   downloadAttachment: () => (/* binding */ downloadAttachment),\n/* harmony export */   fileToBase64: () => (/* binding */ fileToBase64),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getFileIcon: () => (/* binding */ getFileIcon),\n/* harmony export */   isImageType: () => (/* binding */ isImageType),\n/* harmony export */   processFile: () => (/* binding */ processFile)\n/* harmony export */ });\nconst MAX_FILE_SIZE = 2 * 1024 * 1024 * 1024;\nconst INLINE_LIMIT = 8 * 1024 * 1024;\nconst IMAGE_TYPES = [\n    \"image/jpeg\",\n    \"image/png\",\n    \"image/gif\",\n    \"image/webp\",\n    \"image/svg+xml\"\n];\nfunction isImageType(mimeType) {\n    return IMAGE_TYPES.includes(mimeType);\n}\nfunction formatFileSize(bytes) {\n    if (bytes < 1024) return `${bytes} B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n    if (bytes < 1024 * 1024 * 1024) return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n    return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`;\n}\nfunction fileToBase64(file) {\n    return new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>{\n            const result = reader.result;\n            const base64 = result.split(\",\")[1];\n            resolve(base64);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n    });\n}\nfunction compressImage(file, maxWidth, maxHeight, quality) {\n    return new Promise((resolve, reject)=>{\n        const img = new window.Image();\n        const url = URL.createObjectURL(file);\n        img.onload = ()=>{\n            URL.revokeObjectURL(url);\n            let w = img.width;\n            let h = img.height;\n            if (w > maxWidth || h > maxHeight) {\n                const ratio = Math.min(maxWidth / w, maxHeight / h);\n                w = Math.round(w * ratio);\n                h = Math.round(h * ratio);\n            }\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return reject(new Error(\"Canvas context unavailable\"));\n            ctx.drawImage(img, 0, 0, w, h);\n            const dataUrl = canvas.toDataURL(\"image/jpeg\", quality);\n            resolve(dataUrl.split(\",\")[1]);\n        };\n        img.onerror = reject;\n        img.src = url;\n    });\n}\nasync function processFile(file) {\n    if (file.size > MAX_FILE_SIZE) {\n        throw new Error(`File is too large. Maximum: ${formatFileSize(MAX_FILE_SIZE)}.`);\n    }\n    const isImage = isImageType(file.type);\n    const mimeType = isImage ? \"image/jpeg\" : file.type || \"application/octet-stream\";\n    if (file.size > INLINE_LIMIT) {\n        return {\n            type: isImage ? \"image\" : \"file\",\n            name: file.name,\n            mimeType,\n            data: \"\",\n            size: file.size,\n            file,\n            chunked: true\n        };\n    }\n    const base64 = isImage && file.size > 200 * 1024 ? await compressImage(file, 2048, 2048, 0.82) : await fileToBase64(file);\n    return {\n        type: isImage ? \"image\" : \"file\",\n        name: file.name,\n        mimeType,\n        data: base64,\n        size: file.size,\n        file\n    };\n}\nfunction base64ToBlob(base64, mimeType) {\n    const byteChars = atob(base64);\n    const byteNumbers = new Uint8Array(byteChars.length);\n    for(let i = 0; i < byteChars.length; i++)byteNumbers[i] = byteChars.charCodeAt(i);\n    return new Blob([\n        byteNumbers.buffer\n    ], {\n        type: mimeType\n    });\n}\nfunction downloadAttachment(attachment) {\n    const blob = base64ToBlob(attachment.data, attachment.mimeType);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = attachment.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\nfunction getFileIcon(mimeType) {\n    if (mimeType.startsWith(\"image/\")) return \"\\uD83D\\uDDBC\";\n    if (mimeType.startsWith(\"video/\")) return \"\\uD83C\\uDFAC\";\n    if (mimeType.startsWith(\"audio/\")) return \"\\uD83C\\uDFB5\";\n    if (mimeType.includes(\"pdf\")) return \"\\uD83D\\uDCC4\";\n    if (mimeType.includes(\"zip\") || mimeType.includes(\"rar\") || mimeType.includes(\"tar\")) return \"\\uD83D\\uDCE6\";\n    if (mimeType.includes(\"text\")) return \"\\uD83D\\uDCDD\";\n    if (mimeType.includes(\"json\") || mimeType.includes(\"xml\")) return \"\";\n    return \"\\uD83D\\uDCCE\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2ZpbGVVdGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsTUFBTUEsZ0JBQWdCLElBQUksT0FBTyxPQUFPO0FBQ3hDLE1BQU1DLGVBQWUsSUFBSSxPQUFPO0FBQ2hDLE1BQU1DLGNBQWM7SUFBQztJQUFjO0lBQWE7SUFBYTtJQUFjO0NBQWdCO0FBRXBGLFNBQVNDLFlBQVlDLFFBQWdCO0lBQzFDLE9BQU9GLFlBQVlHLFFBQVEsQ0FBQ0Q7QUFDOUI7QUFFTyxTQUFTRSxlQUFlQyxLQUFhO0lBQzFDLElBQUlBLFFBQVEsTUFBTSxPQUFPLENBQUMsRUFBRUEsTUFBTSxFQUFFLENBQUM7SUFDckMsSUFBSUEsUUFBUSxPQUFPLE1BQU0sT0FBTyxDQUFDLEVBQUUsQ0FBQ0EsUUFBUSxJQUFHLEVBQUdDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNqRSxJQUFJRCxRQUFRLE9BQU8sT0FBTyxNQUFNLE9BQU8sQ0FBQyxFQUFFLENBQUNBLFFBQVMsUUFBTyxJQUFHLENBQUMsRUFBR0MsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ2pGLE9BQU8sQ0FBQyxFQUFFLENBQUNELFFBQVMsUUFBTyxPQUFPLElBQUcsQ0FBQyxFQUFHQyxPQUFPLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDMUQ7QUFFTyxTQUFTQyxhQUFhQyxJQUFVO0lBQ3JDLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxTQUFTLElBQUlDO1FBQ25CRCxPQUFPRSxNQUFNLEdBQUc7WUFDZCxNQUFNQyxTQUFTSCxPQUFPRyxNQUFNO1lBQzVCLE1BQU1DLFNBQVNELE9BQU9FLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNuQ1AsUUFBUU07UUFDVjtRQUNBSixPQUFPTSxPQUFPLEdBQUdQO1FBQ2pCQyxPQUFPTyxhQUFhLENBQUNYO0lBQ3ZCO0FBQ0Y7QUFFQSxTQUFTWSxjQUFjWixJQUFVLEVBQUVhLFFBQWdCLEVBQUVDLFNBQWlCLEVBQUVDLE9BQWU7SUFDckYsT0FBTyxJQUFJZCxRQUFRLENBQUNDLFNBQVNDO1FBQzNCLE1BQU1hLE1BQU0sSUFBSUMsT0FBT0MsS0FBSztRQUM1QixNQUFNQyxNQUFNQyxJQUFJQyxlQUFlLENBQUNyQjtRQUNoQ2dCLElBQUlWLE1BQU0sR0FBRztZQUNYYyxJQUFJRSxlQUFlLENBQUNIO1lBQ3BCLElBQUlJLElBQUlQLElBQUlRLEtBQUs7WUFDakIsSUFBSUMsSUFBSVQsSUFBSVUsTUFBTTtZQUNsQixJQUFJSCxJQUFJVixZQUFZWSxJQUFJWCxXQUFXO2dCQUNqQyxNQUFNYSxRQUFRQyxLQUFLQyxHQUFHLENBQUNoQixXQUFXVSxHQUFHVCxZQUFZVztnQkFDakRGLElBQUlLLEtBQUtFLEtBQUssQ0FBQ1AsSUFBSUk7Z0JBQ25CRixJQUFJRyxLQUFLRSxLQUFLLENBQUNMLElBQUlFO1lBQ3JCO1lBQ0EsTUFBTUksU0FBU0MsU0FBU0MsYUFBYSxDQUFDO1lBQ3RDRixPQUFPUCxLQUFLLEdBQUdEO1lBQ2ZRLE9BQU9MLE1BQU0sR0FBR0Q7WUFDaEIsTUFBTVMsTUFBTUgsT0FBT0ksVUFBVSxDQUFDO1lBQzlCLElBQUksQ0FBQ0QsS0FBSyxPQUFPL0IsT0FBTyxJQUFJaUMsTUFBTTtZQUNsQ0YsSUFBSUcsU0FBUyxDQUFDckIsS0FBSyxHQUFHLEdBQUdPLEdBQUdFO1lBQzVCLE1BQU1hLFVBQVVQLE9BQU9RLFNBQVMsQ0FBQyxjQUFjeEI7WUFDL0NiLFFBQVFvQyxRQUFRN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQy9CO1FBQ0FPLElBQUlOLE9BQU8sR0FBR1A7UUFDZGEsSUFBSXdCLEdBQUcsR0FBR3JCO0lBQ1o7QUFDRjtBQUVPLGVBQWVzQixZQUFZekMsSUFBVTtJQUMxQyxJQUFJQSxLQUFLMEMsSUFBSSxHQUFHcEQsZUFBZTtRQUM3QixNQUFNLElBQUk4QyxNQUFNLENBQUMsNEJBQTRCLEVBQUV4QyxlQUFlTixlQUFlLENBQUMsQ0FBQztJQUNqRjtJQUVBLE1BQU1xRCxVQUFVbEQsWUFBWU8sS0FBSzRDLElBQUk7SUFDckMsTUFBTWxELFdBQVdpRCxVQUFVLGVBQWdCM0MsS0FBSzRDLElBQUksSUFBSTtJQUV4RCxJQUFJNUMsS0FBSzBDLElBQUksR0FBR25ELGNBQWM7UUFDNUIsT0FBTztZQUNMcUQsTUFBTUQsVUFBVSxVQUFVO1lBQzFCRSxNQUFNN0MsS0FBSzZDLElBQUk7WUFDZm5EO1lBQ0FvRCxNQUFNO1lBQ05KLE1BQU0xQyxLQUFLMEMsSUFBSTtZQUNmMUM7WUFDQStDLFNBQVM7UUFDWDtJQUNGO0lBRUEsTUFBTXZDLFNBQVNtQyxXQUFXM0MsS0FBSzBDLElBQUksR0FBRyxNQUFNLE9BQ3hDLE1BQU05QixjQUFjWixNQUFNLE1BQU0sTUFBTSxRQUN0QyxNQUFNRCxhQUFhQztJQUV2QixPQUFPO1FBQ0w0QyxNQUFNRCxVQUFVLFVBQVU7UUFDMUJFLE1BQU03QyxLQUFLNkMsSUFBSTtRQUNmbkQ7UUFDQW9ELE1BQU10QztRQUNOa0MsTUFBTTFDLEtBQUswQyxJQUFJO1FBQ2YxQztJQUNGO0FBQ0Y7QUFFTyxTQUFTZ0QsYUFBYXhDLE1BQWMsRUFBRWQsUUFBZ0I7SUFDM0QsTUFBTXVELFlBQVlDLEtBQUsxQztJQUN2QixNQUFNMkMsY0FBYyxJQUFJQyxXQUFXSCxVQUFVSSxNQUFNO0lBQ25ELElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJTCxVQUFVSSxNQUFNLEVBQUVDLElBQUtILFdBQVcsQ0FBQ0csRUFBRSxHQUFHTCxVQUFVTSxVQUFVLENBQUNEO0lBQ2pGLE9BQU8sSUFBSUUsS0FBSztRQUFDTCxZQUFZTSxNQUFNO0tBQWdCLEVBQUU7UUFBRWIsTUFBTWxEO0lBQVM7QUFDeEU7QUFFTyxTQUFTZ0UsbUJBQW1CQyxVQUFzQjtJQUN2RCxNQUFNQyxPQUFPWixhQUFhVyxXQUFXYixJQUFJLEVBQUVhLFdBQVdqRSxRQUFRO0lBQzlELE1BQU15QixNQUFNQyxJQUFJQyxlQUFlLENBQUN1QztJQUNoQyxNQUFNQyxJQUFJN0IsU0FBU0MsYUFBYSxDQUFDO0lBQ2pDNEIsRUFBRUMsSUFBSSxHQUFHM0M7SUFDVDBDLEVBQUVFLFFBQVEsR0FBR0osV0FBV2QsSUFBSTtJQUM1QmIsU0FBU2dDLElBQUksQ0FBQ0MsV0FBVyxDQUFDSjtJQUMxQkEsRUFBRUssS0FBSztJQUNQbEMsU0FBU2dDLElBQUksQ0FBQ0csV0FBVyxDQUFDTjtJQUMxQnpDLElBQUlFLGVBQWUsQ0FBQ0g7QUFDdEI7QUFFTyxTQUFTaUQsWUFBWTFFLFFBQWdCO0lBQzFDLElBQUlBLFNBQVMyRSxVQUFVLENBQUMsV0FBVyxPQUFPO0lBQzFDLElBQUkzRSxTQUFTMkUsVUFBVSxDQUFDLFdBQVcsT0FBTztJQUMxQyxJQUFJM0UsU0FBUzJFLFVBQVUsQ0FBQyxXQUFXLE9BQU87SUFDMUMsSUFBSTNFLFNBQVNDLFFBQVEsQ0FBQyxRQUFRLE9BQU87SUFDckMsSUFBSUQsU0FBU0MsUUFBUSxDQUFDLFVBQVVELFNBQVNDLFFBQVEsQ0FBQyxVQUFVRCxTQUFTQyxRQUFRLENBQUMsUUFBUSxPQUFPO0lBQzdGLElBQUlELFNBQVNDLFFBQVEsQ0FBQyxTQUFTLE9BQU87SUFDdEMsSUFBSUQsU0FBU0MsUUFBUSxDQUFDLFdBQVdELFNBQVNDLFFBQVEsQ0FBQyxRQUFRLE9BQU87SUFDbEUsT0FBTztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvZmlsZVV0aWxzLnRzP2MwYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBdHRhY2htZW50IH0gZnJvbSAnLi9ub3N0cic7XG5cbmNvbnN0IE1BWF9GSUxFX1NJWkUgPSAyICogMTAyNCAqIDEwMjQgKiAxMDI0O1xuY29uc3QgSU5MSU5FX0xJTUlUID0gOCAqIDEwMjQgKiAxMDI0O1xuY29uc3QgSU1BR0VfVFlQRVMgPSBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL2dpZicsICdpbWFnZS93ZWJwJywgJ2ltYWdlL3N2Zyt4bWwnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2VUeXBlKG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIElNQUdFX1RZUEVTLmluY2x1ZGVzKG1pbWVUeXBlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoYnl0ZXMgPCAxMDI0KSByZXR1cm4gYCR7Ynl0ZXN9IEJgO1xuICBpZiAoYnl0ZXMgPCAxMDI0ICogMTAyNCkgcmV0dXJuIGAkeyhieXRlcyAvIDEwMjQpLnRvRml4ZWQoMSl9IEtCYDtcbiAgaWYgKGJ5dGVzIDwgMTAyNCAqIDEwMjQgKiAxMDI0KSByZXR1cm4gYCR7KGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTUJgO1xuICByZXR1cm4gYCR7KGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpLnRvRml4ZWQoMil9IEdCYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVUb0Jhc2U2NChmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IGFzIHN0cmluZztcbiAgICAgIGNvbnN0IGJhc2U2NCA9IHJlc3VsdC5zcGxpdCgnLCcpWzFdO1xuICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgIH07XG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb21wcmVzc0ltYWdlKGZpbGU6IEZpbGUsIG1heFdpZHRoOiBudW1iZXIsIG1heEhlaWdodDogbnVtYmVyLCBxdWFsaXR5OiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICBsZXQgdyA9IGltZy53aWR0aDtcbiAgICAgIGxldCBoID0gaW1nLmhlaWdodDtcbiAgICAgIGlmICh3ID4gbWF4V2lkdGggfHwgaCA+IG1heEhlaWdodCkge1xuICAgICAgICBjb25zdCByYXRpbyA9IE1hdGgubWluKG1heFdpZHRoIC8gdywgbWF4SGVpZ2h0IC8gaCk7XG4gICAgICAgIHcgPSBNYXRoLnJvdW5kKHcgKiByYXRpbyk7XG4gICAgICAgIGggPSBNYXRoLnJvdW5kKGggKiByYXRpbyk7XG4gICAgICB9XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHJldHVybiByZWplY3QobmV3IEVycm9yKCdDYW52YXMgY29udGV4dCB1bmF2YWlsYWJsZScpKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3LCBoKTtcbiAgICAgIGNvbnN0IGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgcXVhbGl0eSk7XG4gICAgICByZXNvbHZlKGRhdGFVcmwuc3BsaXQoJywnKVsxXSk7XG4gICAgfTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgICBpbWcuc3JjID0gdXJsO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGaWxlKGZpbGU6IEZpbGUpOiBQcm9taXNlPEF0dGFjaG1lbnQ+IHtcbiAgaWYgKGZpbGUuc2l6ZSA+IE1BWF9GSUxFX1NJWkUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgaXMgdG9vIGxhcmdlLiBNYXhpbXVtOiAke2Zvcm1hdEZpbGVTaXplKE1BWF9GSUxFX1NJWkUpfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGlzSW1hZ2UgPSBpc0ltYWdlVHlwZShmaWxlLnR5cGUpO1xuICBjb25zdCBtaW1lVHlwZSA9IGlzSW1hZ2UgPyAnaW1hZ2UvanBlZycgOiAoZmlsZS50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKTtcblxuICBpZiAoZmlsZS5zaXplID4gSU5MSU5FX0xJTUlUKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzSW1hZ2UgPyAnaW1hZ2UnIDogJ2ZpbGUnLFxuICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgbWltZVR5cGUsXG4gICAgICBkYXRhOiAnJyxcbiAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgIGZpbGUsXG4gICAgICBjaHVua2VkOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBiYXNlNjQgPSBpc0ltYWdlICYmIGZpbGUuc2l6ZSA+IDIwMCAqIDEwMjRcbiAgICA/IGF3YWl0IGNvbXByZXNzSW1hZ2UoZmlsZSwgMjA0OCwgMjA0OCwgMC44MilcbiAgICA6IGF3YWl0IGZpbGVUb0Jhc2U2NChmaWxlKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6IGlzSW1hZ2UgPyAnaW1hZ2UnIDogJ2ZpbGUnLFxuICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICBtaW1lVHlwZSxcbiAgICBkYXRhOiBiYXNlNjQsXG4gICAgc2l6ZTogZmlsZS5zaXplLFxuICAgIGZpbGUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0Jsb2IoYmFzZTY0OiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpOiBCbG9iIHtcbiAgY29uc3QgYnl0ZUNoYXJzID0gYXRvYihiYXNlNjQpO1xuICBjb25zdCBieXRlTnVtYmVycyA9IG5ldyBVaW50OEFycmF5KGJ5dGVDaGFycy5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVDaGFycy5sZW5ndGg7IGkrKykgYnl0ZU51bWJlcnNbaV0gPSBieXRlQ2hhcnMuY2hhckNvZGVBdChpKTtcbiAgcmV0dXJuIG5ldyBCbG9iKFtieXRlTnVtYmVycy5idWZmZXIgYXMgQXJyYXlCdWZmZXJdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IEF0dGFjaG1lbnQpIHtcbiAgY29uc3QgYmxvYiA9IGJhc2U2NFRvQmxvYihhdHRhY2htZW50LmRhdGEsIGF0dGFjaG1lbnQubWltZVR5cGUpO1xuICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBhLmhyZWYgPSB1cmw7XG4gIGEuZG93bmxvYWQgPSBhdHRhY2htZW50Lm5hbWU7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUljb24obWltZVR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChtaW1lVHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgcmV0dXJuICfwn5a877iPJztcbiAgaWYgKG1pbWVUeXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSByZXR1cm4gJ/CfjqwnO1xuICBpZiAobWltZVR5cGUuc3RhcnRzV2l0aCgnYXVkaW8vJykpIHJldHVybiAn8J+OtSc7XG4gIGlmIChtaW1lVHlwZS5pbmNsdWRlcygncGRmJykpIHJldHVybiAn8J+ThCc7XG4gIGlmIChtaW1lVHlwZS5pbmNsdWRlcygnemlwJykgfHwgbWltZVR5cGUuaW5jbHVkZXMoJ3JhcicpIHx8IG1pbWVUeXBlLmluY2x1ZGVzKCd0YXInKSkgcmV0dXJuICfwn5OmJztcbiAgaWYgKG1pbWVUeXBlLmluY2x1ZGVzKCd0ZXh0JykpIHJldHVybiAn8J+TnSc7XG4gIGlmIChtaW1lVHlwZS5pbmNsdWRlcygnanNvbicpIHx8IG1pbWVUeXBlLmluY2x1ZGVzKCd4bWwnKSkgcmV0dXJuICfimpnvuI8nO1xuICByZXR1cm4gJ/Cfk44nO1xufVxuIl0sIm5hbWVzIjpbIk1BWF9GSUxFX1NJWkUiLCJJTkxJTkVfTElNSVQiLCJJTUFHRV9UWVBFUyIsImlzSW1hZ2VUeXBlIiwibWltZVR5cGUiLCJpbmNsdWRlcyIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJ0b0ZpeGVkIiwiZmlsZVRvQmFzZTY0IiwiZmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsImJhc2U2NCIsInNwbGl0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJjb21wcmVzc0ltYWdlIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJxdWFsaXR5IiwiaW1nIiwid2luZG93IiwiSW1hZ2UiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJ3Iiwid2lkdGgiLCJoIiwiaGVpZ2h0IiwicmF0aW8iLCJNYXRoIiwibWluIiwicm91bmQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiRXJyb3IiLCJkcmF3SW1hZ2UiLCJkYXRhVXJsIiwidG9EYXRhVVJMIiwic3JjIiwicHJvY2Vzc0ZpbGUiLCJzaXplIiwiaXNJbWFnZSIsInR5cGUiLCJuYW1lIiwiZGF0YSIsImNodW5rZWQiLCJiYXNlNjRUb0Jsb2IiLCJieXRlQ2hhcnMiLCJhdG9iIiwiYnl0ZU51bWJlcnMiLCJVaW50OEFycmF5IiwibGVuZ3RoIiwiaSIsImNoYXJDb2RlQXQiLCJCbG9iIiwiYnVmZmVyIiwiZG93bmxvYWRBdHRhY2htZW50IiwiYXR0YWNobWVudCIsImJsb2IiLCJhIiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImdldEZpbGVJY29uIiwic3RhcnRzV2l0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/fileUtils.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/nostr.ts":
/*!**************************!*\
  !*** ./src/lib/nostr.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_RELAYS: () => (/* binding */ DEFAULT_RELAYS),\n/* harmony export */   nostrClient: () => (/* binding */ nostrClient)\n/* harmony export */ });\n/* harmony import */ var nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nostr-tools/pure */ \"(ssr)/./node_modules/nostr-tools/lib/esm/pure.js\");\n/* harmony import */ var nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nostr-tools/nip04 */ \"(ssr)/./node_modules/nostr-tools/lib/esm/nip04.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _chunkStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n\n\n\n\nconst DEFAULT_RELAYS = [\n    \"wss://relay.damus.io\",\n    \"wss://nos.lol\",\n    \"wss://relay.snort.social\",\n    \"wss://relay.primal.net\",\n    \"wss://purplepag.es\",\n    \"wss://nostr.mom\",\n    \"wss://relay.nostr.bg\"\n];\nclass NostrClient {\n    get publicKey() {\n        return this._pk;\n    }\n    get privateKeyHex() {\n        return this._sk ? (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this._sk) : \"\";\n    }\n    get relays() {\n        return [\n            ...this._relays\n        ];\n    }\n    get channels() {\n        return [\n            ...this._channels\n        ];\n    }\n    get sk() {\n        return this._sk;\n    }\n    getRelayStatus(relay) {\n        return this.relayStatus.get(relay) || \"disconnected\";\n    }\n    get connectedRelayCount() {\n        let c = 0;\n        for (const s of this.relayStatus.values())if (s === \"connected\") c++;\n        return c;\n    }\n    generateKeys() {\n        const sk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.generateSecretKey)();\n        const pk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.getPublicKey)(sk);\n        return {\n            privateKey: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(sk),\n            publicKey: pk\n        };\n    }\n    login(privateKeyHex) {\n        const sk = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)(privateKeyHex);\n        const pk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.getPublicKey)(sk);\n        this._sk = sk;\n        this._pk = pk;\n        this._stopped = false;\n        localStorage.setItem(\"nostr_sk\", privateKeyHex);\n        return pk;\n    }\n    logout() {\n        this._stopped = true;\n        this.disconnectAll();\n        this._sk = null;\n        this._pk = \"\";\n        localStorage.removeItem(\"nostr_sk\");\n        localStorage.removeItem(\"nostr_contacts\");\n    }\n    tryAutoLogin() {\n        const sk = localStorage.getItem(\"nostr_sk\");\n        if (sk?.length === 64) {\n            try {\n                this.login(sk);\n                return true;\n            } catch  {\n                localStorage.removeItem(\"nostr_sk\");\n            }\n        }\n        return false;\n    }\n    onMessage(cb) {\n        this.messageCallbacks.add(cb);\n        return ()=>{\n            this.messageCallbacks.delete(cb);\n        };\n    }\n    onChannel(cb) {\n        this.channelCallbacks.add(cb);\n        return ()=>{\n            this.channelCallbacks.delete(cb);\n        };\n    }\n    onChannelMessage(cb) {\n        this.channelMessageCallbacks.add(cb);\n        return ()=>{\n            this.channelMessageCallbacks.delete(cb);\n        };\n    }\n    onProfile(cb) {\n        this.profileCallbacks.add(cb);\n        return ()=>{\n            this.profileCallbacks.delete(cb);\n        };\n    }\n    onConnection(cb) {\n        this.connectionCallbacks.add(cb);\n        return ()=>{\n            this.connectionCallbacks.delete(cb);\n        };\n    }\n    onSignal(cb) {\n        this.signalCallbacks.add(cb);\n        return ()=>{\n            this.signalCallbacks.delete(cb);\n        };\n    }\n    async connectToRelays() {\n        for (const r of this._relays)this.connectToRelay(r);\n    }\n    setChannels(channelIds) {\n        this._channels = [\n            ...new Set(channelIds.filter(Boolean))\n        ];\n        for (const [relay, ws] of this.sockets){\n            if (ws.readyState === WebSocket.OPEN) this.subscribeToChannels(relay);\n        }\n    }\n    connectToRelay(url) {\n        if (this._stopped) return;\n        if (this.sockets.has(url)) {\n            const e = this.sockets.get(url);\n            if (e.readyState === WebSocket.OPEN || e.readyState === WebSocket.CONNECTING) return;\n        }\n        this.relayStatus.set(url, \"connecting\");\n        this.connectionCallbacks.forEach((cb)=>cb(url, \"disconnected\"));\n        try {\n            const ws = new WebSocket(url);\n            const ct = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) ws.close();\n            }, 8000);\n            this.sockets.set(url, ws);\n            ws.onopen = ()=>{\n                clearTimeout(ct);\n                this.reconnectAttempts.set(url, 0);\n                this.relayStatus.set(url, \"connected\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"connected\"));\n                this.subscribeToMessages(url);\n            };\n            ws.onclose = ()=>{\n                clearTimeout(ct);\n                this.relayStatus.set(url, \"disconnected\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"disconnected\"));\n                this.sockets.delete(url);\n                this.scheduleReconnect(url);\n            };\n            ws.onerror = ()=>{\n                this.relayStatus.set(url, \"error\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"error\"));\n            };\n            ws.onmessage = (e)=>{\n                try {\n                    this.handleRelayMessage(JSON.parse(e.data));\n                } catch  {}\n            };\n        } catch  {\n            this.relayStatus.set(url, \"error\");\n            this.scheduleReconnect(url);\n        }\n    }\n    scheduleReconnect(url) {\n        if (this._stopped) return;\n        const e = this.reconnectTimers.get(url);\n        if (e) clearTimeout(e);\n        const a = this.reconnectAttempts.get(url) || 0;\n        const d = Math.min(3000 * Math.pow(2, a), 60000);\n        this.reconnectAttempts.set(url, a + 1);\n        this.reconnectTimers.set(url, setTimeout(()=>{\n            if (!this._stopped && this._sk) this.connectToRelay(url);\n        }, d));\n    }\n    handleRelayMessage(data) {\n        if (!Array.isArray(data)) return;\n        if (data[0] === \"EVENT\") {\n            const ev = data[2];\n            if (!ev || this.seenEvents.has(ev.id)) return;\n            this.seenEvents.add(ev.id);\n            if (ev.kind === 4) this.handleEncryptedDM(ev);\n            else if (ev.kind === 0) this.handleProfileEvent(ev);\n            else if (ev.kind === 40) this.handleChannelEvent(ev);\n            else if (ev.kind === 42) this.handleChannelMessageEvent(ev);\n        }\n    }\n    async handleEncryptedDM(event) {\n        if (!this._sk) return;\n        const pTag = event.tags.find((t)=>t[0] === \"p\");\n        if (!pTag) return;\n        const isForMe = pTag[1] === this._pk, isFromMe = event.pubkey === this._pk;\n        if (!isForMe && !isFromMe) return;\n        const other = isFromMe ? pTag[1] : event.pubkey;\n        try {\n            const dec = await (0,nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__.decrypt)(this._sk, other, event.content);\n            try {\n                const p = JSON.parse(dec);\n                if (p?._nostr_msg_type) {\n                    const mt = p._nostr_msg_type;\n                    if (mt === \"text\") {\n                        this.messageCallbacks.forEach((cb)=>cb({\n                                id: event.id,\n                                from: event.pubkey,\n                                to: pTag[1],\n                                content: p.text || \"\",\n                                timestamp: event.created_at * 1000,\n                                msgType: \"text\",\n                                replyTo: p.replyTo\n                            }));\n                        return;\n                    }\n                    if ([\n                        \"webrtc-offer\",\n                        \"webrtc-answer\",\n                        \"webrtc-ice\",\n                        \"call-request\",\n                        \"call-accept\",\n                        \"call-reject\",\n                        \"call-end\"\n                    ].includes(mt)) {\n                        this.signalCallbacks.forEach((cb)=>cb(event.pubkey, {\n                                type: mt,\n                                sdp: p.sdp,\n                                candidate: p.candidate,\n                                callType: p.callType\n                            }));\n                        return;\n                    }\n                    if (mt === \"file-chunk\") {\n                        this.handleFileChunk(event.id, event.pubkey, pTag[1], event.created_at * 1000, p);\n                        return;\n                    }\n                    if (mt === \"file-meta\") {\n                        const transferId = p.transferId || \"\";\n                        if (!transferId) return;\n                        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n                            transferId,\n                            fileName: p.fileName || \"file\",\n                            mimeType: p.mimeType || \"application/octet-stream\",\n                            fileType,\n                            size: p.size || 0,\n                            totalChunks: p.totalChunks || 0,\n                            text: p.text || \"\"\n                        });\n                        return;\n                    }\n                    if (mt === \"image\" || mt === \"file\") {\n                        this.messageCallbacks.forEach((cb)=>cb({\n                                id: event.id,\n                                from: event.pubkey,\n                                to: pTag[1],\n                                content: p.text || \"\",\n                                timestamp: event.created_at * 1000,\n                                msgType: mt,\n                                replyTo: p.replyTo,\n                                attachment: {\n                                    type: mt,\n                                    name: p.fileName || \"file\",\n                                    mimeType: p.mimeType || \"application/octet-stream\",\n                                    data: p.data || \"\",\n                                    size: p.size || 0\n                                }\n                            }));\n                        return;\n                    }\n                }\n            } catch  {}\n            this.messageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: pTag[1],\n                    content: dec,\n                    timestamp: event.created_at * 1000,\n                    msgType: \"text\"\n                }));\n        } catch  {}\n    }\n    async handleFileChunk(eventId, from, to, timestamp, p) {\n        const transferId = p.transferId;\n        const chunkIndex = p.chunkIndex;\n        const totalChunks = p.totalChunks;\n        const data = p.data;\n        if (!transferId || typeof chunkIndex !== \"number\" || typeof totalChunks !== \"number\" || typeof data !== \"string\") return;\n        const fileType1 = p.fileType === \"image\" ? \"image\" : \"file\";\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n            transferId,\n            fileName: p.fileName || \"file\",\n            mimeType: p.mimeType || \"application/octet-stream\",\n            fileType: fileType1,\n            size: p.size || 0,\n            totalChunks,\n            text: p.text || \"\"\n        });\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.storeChunk)(transferId, chunkIndex, totalChunks, data);\n        const done = await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.isTransferComplete)(transferId);\n        if (!done) return;\n        this.messageCallbacks.forEach((cb)=>cb({\n                id: `${eventId}-assembled-${transferId}`,\n                from,\n                to,\n                content: p.text || \"\",\n                timestamp,\n                msgType: fileType1,\n                replyTo: p.replyTo,\n                attachment: {\n                    type: fileType1,\n                    name: p.fileName || \"file\",\n                    mimeType: p.mimeType || \"application/octet-stream\",\n                    data: \"\",\n                    size: p.size || 0,\n                    transferId,\n                    totalChunks,\n                    chunked: true\n                }\n            }));\n    }\n    handleProfileEvent(event) {\n        try {\n            const p = JSON.parse(event.content);\n            this.profileCache.set(event.pubkey, p);\n            this.pendingProfiles.delete(event.pubkey);\n            this.profileCallbacks.forEach((cb)=>cb(event.pubkey, p));\n        } catch  {}\n    }\n    handleChannelEvent(event) {\n        try {\n            const payload = JSON.parse(event.content);\n            const channel = {\n                id: event.id,\n                name: payload.name?.trim() || `channel-${event.id.slice(0, 8)}`,\n                about: payload.about,\n                createdBy: event.pubkey,\n                createdAt: event.created_at * 1000\n            };\n            this.channelCallbacks.forEach((cb)=>cb(channel));\n        } catch  {}\n    }\n    handleChannelMessageEvent(event) {\n        const eTag = event.tags.find((t)=>t[0] === \"e\")?.[1];\n        if (!eTag) return;\n        try {\n            const payload = JSON.parse(event.content);\n            this.channelMessageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: \"\",\n                    content: payload.text || \"\",\n                    timestamp: event.created_at * 1000,\n                    msgType: \"channel\",\n                    channelId: eTag,\n                    replyTo: payload.replyTo\n                }));\n        } catch  {\n            this.channelMessageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: \"\",\n                    content: event.content || \"\",\n                    timestamp: event.created_at * 1000,\n                    msgType: \"channel\",\n                    channelId: eTag\n                }));\n        }\n    }\n    subscribeToMessages(relayUrl) {\n        if (!this._pk) return;\n        const ws = this.sockets.get(relayUrl);\n        if (!ws || ws.readyState !== WebSocket.OPEN) return;\n        const subId = \"dm-\" + Math.random().toString(36).slice(2, 8);\n        const since = Math.floor(Date.now() / 1000) - 86400 * 30;\n        ws.send(JSON.stringify([\n            \"REQ\",\n            subId,\n            {\n                kinds: [\n                    4\n                ],\n                \"#p\": [\n                    this._pk\n                ],\n                since\n            },\n            {\n                kinds: [\n                    4\n                ],\n                authors: [\n                    this._pk\n                ],\n                since\n            }\n        ]));\n        this.subscriptions.set(subId, {\n            filters: [],\n            relay: relayUrl\n        });\n        this.subscribeToChannels(relayUrl);\n    }\n    subscribeToChannels(relayUrl) {\n        const ws = this.sockets.get(relayUrl);\n        if (!ws || ws.readyState !== WebSocket.OPEN) return;\n        if (this._channels.length === 0) return; // Do not subscribe to global channels\n        const subId = \"ch-\" + Math.random().toString(36).slice(2, 8);\n        const since = Math.floor(Date.now() / 1000) - 86400 * 30;\n        // Only subscribe to channels the user has joined\n        ws.send(JSON.stringify([\n            \"REQ\",\n            subId,\n            {\n                kinds: [\n                    40\n                ],\n                ids: this._channels,\n                since\n            },\n            {\n                kinds: [\n                    42\n                ],\n                \"#e\": this._channels,\n                since\n            }\n        ]));\n        this.subscriptions.set(subId, {\n            filters: [],\n            relay: relayUrl\n        });\n    }\n    async sendEncryptedPayload(recipientPubkey, payload) {\n        if (!this._sk) throw new Error(\" \");\n        const encrypted = await (0,nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__.encrypt)(this._sk, recipientPubkey, payload);\n        const ev = {\n            kind: 4,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [\n                [\n                    \"p\",\n                    recipientPubkey\n                ]\n            ],\n            content: encrypted,\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        this.seenEvents.add(event.id);\n        const json = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        const open = [];\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) open.push(ws);\n        if (!open.length) throw new Error(\"  \");\n        open.forEach((ws)=>{\n            try {\n                ws.send(json);\n            } catch  {}\n        });\n        return event.id;\n    }\n    bytesToBase64(bytes) {\n        let bin = \"\";\n        const step = 0x8000;\n        for(let i = 0; i < bytes.length; i += step){\n            bin += String.fromCharCode(...bytes.subarray(i, i + step));\n        }\n        return btoa(bin);\n    }\n    async sendDirectMessage(recipientPubkey, content, replyTo) {\n        const payload = replyTo ? JSON.stringify({\n            _nostr_msg_type: \"text\",\n            text: content,\n            replyTo\n        }) : content;\n        const id = await this.sendEncryptedPayload(recipientPubkey, payload);\n        return {\n            id,\n            from: this._pk,\n            to: recipientPubkey,\n            content,\n            timestamp: Date.now(),\n            msgType: \"text\",\n            replyTo\n        };\n    }\n    static{\n        // 256KB chunks, parallel send by 3\n        this.CHUNK_SIZE = 262144;\n    }\n    static{\n        this.PARALLEL = 3;\n    }\n    async sendAttachment(recipientPubkey, attachment, text, onProgress, replyTo) {\n        const maxSize = 2 * 1024 * 1024 * 1024;\n        if (attachment.size > maxSize) throw new Error(\"File is too large. Max size is 2GB.\");\n        if (!attachment.file) {\n            const b64 = attachment.data;\n            if (b64.length < 40000) {\n                const id = await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                    _nostr_msg_type: attachment.type,\n                    fileName: attachment.name,\n                    mimeType: attachment.mimeType,\n                    data: b64,\n                    size: attachment.size,\n                    text: text || \"\",\n                    replyTo\n                }));\n                return {\n                    id,\n                    from: this._pk,\n                    to: recipientPubkey,\n                    content: text || \"\",\n                    timestamp: Date.now(),\n                    msgType: attachment.type,\n                    attachment,\n                    replyTo\n                };\n            }\n        }\n        const file = attachment.file;\n        const transferId = Math.random().toString(36).slice(2) + Date.now().toString(36);\n        const fileSize = file ? file.size : attachment.size;\n        const totalChunks = Math.ceil(fileSize / NostrClient.CHUNK_SIZE);\n        let lastId = \"\";\n        let sent = 0;\n        await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n            _nostr_msg_type: \"file-meta\",\n            transferId,\n            totalChunks,\n            fileName: attachment.name,\n            mimeType: attachment.mimeType,\n            size: fileSize,\n            text: text || \"\",\n            fileType: attachment.type,\n            replyTo\n        }));\n        for(let batch = 0; batch < totalChunks; batch += NostrClient.PARALLEL){\n            const promises = [];\n            for(let j = 0; j < NostrClient.PARALLEL && batch + j < totalChunks; j++){\n                const i = batch + j;\n                if (file) {\n                    const start = i * NostrClient.CHUNK_SIZE;\n                    const end = Math.min(start + NostrClient.CHUNK_SIZE, fileSize);\n                    const bytes = new Uint8Array(await file.slice(start, end).arrayBuffer());\n                    const data = this.bytesToBase64(bytes);\n                    promises.push(this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                        _nostr_msg_type: \"file-chunk\",\n                        transferId,\n                        chunkIndex: i,\n                        totalChunks,\n                        data,\n                        fileName: attachment.name,\n                        mimeType: attachment.mimeType,\n                        size: fileSize,\n                        text: text || \"\",\n                        fileType: attachment.type,\n                        replyTo\n                    })));\n                } else {\n                    const base64ChunkSize = Math.floor(NostrClient.CHUNK_SIZE / 3 * 4);\n                    const chunk = attachment.data.slice(i * base64ChunkSize, (i + 1) * base64ChunkSize);\n                    promises.push(this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                        _nostr_msg_type: \"file-chunk\",\n                        transferId,\n                        chunkIndex: i,\n                        totalChunks,\n                        data: chunk,\n                        fileName: attachment.name,\n                        mimeType: attachment.mimeType,\n                        size: fileSize,\n                        text: text || \"\",\n                        fileType: attachment.type,\n                        replyTo\n                    })));\n                }\n            }\n            const ids = await Promise.all(promises);\n            lastId = ids[ids.length - 1] || lastId;\n            sent += promises.length;\n            onProgress?.(sent, totalChunks);\n            if (sent < totalChunks) await new Promise((r)=>setTimeout(r, 50));\n        }\n        return {\n            id: lastId || `local-${transferId}`,\n            from: this._pk,\n            to: recipientPubkey,\n            content: text || \"\",\n            timestamp: Date.now(),\n            msgType: attachment.type,\n            replyTo,\n            attachment: {\n                ...attachment,\n                data: attachment.file ? \"\" : attachment.data,\n                transferId,\n                totalChunks,\n                chunked: true\n            }\n        };\n    }\n    async sendWebRTCSignal(recipientPubkey, signal) {\n        await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n            _nostr_msg_type: signal.type,\n            sdp: signal.sdp,\n            candidate: signal.candidate,\n            callType: signal.callType\n        }));\n    }\n    async createChannel(name, about) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 40,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [],\n            content: JSON.stringify({\n                name,\n                about: about || \"\"\n            }),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const payload = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) try {\n            ws.send(payload);\n        } catch  {}\n        const channel = {\n            id: event.id,\n            name,\n            about,\n            createdBy: this._pk,\n            createdAt: Date.now()\n        };\n        this.channelCallbacks.forEach((cb)=>cb(channel));\n        return channel;\n    }\n    async sendChannelMessage(channelId, text, replyTo) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 42,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [\n                [\n                    \"e\",\n                    channelId,\n                    \"\",\n                    \"root\"\n                ]\n            ],\n            content: JSON.stringify({\n                text,\n                replyTo\n            }),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const payload = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        let sent = false;\n        for (const [, ws] of this.sockets){\n            if (ws.readyState !== WebSocket.OPEN) continue;\n            sent = true;\n            try {\n                ws.send(payload);\n            } catch  {}\n        }\n        if (!sent) throw new Error(\"No connected relays\");\n        return {\n            id: event.id,\n            from: this._pk,\n            to: \"\",\n            content: text,\n            timestamp: Date.now(),\n            msgType: \"channel\",\n            channelId,\n            replyTo\n        };\n    }\n    requestProfile(pubkey) {\n        if (this.profileCache.has(pubkey)) return this.profileCache.get(pubkey);\n        if (this.pendingProfiles.has(pubkey)) return null;\n        this.pendingProfiles.add(pubkey);\n        const subId = \"p-\" + Math.random().toString(36).slice(2, 8);\n        for (const [, ws] of this.sockets){\n            if (ws.readyState === WebSocket.OPEN) {\n                ws.send(JSON.stringify([\n                    \"REQ\",\n                    subId,\n                    {\n                        kinds: [\n                            0\n                        ],\n                        authors: [\n                            pubkey\n                        ],\n                        limit: 1\n                    }\n                ]));\n                break;\n            }\n        }\n        return null;\n    }\n    getProfile(pubkey) {\n        return this.profileCache.get(pubkey) || null;\n    }\n    async updateProfile(profile) {\n        if (!this._sk) throw new Error(\" \");\n        const ev = {\n            kind: 0,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [],\n            content: JSON.stringify(profile),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const json = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) try {\n            ws.send(json);\n        } catch  {}\n        this.profileCache.set(this._pk, profile);\n    }\n    disconnectAll() {\n        for (const [, t] of this.reconnectTimers)clearTimeout(t);\n        this.reconnectTimers.clear();\n        this.reconnectAttempts.clear();\n        for (const [, ws] of this.sockets)ws.close();\n        this.sockets.clear();\n        this.subscriptions.clear();\n        this.relayStatus.clear();\n    }\n    addRelay(url) {\n        if (!this._relays.includes(url)) {\n            this._relays.push(url);\n            this.connectToRelay(url);\n        }\n    }\n    removeRelay(url) {\n        this._relays = this._relays.filter((r)=>r !== url);\n        const t = this.reconnectTimers.get(url);\n        if (t) {\n            clearTimeout(t);\n            this.reconnectTimers.delete(url);\n        }\n        this.reconnectAttempts.delete(url);\n        const ws = this.sockets.get(url);\n        if (ws) {\n            ws.close();\n            this.sockets.delete(url);\n        }\n        this.relayStatus.delete(url);\n    }\n    shortenKey(key) {\n        return !key || key.length < 16 ? key : key.slice(0, 8) + \"\" + key.slice(-8);\n    }\n    isValidHexKey(key) {\n        return /^[0-9a-fA-F]{64}$/.test(key);\n    }\n    constructor(){\n        this._sk = null;\n        this._pk = \"\";\n        this.sockets = new Map();\n        this.relayStatus = new Map();\n        this.subscriptions = new Map();\n        this.messageCallbacks = new Set();\n        this.channelCallbacks = new Set();\n        this.channelMessageCallbacks = new Set();\n        this.profileCallbacks = new Set();\n        this.connectionCallbacks = new Set();\n        this.signalCallbacks = new Set();\n        this.profileCache = new Map();\n        this.pendingProfiles = new Set();\n        this.seenEvents = new Set();\n        this._relays = [\n            ...DEFAULT_RELAYS\n        ];\n        this.reconnectAttempts = new Map();\n        this.reconnectTimers = new Map();\n        this._stopped = false;\n        this._channels = [];\n    }\n}\nconst nostrClient = new NostrClient();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjthQUN6QkYsTUFBYzthQUNkcUQsVUFBa0MsSUFBSWtLO2FBQ3RDN00sY0FBa0YsSUFBSTZNO2FBQ3RGMUQsZ0JBQW1FLElBQUkwRDthQUN2RXhMLG1CQUF5QyxJQUFJa0I7YUFDN0NkLG1CQUF5QyxJQUFJYzthQUM3Q1osMEJBQXVELElBQUlZO2FBQzNEVixtQkFBeUMsSUFBSVU7YUFDN0NSLHNCQUErQyxJQUFJUTthQUNuRE4sa0JBQXVDLElBQUlNO2FBQzNDcUYsZUFBMEMsSUFBSWlGO2FBQzlDaEYsa0JBQStCLElBQUl0RjthQUNuQ3VDLGFBQTBCLElBQUl2QzthQUM5QjdDLFVBQW9CO2VBQUlQO1NBQWU7YUFDdkN3RSxvQkFBeUMsSUFBSWtKO2FBQzdDeEksa0JBQThELElBQUl3STthQUNsRW5NLFdBQVc7YUFDWGQsWUFBc0IsRUFBRTs7QUFrZmxDO0FBRU8sTUFBTWtOLGNBQWMsSUFBSTFOLGNBQWM7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2xpYi9ub3N0ci50cz9mOGY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyYXRlU2VjcmV0S2V5LCBnZXRQdWJsaWNLZXksIGZpbmFsaXplRXZlbnQsIHR5cGUgVW5zaWduZWRFdmVudCB9IGZyb20gJ25vc3RyLXRvb2xzL3B1cmUnO1xuaW1wb3J0IHsgZW5jcnlwdCwgZGVjcnlwdCB9IGZyb20gJ25vc3RyLXRvb2xzL25pcDA0JztcbmltcG9ydCB7IGJ5dGVzVG9IZXgsIGhleFRvQnl0ZXMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgRmlsdGVyIH0gZnJvbSAnbm9zdHItdG9vbHMnO1xuaW1wb3J0IHsgZW5zdXJlVHJhbnNmZXIsIGlzVHJhbnNmZXJDb21wbGV0ZSwgc3RvcmVDaHVuayB9IGZyb20gJy4vY2h1bmtTdG9yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9zdHJQcm9maWxlIHtcbiAgbmFtZT86IHN0cmluZztcbiAgYWJvdXQ/OiBzdHJpbmc7XG4gIHBpY3R1cmU/OiBzdHJpbmc7XG4gIG5pcDA1Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vc3RyRXZlbnQge1xuICBpZDogc3RyaW5nO1xuICBwdWJrZXk6IHN0cmluZztcbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuICBraW5kOiBudW1iZXI7XG4gIHRhZ3M6IHN0cmluZ1tdW107XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgc2lnOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VUeXBlID1cbiAgfCAndGV4dCdcbiAgfCAnaW1hZ2UnXG4gIHwgJ2ZpbGUnXG4gIHwgJ2ZpbGUtbWV0YSdcbiAgfCAnZmlsZS1jaHVuaydcbiAgfCAnY2hhbm5lbCdcbiAgfCAnd2VicnRjLW9mZmVyJ1xuICB8ICd3ZWJydGMtYW5zd2VyJ1xuICB8ICd3ZWJydGMtaWNlJ1xuICB8ICdjYWxsLXJlcXVlc3QnXG4gIHwgJ2NhbGwtYWNjZXB0J1xuICB8ICdjYWxsLXJlamVjdCdcbiAgfCAnY2FsbC1lbmQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlcGx5UmVmIHtcbiAgaWQ6IHN0cmluZztcbiAgZnJvbTogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gIHR5cGU6ICdpbWFnZScgfCAnZmlsZSc7XG4gIG5hbWU6IHN0cmluZztcbiAgbWltZVR5cGU6IHN0cmluZztcbiAgZGF0YTogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG4gIGZpbGU/OiBGaWxlO1xuICB0cmFuc2ZlcklkPzogc3RyaW5nO1xuICB0b3RhbENodW5rcz86IG51bWJlcjtcbiAgY2h1bmtlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0TWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGZyb206IHN0cmluZztcbiAgdG86IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgcGVuZGluZz86IGJvb2xlYW47XG4gIGZhaWxlZD86IGJvb2xlYW47XG4gIG1zZ1R5cGU/OiBNZXNzYWdlVHlwZTtcbiAgYXR0YWNobWVudD86IEF0dGFjaG1lbnQ7XG4gIHJlcGx5VG8/OiBSZXBseVJlZjtcbiAgY2hhbm5lbElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWwge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGFib3V0Pzogc3RyaW5nO1xuICBjcmVhdGVkQnk6IHN0cmluZztcbiAgY3JlYXRlZEF0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFjdCB7XG4gIHB1YmtleTogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBhYm91dD86IHN0cmluZztcbiAgcGljdHVyZT86IHN0cmluZztcbiAgbGFzdE1lc3NhZ2U/OiBzdHJpbmc7XG4gIGxhc3RNZXNzYWdlVGltZT86IG51bWJlcjtcbiAgdW5yZWFkPzogbnVtYmVyO1xuICBvbmxpbmU/OiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1JFTEFZUyA9IFtcbiAgJ3dzczovL3JlbGF5LmRhbXVzLmlvJyxcbiAgJ3dzczovL25vcy5sb2wnLFxuICAnd3NzOi8vcmVsYXkuc25vcnQuc29jaWFsJyxcbiAgJ3dzczovL3JlbGF5LnByaW1hbC5uZXQnLFxuICAnd3NzOi8vcHVycGxlcGFnLmVzJyxcbiAgJ3dzczovL25vc3RyLm1vbScsXG4gICd3c3M6Ly9yZWxheS5ub3N0ci5iZycsXG5dO1xuXG50eXBlIE1lc3NhZ2VDYWxsYmFjayA9IChtc2c6IERpcmVjdE1lc3NhZ2UpID0+IHZvaWQ7XG50eXBlIENoYW5uZWxDYWxsYmFjayA9IChjaGFubmVsOiBDaGFubmVsKSA9PiB2b2lkO1xudHlwZSBDaGFubmVsTWVzc2FnZUNhbGxiYWNrID0gKG1zZzogRGlyZWN0TWVzc2FnZSkgPT4gdm9pZDtcbnR5cGUgUHJvZmlsZUNhbGxiYWNrID0gKHB1YmtleTogc3RyaW5nLCBwcm9maWxlOiBOb3N0clByb2ZpbGUpID0+IHZvaWQ7XG50eXBlIENvbm5lY3Rpb25DYWxsYmFjayA9IChyZWxheTogc3RyaW5nLCBzdGF0dXM6ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnZXJyb3InKSA9PiB2b2lkO1xudHlwZSBTaWduYWxDYWxsYmFjayA9IChmcm9tOiBzdHJpbmcsIHNpZ25hbDogV2ViUlRDU2lnbmFsKSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdlYlJUQ1NpZ25hbCB7XG4gIHR5cGU6IE1lc3NhZ2VUeXBlO1xuICBzZHA/OiBzdHJpbmc7XG4gIGNhbmRpZGF0ZT86IFJUQ0ljZUNhbmRpZGF0ZUluaXQ7XG4gIGNhbGxUeXBlPzogJ2F1ZGlvJyB8ICd2aWRlbyc7XG59XG5cbmNsYXNzIE5vc3RyQ2xpZW50IHtcbiAgcHJpdmF0ZSBfc2s6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfcGs6IHN0cmluZyA9ICcnO1xuICBwcml2YXRlIHNvY2tldHM6IE1hcDxzdHJpbmcsIFdlYlNvY2tldD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVsYXlTdGF0dXM6IE1hcDxzdHJpbmcsICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZXJyb3InPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBNYXA8c3RyaW5nLCB7IGZpbHRlcnM6IEZpbHRlcltdOyByZWxheTogc3RyaW5nIH0+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIG1lc3NhZ2VDYWxsYmFja3M6IFNldDxNZXNzYWdlQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNoYW5uZWxDYWxsYmFja3M6IFNldDxDaGFubmVsQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNoYW5uZWxNZXNzYWdlQ2FsbGJhY2tzOiBTZXQ8Q2hhbm5lbE1lc3NhZ2VDYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgcHJvZmlsZUNhbGxiYWNrczogU2V0PFByb2ZpbGVDYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgY29ubmVjdGlvbkNhbGxiYWNrczogU2V0PENvbm5lY3Rpb25DYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgc2lnbmFsQ2FsbGJhY2tzOiBTZXQ8U2lnbmFsQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHByb2ZpbGVDYWNoZTogTWFwPHN0cmluZywgTm9zdHJQcm9maWxlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBwZW5kaW5nUHJvZmlsZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHNlZW5FdmVudHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIF9yZWxheXM6IHN0cmluZ1tdID0gWy4uLkRFRkFVTFRfUkVMQVlTXTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0czogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RUaW1lcnM6IE1hcDxzdHJpbmcsIFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfc3RvcHBlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9jaGFubmVsczogc3RyaW5nW10gPSBbXTtcblxuICBnZXQgcHVibGljS2V5KCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9wazsgfVxuICBnZXQgcHJpdmF0ZUtleUhleCgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fc2sgPyBieXRlc1RvSGV4KHRoaXMuX3NrKSA6ICcnOyB9XG4gIGdldCByZWxheXMoKTogc3RyaW5nW10geyByZXR1cm4gWy4uLnRoaXMuX3JlbGF5c107IH1cbiAgZ2V0IGNoYW5uZWxzKCk6IHN0cmluZ1tdIHsgcmV0dXJuIFsuLi50aGlzLl9jaGFubmVsc107IH1cbiAgZ2V0IHNrKCk6IFVpbnQ4QXJyYXkgfCBudWxsIHsgcmV0dXJuIHRoaXMuX3NrOyB9XG5cbiAgZ2V0UmVsYXlTdGF0dXMocmVsYXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucmVsYXlTdGF0dXMuZ2V0KHJlbGF5KSB8fCAnZGlzY29ubmVjdGVkJztcbiAgfVxuXG4gIGdldCBjb25uZWN0ZWRSZWxheUNvdW50KCk6IG51bWJlciB7XG4gICAgbGV0IGMgPSAwO1xuICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLnJlbGF5U3RhdHVzLnZhbHVlcygpKSBpZiAocyA9PT0gJ2Nvbm5lY3RlZCcpIGMrKztcbiAgICByZXR1cm4gYztcbiAgfVxuXG4gIGdlbmVyYXRlS2V5cygpIHtcbiAgICBjb25zdCBzayA9IGdlbmVyYXRlU2VjcmV0S2V5KCk7XG4gICAgY29uc3QgcGsgPSBnZXRQdWJsaWNLZXkoc2spO1xuICAgIHJldHVybiB7IHByaXZhdGVLZXk6IGJ5dGVzVG9IZXgoc2spLCBwdWJsaWNLZXk6IHBrIH07XG4gIH1cblxuICBsb2dpbihwcml2YXRlS2V5SGV4OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNrID0gaGV4VG9CeXRlcyhwcml2YXRlS2V5SGV4KTtcbiAgICBjb25zdCBwayA9IGdldFB1YmxpY0tleShzayk7XG4gICAgdGhpcy5fc2sgPSBzazsgdGhpcy5fcGsgPSBwazsgdGhpcy5fc3RvcHBlZCA9IGZhbHNlO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdub3N0cl9zaycsIHByaXZhdGVLZXlIZXgpO1xuICAgIHJldHVybiBwaztcbiAgfVxuXG4gIGxvZ291dCgpIHtcbiAgICB0aGlzLl9zdG9wcGVkID0gdHJ1ZTsgdGhpcy5kaXNjb25uZWN0QWxsKCk7XG4gICAgdGhpcy5fc2sgPSBudWxsOyB0aGlzLl9wayA9ICcnO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub3N0cl9zaycpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub3N0cl9jb250YWN0cycpO1xuICB9XG5cbiAgdHJ5QXV0b0xvZ2luKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25vc3RyX3NrJyk7XG4gICAgaWYgKHNrPy5sZW5ndGggPT09IDY0KSB7IHRyeSB7IHRoaXMubG9naW4oc2spOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub3N0cl9zaycpOyB9IH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBvbk1lc3NhZ2UoY2I6IE1lc3NhZ2VDYWxsYmFjaykgeyB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25DaGFubmVsKGNiOiBDaGFubmVsQ2FsbGJhY2spIHsgdGhpcy5jaGFubmVsQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMuY2hhbm5lbENhbGxiYWNrcy5kZWxldGUoY2IpOyB9OyB9XG4gIG9uQ2hhbm5lbE1lc3NhZ2UoY2I6IENoYW5uZWxNZXNzYWdlQ2FsbGJhY2spIHsgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLmNoYW5uZWxNZXNzYWdlQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25Qcm9maWxlKGNiOiBQcm9maWxlQ2FsbGJhY2spIHsgdGhpcy5wcm9maWxlQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMucHJvZmlsZUNhbGxiYWNrcy5kZWxldGUoY2IpOyB9OyB9XG4gIG9uQ29ubmVjdGlvbihjYjogQ29ubmVjdGlvbkNhbGxiYWNrKSB7IHRoaXMuY29ubmVjdGlvbkNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuICBvblNpZ25hbChjYjogU2lnbmFsQ2FsbGJhY2spIHsgdGhpcy5zaWduYWxDYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5zaWduYWxDYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuXG4gIGFzeW5jIGNvbm5lY3RUb1JlbGF5cygpIHsgZm9yIChjb25zdCByIG9mIHRoaXMuX3JlbGF5cykgdGhpcy5jb25uZWN0VG9SZWxheShyKTsgfVxuXG4gIHNldENoYW5uZWxzKGNoYW5uZWxJZHM6IHN0cmluZ1tdKSB7XG4gICAgdGhpcy5fY2hhbm5lbHMgPSBbLi4ubmV3IFNldChjaGFubmVsSWRzLmZpbHRlcihCb29sZWFuKSldO1xuICAgIGZvciAoY29uc3QgW3JlbGF5LCB3c10gb2YgdGhpcy5zb2NrZXRzKSB7XG4gICAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHRoaXMuc3Vic2NyaWJlVG9DaGFubmVscyhyZWxheSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb25uZWN0VG9SZWxheSh1cmw6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl9zdG9wcGVkKSByZXR1cm47XG4gICAgaWYgKHRoaXMuc29ja2V0cy5oYXModXJsKSkge1xuICAgICAgY29uc3QgZSA9IHRoaXMuc29ja2V0cy5nZXQodXJsKSE7XG4gICAgICBpZiAoZS5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiB8fCBlLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVsYXlTdGF0dXMuc2V0KHVybCwgJ2Nvbm5lY3RpbmcnKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdkaXNjb25uZWN0ZWQnKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmwpO1xuICAgICAgY29uc3QgY3QgPSBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB3cy5jbG9zZSgpOyB9LCA4MDAwKTtcbiAgICAgIHRoaXMuc29ja2V0cy5zZXQodXJsLCB3cyk7XG4gICAgICB3cy5vbm9wZW4gPSAoKSA9PiB7IGNsZWFyVGltZW91dChjdCk7IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuc2V0KHVybCwgMCk7IHRoaXMucmVsYXlTdGF0dXMuc2V0KHVybCwgJ2Nvbm5lY3RlZCcpOyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdjb25uZWN0ZWQnKSk7IHRoaXMuc3Vic2NyaWJlVG9NZXNzYWdlcyh1cmwpOyB9O1xuICAgICAgd3Mub25jbG9zZSA9ICgpID0+IHsgY2xlYXJUaW1lb3V0KGN0KTsgdGhpcy5yZWxheVN0YXR1cy5zZXQodXJsLCAnZGlzY29ubmVjdGVkJyk7IHRoaXMuY29ubmVjdGlvbkNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHVybCwgJ2Rpc2Nvbm5lY3RlZCcpKTsgdGhpcy5zb2NrZXRzLmRlbGV0ZSh1cmwpOyB0aGlzLnNjaGVkdWxlUmVjb25uZWN0KHVybCk7IH07XG4gICAgICB3cy5vbmVycm9yID0gKCkgPT4geyB0aGlzLnJlbGF5U3RhdHVzLnNldCh1cmwsICdlcnJvcicpOyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdlcnJvcicpKTsgfTtcbiAgICAgIHdzLm9ubWVzc2FnZSA9IChlKSA9PiB7IHRyeSB7IHRoaXMuaGFuZGxlUmVsYXlNZXNzYWdlKEpTT04ucGFyc2UoZS5kYXRhKSk7IH0gY2F0Y2gge30gfTtcbiAgICB9IGNhdGNoIHsgdGhpcy5yZWxheVN0YXR1cy5zZXQodXJsLCAnZXJyb3InKTsgdGhpcy5zY2hlZHVsZVJlY29ubmVjdCh1cmwpOyB9XG4gIH1cblxuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KHVybDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX3N0b3BwZWQpIHJldHVybjtcbiAgICBjb25zdCBlID0gdGhpcy5yZWNvbm5lY3RUaW1lcnMuZ2V0KHVybCk7IGlmIChlKSBjbGVhclRpbWVvdXQoZSk7XG4gICAgY29uc3QgYSA9IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZ2V0KHVybCkgfHwgMDtcbiAgICBjb25zdCBkID0gTWF0aC5taW4oMzAwMCAqIE1hdGgucG93KDIsIGEpLCA2MDAwMCk7XG4gICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cy5zZXQodXJsLCBhICsgMSk7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lcnMuc2V0KHVybCwgc2V0VGltZW91dCgoKSA9PiB7IGlmICghdGhpcy5fc3RvcHBlZCAmJiB0aGlzLl9zaykgdGhpcy5jb25uZWN0VG9SZWxheSh1cmwpOyB9LCBkKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJlbGF5TWVzc2FnZShkYXRhOiB1bmtub3duW10pIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybjtcbiAgICBpZiAoZGF0YVswXSA9PT0gJ0VWRU5UJykge1xuICAgICAgY29uc3QgZXYgPSBkYXRhWzJdIGFzIE5vc3RyRXZlbnQ7XG4gICAgICBpZiAoIWV2IHx8IHRoaXMuc2VlbkV2ZW50cy5oYXMoZXYuaWQpKSByZXR1cm47XG4gICAgICB0aGlzLnNlZW5FdmVudHMuYWRkKGV2LmlkKTtcbiAgICAgIGlmIChldi5raW5kID09PSA0KSB0aGlzLmhhbmRsZUVuY3J5cHRlZERNKGV2KTtcbiAgICAgIGVsc2UgaWYgKGV2LmtpbmQgPT09IDApIHRoaXMuaGFuZGxlUHJvZmlsZUV2ZW50KGV2KTtcbiAgICAgIGVsc2UgaWYgKGV2LmtpbmQgPT09IDQwKSB0aGlzLmhhbmRsZUNoYW5uZWxFdmVudChldik7XG4gICAgICBlbHNlIGlmIChldi5raW5kID09PSA0MikgdGhpcy5oYW5kbGVDaGFubmVsTWVzc2FnZUV2ZW50KGV2KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUVuY3J5cHRlZERNKGV2ZW50OiBOb3N0ckV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl9zaykgcmV0dXJuO1xuICAgIGNvbnN0IHBUYWcgPSBldmVudC50YWdzLmZpbmQodCA9PiB0WzBdID09PSAncCcpOyBpZiAoIXBUYWcpIHJldHVybjtcbiAgICBjb25zdCBpc0Zvck1lID0gcFRhZ1sxXSA9PT0gdGhpcy5fcGssIGlzRnJvbU1lID0gZXZlbnQucHVia2V5ID09PSB0aGlzLl9waztcbiAgICBpZiAoIWlzRm9yTWUgJiYgIWlzRnJvbU1lKSByZXR1cm47XG4gICAgY29uc3Qgb3RoZXIgPSBpc0Zyb21NZSA/IHBUYWdbMV0gOiBldmVudC5wdWJrZXk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlYyA9IGF3YWl0IGRlY3J5cHQodGhpcy5fc2ssIG90aGVyLCBldmVudC5jb250ZW50KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHAgPSBKU09OLnBhcnNlKGRlYyk7XG4gICAgICAgICAgaWYgKHA/Ll9ub3N0cl9tc2dfdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgbXQgPSBwLl9ub3N0cl9tc2dfdHlwZSBhcyBNZXNzYWdlVHlwZTtcbiAgICAgICAgICAgIGlmIChtdCA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHtcbiAgICAgICAgICAgICAgICBpZDogZXZlbnQuaWQsXG4gICAgICAgICAgICAgICAgZnJvbTogZXZlbnQucHVia2V5LFxuICAgICAgICAgICAgICAgIHRvOiBwVGFnWzFdLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IChwLnRleHQgYXMgc3RyaW5nKSB8fCAnJyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLFxuICAgICAgICAgICAgICAgIG1zZ1R5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICByZXBseVRvOiBwLnJlcGx5VG8gYXMgUmVwbHlSZWYgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFsnd2VicnRjLW9mZmVyJywnd2VicnRjLWFuc3dlcicsJ3dlYnJ0Yy1pY2UnLCdjYWxsLXJlcXVlc3QnLCdjYWxsLWFjY2VwdCcsJ2NhbGwtcmVqZWN0JywnY2FsbC1lbmQnXS5pbmNsdWRlcyhtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoZXZlbnQucHVia2V5LCB7IHR5cGU6IG10LCBzZHA6IHAuc2RwLCBjYW5kaWRhdGU6IHAuY2FuZGlkYXRlLCBjYWxsVHlwZTogcC5jYWxsVHlwZSB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtdCA9PT0gJ2ZpbGUtY2h1bmsnKSB7IHRoaXMuaGFuZGxlRmlsZUNodW5rKGV2ZW50LmlkLCBldmVudC5wdWJrZXksIHBUYWdbMV0sIGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLCBwKTsgcmV0dXJuOyB9XG4gICAgICAgICAgaWYgKG10ID09PSAnZmlsZS1tZXRhJykge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJJZCA9IChwLnRyYW5zZmVySWQgYXMgc3RyaW5nKSB8fCAnJztcbiAgICAgICAgICAgIGlmICghdHJhbnNmZXJJZCkgcmV0dXJuO1xuICAgICAgICAgICAgYXdhaXQgZW5zdXJlVHJhbnNmZXIoe1xuICAgICAgICAgICAgICB0cmFuc2ZlcklkLFxuICAgICAgICAgICAgICBmaWxlTmFtZTogKHAuZmlsZU5hbWUgYXMgc3RyaW5nKSB8fCAnZmlsZScsXG4gICAgICAgICAgICAgIG1pbWVUeXBlOiAocC5taW1lVHlwZSBhcyBzdHJpbmcpIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICAgICAgc2l6ZTogKHAuc2l6ZSBhcyBudW1iZXIpIHx8IDAsXG4gICAgICAgICAgICAgIHRvdGFsQ2h1bmtzOiAocC50b3RhbENodW5rcyBhcyBudW1iZXIpIHx8IDAsXG4gICAgICAgICAgICAgIHRleHQ6IChwLnRleHQgYXMgc3RyaW5nKSB8fCAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobXQgPT09ICdpbWFnZScgfHwgbXQgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoeyBpZDogZXZlbnQuaWQsIGZyb206IGV2ZW50LnB1YmtleSwgdG86IHBUYWdbMV0sIGNvbnRlbnQ6IHAudGV4dCB8fCAnJywgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCwgbXNnVHlwZTogbXQsIHJlcGx5VG86IHAucmVwbHlUbyBhcyBSZXBseVJlZiB8IHVuZGVmaW5lZCwgYXR0YWNobWVudDogeyB0eXBlOiBtdCwgbmFtZTogcC5maWxlTmFtZSB8fCAnZmlsZScsIG1pbWVUeXBlOiBwLm1pbWVUeXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLCBkYXRhOiBwLmRhdGEgfHwgJycsIHNpemU6IHAuc2l6ZSB8fCAwIH0gfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoeyBpZDogZXZlbnQuaWQsIGZyb206IGV2ZW50LnB1YmtleSwgdG86IHBUYWdbMV0sIGNvbnRlbnQ6IGRlYywgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCwgbXNnVHlwZTogJ3RleHQnIH0pKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVDaHVuayhldmVudElkOiBzdHJpbmcsIGZyb206IHN0cmluZywgdG86IHN0cmluZywgdGltZXN0YW1wOiBudW1iZXIsIHA6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgY29uc3QgdHJhbnNmZXJJZCA9IHAudHJhbnNmZXJJZCBhcyBzdHJpbmc7XG4gICAgY29uc3QgY2h1bmtJbmRleCA9IHAuY2h1bmtJbmRleCBhcyBudW1iZXI7XG4gICAgY29uc3QgdG90YWxDaHVua3MgPSBwLnRvdGFsQ2h1bmtzIGFzIG51bWJlcjtcbiAgICBjb25zdCBkYXRhID0gcC5kYXRhIGFzIHN0cmluZztcbiAgICBpZiAoIXRyYW5zZmVySWQgfHwgdHlwZW9mIGNodW5rSW5kZXggIT09ICdudW1iZXInIHx8IHR5cGVvZiB0b3RhbENodW5rcyAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSByZXR1cm47XG5cbiAgICBjb25zdCBmaWxlVHlwZSA9IChwLmZpbGVUeXBlIGFzIHN0cmluZykgPT09ICdpbWFnZScgPyAnaW1hZ2UnIDogJ2ZpbGUnO1xuICAgIGF3YWl0IGVuc3VyZVRyYW5zZmVyKHtcbiAgICAgIHRyYW5zZmVySWQsXG4gICAgICBmaWxlTmFtZTogKHAuZmlsZU5hbWUgYXMgc3RyaW5nKSB8fCAnZmlsZScsXG4gICAgICBtaW1lVHlwZTogKHAubWltZVR5cGUgYXMgc3RyaW5nKSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgIGZpbGVUeXBlLFxuICAgICAgc2l6ZTogKHAuc2l6ZSBhcyBudW1iZXIpIHx8IDAsXG4gICAgICB0b3RhbENodW5rcyxcbiAgICAgIHRleHQ6IChwLnRleHQgYXMgc3RyaW5nKSB8fCAnJyxcbiAgICB9KTtcbiAgICBhd2FpdCBzdG9yZUNodW5rKHRyYW5zZmVySWQsIGNodW5rSW5kZXgsIHRvdGFsQ2h1bmtzLCBkYXRhKTtcbiAgICBjb25zdCBkb25lID0gYXdhaXQgaXNUcmFuc2ZlckNvbXBsZXRlKHRyYW5zZmVySWQpO1xuICAgIGlmICghZG9uZSkgcmV0dXJuO1xuXG4gICAgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2Ioe1xuICAgICAgaWQ6IGAke2V2ZW50SWR9LWFzc2VtYmxlZC0ke3RyYW5zZmVySWR9YCxcbiAgICAgIGZyb20sXG4gICAgICB0byxcbiAgICAgIGNvbnRlbnQ6IChwLnRleHQgYXMgc3RyaW5nKSB8fCAnJyxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIG1zZ1R5cGU6IGZpbGVUeXBlLFxuICAgICAgcmVwbHlUbzogcC5yZXBseVRvIGFzIFJlcGx5UmVmIHwgdW5kZWZpbmVkLFxuICAgICAgYXR0YWNobWVudDoge1xuICAgICAgICB0eXBlOiBmaWxlVHlwZSxcbiAgICAgICAgbmFtZTogKHAuZmlsZU5hbWUgYXMgc3RyaW5nKSB8fCAnZmlsZScsXG4gICAgICAgIG1pbWVUeXBlOiAocC5taW1lVHlwZSBhcyBzdHJpbmcpIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgc2l6ZTogKHAuc2l6ZSBhcyBudW1iZXIpIHx8IDAsXG4gICAgICAgIHRyYW5zZmVySWQsXG4gICAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgICBjaHVua2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVByb2ZpbGVFdmVudChldmVudDogTm9zdHJFdmVudCkge1xuICAgIHRyeSB7IGNvbnN0IHAgPSBKU09OLnBhcnNlKGV2ZW50LmNvbnRlbnQpIGFzIE5vc3RyUHJvZmlsZTsgdGhpcy5wcm9maWxlQ2FjaGUuc2V0KGV2ZW50LnB1YmtleSwgcCk7IHRoaXMucGVuZGluZ1Byb2ZpbGVzLmRlbGV0ZShldmVudC5wdWJrZXkpOyB0aGlzLnByb2ZpbGVDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYihldmVudC5wdWJrZXksIHApKTsgfSBjYXRjaCB7fVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDaGFubmVsRXZlbnQoZXZlbnQ6IE5vc3RyRXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoZXZlbnQuY29udGVudCkgYXMgeyBuYW1lPzogc3RyaW5nOyBhYm91dD86IHN0cmluZyB9O1xuICAgICAgY29uc3QgY2hhbm5lbDogQ2hhbm5lbCA9IHtcbiAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWU/LnRyaW0oKSB8fCBgY2hhbm5lbC0ke2V2ZW50LmlkLnNsaWNlKDAsIDgpfWAsXG4gICAgICAgIGFib3V0OiBwYXlsb2FkLmFib3V0LFxuICAgICAgICBjcmVhdGVkQnk6IGV2ZW50LnB1YmtleSxcbiAgICAgICAgY3JlYXRlZEF0OiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCxcbiAgICAgIH07XG4gICAgICB0aGlzLmNoYW5uZWxDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYihjaGFubmVsKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDaGFubmVsTWVzc2FnZUV2ZW50KGV2ZW50OiBOb3N0ckV2ZW50KSB7XG4gICAgY29uc3QgZVRhZyA9IGV2ZW50LnRhZ3MuZmluZCh0ID0+IHRbMF0gPT09ICdlJyk/LlsxXTtcbiAgICBpZiAoIWVUYWcpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoZXZlbnQuY29udGVudCkgYXMgeyB0ZXh0Pzogc3RyaW5nOyByZXBseVRvPzogUmVwbHlSZWYgfTtcbiAgICAgIHRoaXMuY2hhbm5lbE1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7XG4gICAgICAgIGlkOiBldmVudC5pZCxcbiAgICAgICAgZnJvbTogZXZlbnQucHVia2V5LFxuICAgICAgICB0bzogJycsXG4gICAgICAgIGNvbnRlbnQ6IHBheWxvYWQudGV4dCB8fCAnJyxcbiAgICAgICAgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCxcbiAgICAgICAgbXNnVHlwZTogJ2NoYW5uZWwnLFxuICAgICAgICBjaGFubmVsSWQ6IGVUYWcsXG4gICAgICAgIHJlcGx5VG86IHBheWxvYWQucmVwbHlUbyxcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRoaXMuY2hhbm5lbE1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7XG4gICAgICAgIGlkOiBldmVudC5pZCxcbiAgICAgICAgZnJvbTogZXZlbnQucHVia2V5LFxuICAgICAgICB0bzogJycsXG4gICAgICAgIGNvbnRlbnQ6IGV2ZW50LmNvbnRlbnQgfHwgJycsXG4gICAgICAgIHRpbWVzdGFtcDogZXZlbnQuY3JlYXRlZF9hdCAqIDEwMDAsXG4gICAgICAgIG1zZ1R5cGU6ICdjaGFubmVsJyxcbiAgICAgICAgY2hhbm5lbElkOiBlVGFnLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaWJlVG9NZXNzYWdlcyhyZWxheVVybDogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLl9waykgcmV0dXJuO1xuICAgIGNvbnN0IHdzID0gdGhpcy5zb2NrZXRzLmdldChyZWxheVVybCk7IGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgICBjb25zdCBzdWJJZCA9ICdkbS0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCk7XG4gICAgY29uc3Qgc2luY2UgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSAtIDg2NDAwICogMzA7XG4gICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeShbJ1JFUScsIHN1YklkLCB7IGtpbmRzOiBbNF0sICcjcCc6IFt0aGlzLl9wa10sIHNpbmNlIH0sIHsga2luZHM6IFs0XSwgYXV0aG9yczogW3RoaXMuX3BrXSwgc2luY2UgfV0pKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KHN1YklkLCB7IGZpbHRlcnM6IFtdLCByZWxheTogcmVsYXlVcmwgfSk7XG4gICAgdGhpcy5zdWJzY3JpYmVUb0NoYW5uZWxzKHJlbGF5VXJsKTtcbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaWJlVG9DaGFubmVscyhyZWxheVVybDogc3RyaW5nKSB7XG4gICAgY29uc3Qgd3MgPSB0aGlzLnNvY2tldHMuZ2V0KHJlbGF5VXJsKTtcbiAgICBpZiAoIXdzIHx8IHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSByZXR1cm47XG4gICAgaWYgKHRoaXMuX2NoYW5uZWxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBEbyBub3Qgc3Vic2NyaWJlIHRvIGdsb2JhbCBjaGFubmVsc1xuXG4gICAgY29uc3Qgc3ViSWQgPSAnY2gtJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDgpO1xuICAgIGNvbnN0IHNpbmNlID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgLSA4NjQwMCAqIDMwO1xuXG4gICAgLy8gT25seSBzdWJzY3JpYmUgdG8gY2hhbm5lbHMgdGhlIHVzZXIgaGFzIGpvaW5lZFxuICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoWydSRVEnLCBzdWJJZCwgeyBraW5kczogWzQwXSwgaWRzOiB0aGlzLl9jaGFubmVscywgc2luY2UgfSwgeyBraW5kczogWzQyXSwgJyNlJzogdGhpcy5fY2hhbm5lbHMsIHNpbmNlIH1dKSk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnNldChzdWJJZCwgeyBmaWx0ZXJzOiBbXSwgcmVsYXk6IHJlbGF5VXJsIH0pO1xuICB9XG5cbiAgYXN5bmMgc2VuZEVuY3J5cHRlZFBheWxvYWQocmVjaXBpZW50UHVia2V5OiBzdHJpbmcsIHBheWxvYWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKCF0aGlzLl9zaykgdGhyb3cgbmV3IEVycm9yKCfQndC1INCw0LLRgtC+0YDQuNC30L7QstCw0L0nKTtcbiAgICBjb25zdCBlbmNyeXB0ZWQgPSBhd2FpdCBlbmNyeXB0KHRoaXMuX3NrLCByZWNpcGllbnRQdWJrZXksIHBheWxvYWQpO1xuICAgIGNvbnN0IGV2OiBVbnNpZ25lZEV2ZW50ID0geyBraW5kOiA0LCBjcmVhdGVkX2F0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSwgdGFnczogW1sncCcsIHJlY2lwaWVudFB1YmtleV1dLCBjb250ZW50OiBlbmNyeXB0ZWQsIHB1YmtleTogdGhpcy5fcGsgfTtcbiAgICBjb25zdCBldmVudCA9IGZpbmFsaXplRXZlbnQoZXYsIHRoaXMuX3NrKTtcbiAgICB0aGlzLnNlZW5FdmVudHMuYWRkKGV2ZW50LmlkKTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoWydFVkVOVCcsIGV2ZW50XSk7XG4gICAgY29uc3Qgb3BlbjogV2ViU29ja2V0W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IFssIHdzXSBvZiB0aGlzLnNvY2tldHMpIGlmICh3cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgb3Blbi5wdXNoKHdzKTtcbiAgICBpZiAoIW9wZW4ubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ9Cd0LXRgiDQv9C+0LTQutC70Y7Rh9GR0L3QvdGL0YUg0YDQtdC70LXQtdCyJyk7XG4gICAgb3Blbi5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgd3Muc2VuZChqc29uKTsgfSBjYXRjaCB7fSB9KTtcbiAgICByZXR1cm4gZXZlbnQuaWQ7XG4gIH1cblxuICBwcml2YXRlIGJ5dGVzVG9CYXNlNjQoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICAgIGxldCBiaW4gPSAnJztcbiAgICBjb25zdCBzdGVwID0gMHg4MDAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IHN0ZXApIHtcbiAgICAgIGJpbiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmJ5dGVzLnN1YmFycmF5KGksIGkgKyBzdGVwKSk7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGJpbik7XG4gIH1cblxuICBhc3luYyBzZW5kRGlyZWN0TWVzc2FnZShyZWNpcGllbnRQdWJrZXk6IHN0cmluZywgY29udGVudDogc3RyaW5nLCByZXBseVRvPzogUmVwbHlSZWYpOiBQcm9taXNlPERpcmVjdE1lc3NhZ2U+IHtcbiAgICBjb25zdCBwYXlsb2FkID0gcmVwbHlUbyA/IEpTT04uc3RyaW5naWZ5KHsgX25vc3RyX21zZ190eXBlOiAndGV4dCcsIHRleHQ6IGNvbnRlbnQsIHJlcGx5VG8gfSkgOiBjb250ZW50O1xuICAgIGNvbnN0IGlkID0gYXdhaXQgdGhpcy5zZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXksIHBheWxvYWQpO1xuICAgIHJldHVybiB7IGlkLCBmcm9tOiB0aGlzLl9waywgdG86IHJlY2lwaWVudFB1YmtleSwgY29udGVudCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtc2dUeXBlOiAndGV4dCcsIHJlcGx5VG8gfTtcbiAgfVxuXG4gIC8vIDI1NktCIGNodW5rcywgcGFyYWxsZWwgc2VuZCBieSAzXG4gIHByaXZhdGUgc3RhdGljIENIVU5LX1NJWkUgPSAyNjIxNDQ7XG4gIHByaXZhdGUgc3RhdGljIFBBUkFMTEVMID0gMztcblxuICBhc3luYyBzZW5kQXR0YWNobWVudChcbiAgICByZWNpcGllbnRQdWJrZXk6IHN0cmluZyxcbiAgICBhdHRhY2htZW50OiBBdHRhY2htZW50LFxuICAgIHRleHQ/OiBzdHJpbmcsXG4gICAgb25Qcm9ncmVzcz86IChzZW50OiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQsXG4gICAgcmVwbHlUbz86IFJlcGx5UmVmLFxuICApOiBQcm9taXNlPERpcmVjdE1lc3NhZ2U+IHtcbiAgICBjb25zdCBtYXhTaXplID0gMiAqIDEwMjQgKiAxMDI0ICogMTAyNDtcbiAgICBpZiAoYXR0YWNobWVudC5zaXplID4gbWF4U2l6ZSkgdGhyb3cgbmV3IEVycm9yKCdGaWxlIGlzIHRvbyBsYXJnZS4gTWF4IHNpemUgaXMgMkdCLicpO1xuXG4gICAgaWYgKCFhdHRhY2htZW50LmZpbGUpIHtcbiAgICAgIGNvbnN0IGI2NCA9IGF0dGFjaG1lbnQuZGF0YTtcbiAgICAgIGlmIChiNjQubGVuZ3RoIDwgNDAwMDApIHtcbiAgICAgICAgY29uc3QgaWQgPSBhd2FpdCB0aGlzLnNlbmRFbmNyeXB0ZWRQYXlsb2FkKHJlY2lwaWVudFB1YmtleSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIF9ub3N0cl9tc2dfdHlwZTogYXR0YWNobWVudC50eXBlLFxuICAgICAgICAgIGZpbGVOYW1lOiBhdHRhY2htZW50Lm5hbWUsXG4gICAgICAgICAgbWltZVR5cGU6IGF0dGFjaG1lbnQubWltZVR5cGUsXG4gICAgICAgICAgZGF0YTogYjY0LFxuICAgICAgICAgIHNpemU6IGF0dGFjaG1lbnQuc2l6ZSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgICAgIHJlcGx5VG8sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHsgaWQsIGZyb206IHRoaXMuX3BrLCB0bzogcmVjaXBpZW50UHVia2V5LCBjb250ZW50OiB0ZXh0IHx8ICcnLCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1zZ1R5cGU6IGF0dGFjaG1lbnQudHlwZSwgYXR0YWNobWVudCwgcmVwbHlUbyB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbGUgPSBhdHRhY2htZW50LmZpbGU7XG4gICAgY29uc3QgdHJhbnNmZXJJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpICsgRGF0ZS5ub3coKS50b1N0cmluZygzNik7XG4gICAgY29uc3QgZmlsZVNpemUgPSBmaWxlID8gZmlsZS5zaXplIDogYXR0YWNobWVudC5zaXplO1xuICAgIGNvbnN0IHRvdGFsQ2h1bmtzID0gTWF0aC5jZWlsKGZpbGVTaXplIC8gTm9zdHJDbGllbnQuQ0hVTktfU0laRSk7XG4gICAgbGV0IGxhc3RJZCA9ICcnO1xuICAgIGxldCBzZW50ID0gMDtcblxuICAgIGF3YWl0IHRoaXMuc2VuZEVuY3J5cHRlZFBheWxvYWQocmVjaXBpZW50UHVia2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBfbm9zdHJfbXNnX3R5cGU6ICdmaWxlLW1ldGEnLFxuICAgICAgdHJhbnNmZXJJZCxcbiAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50Lm1pbWVUeXBlLFxuICAgICAgc2l6ZTogZmlsZVNpemUsXG4gICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgZmlsZVR5cGU6IGF0dGFjaG1lbnQudHlwZSxcbiAgICAgIHJlcGx5VG8sXG4gICAgfSkpO1xuXG4gICAgZm9yIChsZXQgYmF0Y2ggPSAwOyBiYXRjaCA8IHRvdGFsQ2h1bmtzOyBiYXRjaCArPSBOb3N0ckNsaWVudC5QQVJBTExFTCkge1xuICAgICAgY29uc3QgcHJvbWlzZXM6IFByb21pc2U8c3RyaW5nPltdID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE5vc3RyQ2xpZW50LlBBUkFMTEVMICYmIGJhdGNoICsgaiA8IHRvdGFsQ2h1bmtzOyBqKyspIHtcbiAgICAgICAgY29uc3QgaSA9IGJhdGNoICsgajtcbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKiBOb3N0ckNsaWVudC5DSFVOS19TSVpFO1xuICAgICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgTm9zdHJDbGllbnQuQ0hVTktfU0laRSwgZmlsZVNpemUpO1xuICAgICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgZmlsZS5zbGljZShzdGFydCwgZW5kKS5hcnJheUJ1ZmZlcigpKTtcbiAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5ieXRlc1RvQmFzZTY0KGJ5dGVzKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuc2VuZEVuY3J5cHRlZFBheWxvYWQocmVjaXBpZW50UHVia2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBfbm9zdHJfbXNnX3R5cGU6ICdmaWxlLWNodW5rJyxcbiAgICAgICAgICAgIHRyYW5zZmVySWQsXG4gICAgICAgICAgICBjaHVua0luZGV4OiBpLFxuICAgICAgICAgICAgdG90YWxDaHVua3MsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50Lm1pbWVUeXBlLFxuICAgICAgICAgICAgc2l6ZTogZmlsZVNpemUsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgICAgICAgZmlsZVR5cGU6IGF0dGFjaG1lbnQudHlwZSxcbiAgICAgICAgICAgIHJlcGx5VG8sXG4gICAgICAgICAgfSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBiYXNlNjRDaHVua1NpemUgPSBNYXRoLmZsb29yKChOb3N0ckNsaWVudC5DSFVOS19TSVpFIC8gMykgKiA0KTtcbiAgICAgICAgICBjb25zdCBjaHVuayA9IGF0dGFjaG1lbnQuZGF0YS5zbGljZShpICogYmFzZTY0Q2h1bmtTaXplLCAoaSArIDEpICogYmFzZTY0Q2h1bmtTaXplKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuc2VuZEVuY3J5cHRlZFBheWxvYWQocmVjaXBpZW50UHVia2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBfbm9zdHJfbXNnX3R5cGU6ICdmaWxlLWNodW5rJyxcbiAgICAgICAgICAgIHRyYW5zZmVySWQsXG4gICAgICAgICAgICBjaHVua0luZGV4OiBpLFxuICAgICAgICAgICAgdG90YWxDaHVua3MsXG4gICAgICAgICAgICBkYXRhOiBjaHVuayxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBhdHRhY2htZW50Lm5hbWUsXG4gICAgICAgICAgICBtaW1lVHlwZTogYXR0YWNobWVudC5taW1lVHlwZSxcbiAgICAgICAgICAgIHNpemU6IGZpbGVTaXplLFxuICAgICAgICAgICAgdGV4dDogdGV4dCB8fCAnJyxcbiAgICAgICAgICAgIGZpbGVUeXBlOiBhdHRhY2htZW50LnR5cGUsXG4gICAgICAgICAgICByZXBseVRvLFxuICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGxhc3RJZCA9IGlkc1tpZHMubGVuZ3RoIC0gMV0gfHwgbGFzdElkO1xuICAgICAgc2VudCArPSBwcm9taXNlcy5sZW5ndGg7XG4gICAgICBvblByb2dyZXNzPy4oc2VudCwgdG90YWxDaHVua3MpO1xuICAgICAgaWYgKHNlbnQgPCB0b3RhbENodW5rcykgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDUwKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBsYXN0SWQgfHwgYGxvY2FsLSR7dHJhbnNmZXJJZH1gLFxuICAgICAgZnJvbTogdGhpcy5fcGssXG4gICAgICB0bzogcmVjaXBpZW50UHVia2V5LFxuICAgICAgY29udGVudDogdGV4dCB8fCAnJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIG1zZ1R5cGU6IGF0dGFjaG1lbnQudHlwZSxcbiAgICAgIHJlcGx5VG8sXG4gICAgICBhdHRhY2htZW50OiB7XG4gICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgIGRhdGE6IGF0dGFjaG1lbnQuZmlsZSA/ICcnIDogYXR0YWNobWVudC5kYXRhLFxuICAgICAgICB0cmFuc2ZlcklkLFxuICAgICAgICB0b3RhbENodW5rcyxcbiAgICAgICAgY2h1bmtlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIHNlbmRXZWJSVENTaWduYWwocmVjaXBpZW50UHVia2V5OiBzdHJpbmcsIHNpZ25hbDogV2ViUlRDU2lnbmFsKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXksIEpTT04uc3RyaW5naWZ5KHsgX25vc3RyX21zZ190eXBlOiBzaWduYWwudHlwZSwgc2RwOiBzaWduYWwuc2RwLCBjYW5kaWRhdGU6IHNpZ25hbC5jYW5kaWRhdGUsIGNhbGxUeXBlOiBzaWduYWwuY2FsbFR5cGUgfSkpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlQ2hhbm5lbChuYW1lOiBzdHJpbmcsIGFib3V0Pzogc3RyaW5nKTogUHJvbWlzZTxDaGFubmVsPiB7XG4gICAgaWYgKCF0aGlzLl9zaykgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXV0aG9yaXplZCcpO1xuICAgIGNvbnN0IGV2OiBVbnNpZ25lZEV2ZW50ID0ge1xuICAgICAga2luZDogNDAsXG4gICAgICBjcmVhdGVkX2F0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSxcbiAgICAgIHRhZ3M6IFtdLFxuICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dDogYWJvdXQgfHwgJycgfSksXG4gICAgICBwdWJrZXk6IHRoaXMuX3BrLFxuICAgIH07XG4gICAgY29uc3QgZXZlbnQgPSBmaW5hbGl6ZUV2ZW50KGV2LCB0aGlzLl9zayk7XG4gICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KFsnRVZFTlQnLCBldmVudF0pO1xuICAgIGZvciAoY29uc3QgWywgd3NdIG9mIHRoaXMuc29ja2V0cykgaWYgKHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB0cnkgeyB3cy5zZW5kKHBheWxvYWQpOyB9IGNhdGNoIHt9XG4gICAgY29uc3QgY2hhbm5lbDogQ2hhbm5lbCA9IHsgaWQ6IGV2ZW50LmlkLCBuYW1lLCBhYm91dCwgY3JlYXRlZEJ5OiB0aGlzLl9waywgY3JlYXRlZEF0OiBEYXRlLm5vdygpIH07XG4gICAgdGhpcy5jaGFubmVsQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoY2hhbm5lbCkpO1xuICAgIHJldHVybiBjaGFubmVsO1xuICB9XG5cbiAgYXN5bmMgc2VuZENoYW5uZWxNZXNzYWdlKGNoYW5uZWxJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHJlcGx5VG8/OiBSZXBseVJlZik6IFByb21pc2U8RGlyZWN0TWVzc2FnZT4ge1xuICAgIGlmICghdGhpcy5fc2spIHRocm93IG5ldyBFcnJvcignTm90IGF1dGhvcml6ZWQnKTtcbiAgICBjb25zdCBldjogVW5zaWduZWRFdmVudCA9IHtcbiAgICAgIGtpbmQ6IDQyLFxuICAgICAgY3JlYXRlZF9hdDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCksXG4gICAgICB0YWdzOiBbWydlJywgY2hhbm5lbElkLCAnJywgJ3Jvb3QnXV0sXG4gICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh7IHRleHQsIHJlcGx5VG8gfSksXG4gICAgICBwdWJrZXk6IHRoaXMuX3BrLFxuICAgIH07XG4gICAgY29uc3QgZXZlbnQgPSBmaW5hbGl6ZUV2ZW50KGV2LCB0aGlzLl9zayk7XG4gICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KFsnRVZFTlQnLCBldmVudF0pO1xuICAgIGxldCBzZW50ID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSB7XG4gICAgICBpZiAod3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIGNvbnRpbnVlO1xuICAgICAgc2VudCA9IHRydWU7XG4gICAgICB0cnkgeyB3cy5zZW5kKHBheWxvYWQpOyB9IGNhdGNoIHt9XG4gICAgfVxuICAgIGlmICghc2VudCkgdGhyb3cgbmV3IEVycm9yKCdObyBjb25uZWN0ZWQgcmVsYXlzJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBldmVudC5pZCxcbiAgICAgIGZyb206IHRoaXMuX3BrLFxuICAgICAgdG86ICcnLFxuICAgICAgY29udGVudDogdGV4dCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIG1zZ1R5cGU6ICdjaGFubmVsJyxcbiAgICAgIGNoYW5uZWxJZCxcbiAgICAgIHJlcGx5VG8sXG4gICAgfTtcbiAgfVxuXG4gIHJlcXVlc3RQcm9maWxlKHB1YmtleTogc3RyaW5nKTogTm9zdHJQcm9maWxlIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMucHJvZmlsZUNhY2hlLmhhcyhwdWJrZXkpKSByZXR1cm4gdGhpcy5wcm9maWxlQ2FjaGUuZ2V0KHB1YmtleSkhO1xuICAgIGlmICh0aGlzLnBlbmRpbmdQcm9maWxlcy5oYXMocHVia2V5KSkgcmV0dXJuIG51bGw7XG4gICAgdGhpcy5wZW5kaW5nUHJvZmlsZXMuYWRkKHB1YmtleSk7XG4gICAgY29uc3Qgc3ViSWQgPSAncC0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCk7XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSB7IGlmICh3cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgeyB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KFsnUkVRJywgc3ViSWQsIHsga2luZHM6IFswXSwgYXV0aG9yczogW3B1YmtleV0sIGxpbWl0OiAxIH1dKSk7IGJyZWFrOyB9IH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldFByb2ZpbGUocHVia2V5OiBzdHJpbmcpIHsgcmV0dXJuIHRoaXMucHJvZmlsZUNhY2hlLmdldChwdWJrZXkpIHx8IG51bGw7IH1cblxuICBhc3luYyB1cGRhdGVQcm9maWxlKHByb2ZpbGU6IE5vc3RyUHJvZmlsZSkge1xuICAgIGlmICghdGhpcy5fc2spIHRocm93IG5ldyBFcnJvcign0J3QtSDQsNCy0YLQvtGA0LjQt9C+0LLQsNC9Jyk7XG4gICAgY29uc3QgZXY6IFVuc2lnbmVkRXZlbnQgPSB7IGtpbmQ6IDAsIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCB0YWdzOiBbXSwgY29udGVudDogSlNPTi5zdHJpbmdpZnkocHJvZmlsZSksIHB1YmtleTogdGhpcy5fcGsgfTtcbiAgICBjb25zdCBldmVudCA9IGZpbmFsaXplRXZlbnQoZXYsIHRoaXMuX3NrKTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoWydFVkVOVCcsIGV2ZW50XSk7XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHRyeSB7IHdzLnNlbmQoanNvbik7IH0gY2F0Y2gge31cbiAgICB0aGlzLnByb2ZpbGVDYWNoZS5zZXQodGhpcy5fcGssIHByb2ZpbGUpO1xuICB9XG5cbiAgZGlzY29ubmVjdEFsbCgpIHtcbiAgICBmb3IgKGNvbnN0IFssIHRdIG9mIHRoaXMucmVjb25uZWN0VGltZXJzKSBjbGVhclRpbWVvdXQodCk7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lcnMuY2xlYXIoKTsgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cy5jbGVhcigpO1xuICAgIGZvciAoY29uc3QgWywgd3NdIG9mIHRoaXMuc29ja2V0cykgd3MuY2xvc2UoKTtcbiAgICB0aGlzLnNvY2tldHMuY2xlYXIoKTsgdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCk7IHRoaXMucmVsYXlTdGF0dXMuY2xlYXIoKTtcbiAgfVxuXG4gIGFkZFJlbGF5KHVybDogc3RyaW5nKSB7IGlmICghdGhpcy5fcmVsYXlzLmluY2x1ZGVzKHVybCkpIHsgdGhpcy5fcmVsYXlzLnB1c2godXJsKTsgdGhpcy5jb25uZWN0VG9SZWxheSh1cmwpOyB9IH1cbiAgcmVtb3ZlUmVsYXkodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9yZWxheXMgPSB0aGlzLl9yZWxheXMuZmlsdGVyKHIgPT4gciAhPT0gdXJsKTtcbiAgICBjb25zdCB0ID0gdGhpcy5yZWNvbm5lY3RUaW1lcnMuZ2V0KHVybCk7IGlmICh0KSB7IGNsZWFyVGltZW91dCh0KTsgdGhpcy5yZWNvbm5lY3RUaW1lcnMuZGVsZXRlKHVybCk7IH1cbiAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmRlbGV0ZSh1cmwpO1xuICAgIGNvbnN0IHdzID0gdGhpcy5zb2NrZXRzLmdldCh1cmwpOyBpZiAod3MpIHsgd3MuY2xvc2UoKTsgdGhpcy5zb2NrZXRzLmRlbGV0ZSh1cmwpOyB9XG4gICAgdGhpcy5yZWxheVN0YXR1cy5kZWxldGUodXJsKTtcbiAgfVxuXG4gIHNob3J0ZW5LZXkoa2V5OiBzdHJpbmcpIHsgcmV0dXJuICgha2V5IHx8IGtleS5sZW5ndGggPCAxNikgPyBrZXkgOiBrZXkuc2xpY2UoMCwgOCkgKyAn4oCmJyArIGtleS5zbGljZSgtOCk7IH1cbiAgaXNWYWxpZEhleEtleShrZXk6IHN0cmluZykgeyByZXR1cm4gL15bMC05YS1mQS1GXXs2NH0kLy50ZXN0KGtleSk7IH1cbn1cblxuZXhwb3J0IGNvbnN0IG5vc3RyQ2xpZW50ID0gbmV3IE5vc3RyQ2xpZW50KCk7XG5leHBvcnQgeyBERUZBVUxUX1JFTEFZUyB9O1xuIl0sIm5hbWVzIjpbImdlbmVyYXRlU2VjcmV0S2V5IiwiZ2V0UHVibGljS2V5IiwiZmluYWxpemVFdmVudCIsImVuY3J5cHQiLCJkZWNyeXB0IiwiYnl0ZXNUb0hleCIsImhleFRvQnl0ZXMiLCJlbnN1cmVUcmFuc2ZlciIsImlzVHJhbnNmZXJDb21wbGV0ZSIsInN0b3JlQ2h1bmsiLCJERUZBVUxUX1JFTEFZUyIsIk5vc3RyQ2xpZW50IiwicHVibGljS2V5IiwiX3BrIiwicHJpdmF0ZUtleUhleCIsIl9zayIsInJlbGF5cyIsIl9yZWxheXMiLCJjaGFubmVscyIsIl9jaGFubmVscyIsInNrIiwiZ2V0UmVsYXlTdGF0dXMiLCJyZWxheSIsInJlbGF5U3RhdHVzIiwiZ2V0IiwiY29ubmVjdGVkUmVsYXlDb3VudCIsImMiLCJzIiwidmFsdWVzIiwiZ2VuZXJhdGVLZXlzIiwicGsiLCJwcml2YXRlS2V5IiwibG9naW4iLCJfc3RvcHBlZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJsb2dvdXQiLCJkaXNjb25uZWN0QWxsIiwicmVtb3ZlSXRlbSIsInRyeUF1dG9Mb2dpbiIsImdldEl0ZW0iLCJsZW5ndGgiLCJvbk1lc3NhZ2UiLCJjYiIsIm1lc3NhZ2VDYWxsYmFja3MiLCJhZGQiLCJkZWxldGUiLCJvbkNoYW5uZWwiLCJjaGFubmVsQ2FsbGJhY2tzIiwib25DaGFubmVsTWVzc2FnZSIsImNoYW5uZWxNZXNzYWdlQ2FsbGJhY2tzIiwib25Qcm9maWxlIiwicHJvZmlsZUNhbGxiYWNrcyIsIm9uQ29ubmVjdGlvbiIsImNvbm5lY3Rpb25DYWxsYmFja3MiLCJvblNpZ25hbCIsInNpZ25hbENhbGxiYWNrcyIsImNvbm5lY3RUb1JlbGF5cyIsInIiLCJjb25uZWN0VG9SZWxheSIsInNldENoYW5uZWxzIiwiY2hhbm5lbElkcyIsIlNldCIsImZpbHRlciIsIkJvb2xlYW4iLCJ3cyIsInNvY2tldHMiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInN1YnNjcmliZVRvQ2hhbm5lbHMiLCJ1cmwiLCJoYXMiLCJlIiwiQ09OTkVDVElORyIsInNldCIsImZvckVhY2giLCJjdCIsInNldFRpbWVvdXQiLCJjbG9zZSIsIm9ub3BlbiIsImNsZWFyVGltZW91dCIsInJlY29ubmVjdEF0dGVtcHRzIiwic3Vic2NyaWJlVG9NZXNzYWdlcyIsIm9uY2xvc2UiLCJzY2hlZHVsZVJlY29ubmVjdCIsIm9uZXJyb3IiLCJvbm1lc3NhZ2UiLCJoYW5kbGVSZWxheU1lc3NhZ2UiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwicmVjb25uZWN0VGltZXJzIiwiYSIsImQiLCJNYXRoIiwibWluIiwicG93IiwiQXJyYXkiLCJpc0FycmF5IiwiZXYiLCJzZWVuRXZlbnRzIiwiaWQiLCJraW5kIiwiaGFuZGxlRW5jcnlwdGVkRE0iLCJoYW5kbGVQcm9maWxlRXZlbnQiLCJoYW5kbGVDaGFubmVsRXZlbnQiLCJoYW5kbGVDaGFubmVsTWVzc2FnZUV2ZW50IiwiZXZlbnQiLCJwVGFnIiwidGFncyIsImZpbmQiLCJ0IiwiaXNGb3JNZSIsImlzRnJvbU1lIiwicHVia2V5Iiwib3RoZXIiLCJkZWMiLCJjb250ZW50IiwicCIsIl9ub3N0cl9tc2dfdHlwZSIsIm10IiwiZnJvbSIsInRvIiwidGV4dCIsInRpbWVzdGFtcCIsImNyZWF0ZWRfYXQiLCJtc2dUeXBlIiwicmVwbHlUbyIsImluY2x1ZGVzIiwidHlwZSIsInNkcCIsImNhbmRpZGF0ZSIsImNhbGxUeXBlIiwiaGFuZGxlRmlsZUNodW5rIiwidHJhbnNmZXJJZCIsImZpbGVOYW1lIiwibWltZVR5cGUiLCJmaWxlVHlwZSIsInNpemUiLCJ0b3RhbENodW5rcyIsImF0dGFjaG1lbnQiLCJuYW1lIiwiZXZlbnRJZCIsImNodW5rSW5kZXgiLCJkb25lIiwiY2h1bmtlZCIsInByb2ZpbGVDYWNoZSIsInBlbmRpbmdQcm9maWxlcyIsInBheWxvYWQiLCJjaGFubmVsIiwidHJpbSIsInNsaWNlIiwiYWJvdXQiLCJjcmVhdGVkQnkiLCJjcmVhdGVkQXQiLCJlVGFnIiwiY2hhbm5lbElkIiwicmVsYXlVcmwiLCJzdWJJZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic2luY2UiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJzZW5kIiwic3RyaW5naWZ5Iiwia2luZHMiLCJhdXRob3JzIiwic3Vic2NyaXB0aW9ucyIsImZpbHRlcnMiLCJpZHMiLCJzZW5kRW5jcnlwdGVkUGF5bG9hZCIsInJlY2lwaWVudFB1YmtleSIsIkVycm9yIiwiZW5jcnlwdGVkIiwianNvbiIsIm9wZW4iLCJwdXNoIiwiYnl0ZXNUb0Jhc2U2NCIsImJ5dGVzIiwiYmluIiwic3RlcCIsImkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzdWJhcnJheSIsImJ0b2EiLCJzZW5kRGlyZWN0TWVzc2FnZSIsIkNIVU5LX1NJWkUiLCJQQVJBTExFTCIsInNlbmRBdHRhY2htZW50Iiwib25Qcm9ncmVzcyIsIm1heFNpemUiLCJmaWxlIiwiYjY0IiwiZmlsZVNpemUiLCJjZWlsIiwibGFzdElkIiwic2VudCIsImJhdGNoIiwicHJvbWlzZXMiLCJqIiwic3RhcnQiLCJlbmQiLCJVaW50OEFycmF5IiwiYXJyYXlCdWZmZXIiLCJiYXNlNjRDaHVua1NpemUiLCJjaHVuayIsIlByb21pc2UiLCJhbGwiLCJzZW5kV2ViUlRDU2lnbmFsIiwic2lnbmFsIiwiY3JlYXRlQ2hhbm5lbCIsInNlbmRDaGFubmVsTWVzc2FnZSIsInJlcXVlc3RQcm9maWxlIiwibGltaXQiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsInByb2ZpbGUiLCJjbGVhciIsImFkZFJlbGF5IiwicmVtb3ZlUmVsYXkiLCJzaG9ydGVuS2V5Iiwia2V5IiwiaXNWYWxpZEhleEtleSIsInRlc3QiLCJNYXAiLCJub3N0ckNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/nostr.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/store.ts":
/*!**************************!*\
  !*** ./src/lib/store.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addChannel: () => (/* binding */ addChannel),\n/* harmony export */   addChannelMessage: () => (/* binding */ addChannelMessage),\n/* harmony export */   addContact: () => (/* binding */ addContact),\n/* harmony export */   addMessage: () => (/* binding */ addMessage),\n/* harmony export */   getChannelMessages: () => (/* binding */ getChannelMessages),\n/* harmony export */   getMessages: () => (/* binding */ getMessages),\n/* harmony export */   loadChannels: () => (/* binding */ loadChannels),\n/* harmony export */   loadContacts: () => (/* binding */ loadContacts),\n/* harmony export */   removeContact: () => (/* binding */ removeContact),\n/* harmony export */   setActiveChat: () => (/* binding */ setActiveChat),\n/* harmony export */   setLoggedIn: () => (/* binding */ setLoggedIn),\n/* harmony export */   toggleSidebar: () => (/* binding */ toggleSidebar),\n/* harmony export */   updateContactProfile: () => (/* binding */ updateContactProfile),\n/* harmony export */   useAppState: () => (/* binding */ useAppState),\n/* harmony export */   useRelayStatuses: () => (/* binding */ useRelayStatuses)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _nostr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nostr */ \"(ssr)/./src/lib/nostr.ts\");\n\n\nlet state = {\n    contacts: [],\n    channels: [],\n    messages: new Map(),\n    channelMessages: new Map(),\n    activeChat: null,\n    isLoggedIn: false,\n    showSidebar: true\n};\nconst listeners = new Set();\nfunction notify() {\n    listeners.forEach((l)=>l());\n}\nfunction getSnapshot() {\n    return state;\n}\nfunction subscribe(listener) {\n    listeners.add(listener);\n    return ()=>listeners.delete(listener);\n}\nfunction useAppState() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(subscribe, getSnapshot);\n}\nfunction setActiveChat(pubkey) {\n    state = {\n        ...state,\n        activeChat: pubkey\n    };\n    if (pubkey && !pubkey.startsWith(\"channel:\")) {\n        const contacts = state.contacts.map((c)=>c.pubkey === pubkey ? {\n                ...c,\n                unread: 0\n            } : c);\n        state = {\n            ...state,\n            contacts\n        };\n    }\n    notify();\n}\nfunction setLoggedIn(value) {\n    state = {\n        ...state,\n        isLoggedIn: value\n    };\n    notify();\n}\nfunction toggleSidebar() {\n    state = {\n        ...state,\n        showSidebar: !state.showSidebar\n    };\n    notify();\n}\nfunction addContact(pubkey, name) {\n    if (state.contacts.find((c)=>c.pubkey === pubkey)) return;\n    const contact = {\n        pubkey,\n        name: name || _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(pubkey),\n        unread: 0\n    };\n    state = {\n        ...state,\n        contacts: [\n            ...state.contacts,\n            contact\n        ]\n    };\n    saveContacts();\n    _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(pubkey);\n    notify();\n}\nfunction removeContact(pubkey) {\n    state = {\n        ...state,\n        contacts: state.contacts.filter((c)=>c.pubkey !== pubkey),\n        activeChat: state.activeChat === pubkey ? null : state.activeChat\n    };\n    saveContacts();\n    notify();\n}\nfunction updateContactProfile(pubkey, name, picture, about) {\n    state = {\n        ...state,\n        contacts: state.contacts.map((c)=>c.pubkey === pubkey ? {\n                ...c,\n                name: name || c.name,\n                picture,\n                about\n            } : c)\n    };\n    notify();\n}\nfunction getLastMessagePreview(msg) {\n    if (msg.msgType === \"image\") return \"\\uD83D\\uDDBC Photo\";\n    if (msg.msgType === \"file\") return ` ${msg.attachment?.name || \"File\"}`;\n    return msg.content;\n}\nfunction addMessage(msg) {\n    const otherPubkey = msg.from === _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey ? msg.to : msg.from;\n    const existing = state.messages.get(otherPubkey) || [];\n    if (existing.find((m)=>m.id === msg.id)) return;\n    const updated = [\n        ...existing,\n        msg\n    ].sort((a, b)=>a.timestamp - b.timestamp);\n    const newMessages = new Map(state.messages);\n    newMessages.set(otherPubkey, updated);\n    const preview = getLastMessagePreview(msg);\n    const contacts = state.contacts.map((c)=>{\n        if (c.pubkey === otherPubkey) {\n            return {\n                ...c,\n                lastMessage: preview,\n                lastMessageTime: msg.timestamp,\n                unread: state.activeChat === otherPubkey ? 0 : (c.unread || 0) + (msg.from !== _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey ? 1 : 0)\n            };\n        }\n        return c;\n    });\n    const hasContact = contacts.find((c)=>c.pubkey === otherPubkey);\n    if (!hasContact && msg.from !== _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey) {\n        contacts.push({\n            pubkey: otherPubkey,\n            name: _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(otherPubkey),\n            lastMessage: preview,\n            lastMessageTime: msg.timestamp,\n            unread: state.activeChat === otherPubkey ? 0 : 1\n        });\n        _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(otherPubkey);\n        saveContacts();\n    }\n    state = {\n        ...state,\n        messages: newMessages,\n        contacts\n    };\n    notify();\n}\nfunction addChannel(channel) {\n    if (state.channels.find((c)=>c.id === channel.id)) return;\n    state = {\n        ...state,\n        channels: [\n            channel,\n            ...state.channels\n        ]\n    };\n    saveChannels();\n    _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.setChannels(state.channels.map((c)=>c.id));\n    notify();\n}\nfunction addChannelMessage(msg) {\n    const channelId = msg.channelId;\n    if (!channelId) return;\n    const existing = state.channelMessages.get(channelId) || [];\n    if (existing.find((m)=>m.id === msg.id)) return;\n    const updated = [\n        ...existing,\n        msg\n    ].sort((a, b)=>a.timestamp - b.timestamp);\n    const map = new Map(state.channelMessages);\n    map.set(channelId, updated);\n    state = {\n        ...state,\n        channelMessages: map\n    };\n    notify();\n}\nfunction getChannelMessages(channelId) {\n    return state.channelMessages.get(channelId) || [];\n}\nfunction getMessages(pubkey) {\n    return state.messages.get(pubkey) || [];\n}\nfunction saveContacts() {\n    const data = state.contacts.map((c)=>({\n            pubkey: c.pubkey,\n            name: c.name\n        }));\n    localStorage.setItem(\"nostr_contacts\", JSON.stringify(data));\n}\nfunction saveChannels() {\n    localStorage.setItem(\"nostr_channels\", JSON.stringify(state.channels));\n}\nfunction loadContacts() {\n    try {\n        const raw = localStorage.getItem(\"nostr_contacts\");\n        if (raw) {\n            const data = JSON.parse(raw);\n            const contacts = data.map((d)=>({\n                    pubkey: d.pubkey,\n                    name: d.name || _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(d.pubkey),\n                    unread: 0\n                }));\n            state = {\n                ...state,\n                contacts\n            };\n            notify();\n            contacts.forEach((c)=>_nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(c.pubkey));\n        }\n    } catch  {\n    // ignore\n    }\n}\nfunction loadChannels() {\n// No-op. Channels are now added dynamically.\n}\nfunction useRelayStatuses() {\n    const [, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>setTick((t)=>t + 1), []);\n    return {\n        refresh\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxLQUFLO2dCQUFFQztZQUFTO1lBQzdCVTtZQUNBVixTQUFTVyxPQUFPLENBQUNZLENBQUFBLElBQUt6QiwrQ0FBV0EsQ0FBQ29DLGNBQWMsQ0FBQ1gsRUFBRUgsTUFBTTtRQUMzRDtJQUNGLEVBQUUsT0FBTTtJQUNOLFNBQVM7SUFDWDtBQUNGO0FBRU8sU0FBU2dFO0FBQ2QsNkNBQTZDO0FBQy9DO0FBRU8sU0FBU0M7SUFDZCxNQUFNLEdBQUdDLFFBQVEsR0FBRzNGLCtDQUFRQSxDQUFDO0lBQzdCLE1BQU00RixVQUFVM0Ysa0RBQVdBLENBQUMsSUFBTTBGLFFBQVFFLENBQUFBLElBQUtBLElBQUksSUFBSSxFQUFFO0lBQ3pELE9BQU87UUFBRUQ7SUFBUTtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvbGliL3N0b3JlLnRzP2FkMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vc3RyQ2xpZW50LCB0eXBlIENvbnRhY3QsIHR5cGUgRGlyZWN0TWVzc2FnZSwgdHlwZSBDaGFubmVsIH0gZnJvbSAnLi9ub3N0cic7XG5cbmludGVyZmFjZSBBcHBTdGF0ZSB7XG4gIGNvbnRhY3RzOiBDb250YWN0W107XG4gIGNoYW5uZWxzOiBDaGFubmVsW107XG4gIG1lc3NhZ2VzOiBNYXA8c3RyaW5nLCBEaXJlY3RNZXNzYWdlW10+O1xuICBjaGFubmVsTWVzc2FnZXM6IE1hcDxzdHJpbmcsIERpcmVjdE1lc3NhZ2VbXT47XG4gIGFjdGl2ZUNoYXQ6IHN0cmluZyB8IG51bGw7XG4gIGlzTG9nZ2VkSW46IGJvb2xlYW47XG4gIHNob3dTaWRlYmFyOiBib29sZWFuO1xufVxuXG5sZXQgc3RhdGU6IEFwcFN0YXRlID0ge1xuICBjb250YWN0czogW10sXG4gIGNoYW5uZWxzOiBbXSxcbiAgbWVzc2FnZXM6IG5ldyBNYXAoKSxcbiAgY2hhbm5lbE1lc3NhZ2VzOiBuZXcgTWFwKCksXG4gIGFjdGl2ZUNoYXQ6IG51bGwsXG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBzaG93U2lkZWJhcjogdHJ1ZSxcbn07XG5cbmNvbnN0IGxpc3RlbmVycyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcblxuZnVuY3Rpb24gbm90aWZ5KCkge1xuICBsaXN0ZW5lcnMuZm9yRWFjaChsID0+IGwoKSk7XG59XG5cbmZ1bmN0aW9uIGdldFNuYXBzaG90KCkge1xuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcjogKCkgPT4gdm9pZCkge1xuICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXBwU3RhdGUoKSB7XG4gIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFjdGl2ZUNoYXQocHVia2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgYWN0aXZlQ2hhdDogcHVia2V5IH07XG4gIGlmIChwdWJrZXkgJiYgIXB1YmtleS5zdGFydHNXaXRoKCdjaGFubmVsOicpKSB7XG4gICAgY29uc3QgY29udGFjdHMgPSBzdGF0ZS5jb250YWN0cy5tYXAoYyA9PlxuICAgICAgYy5wdWJrZXkgPT09IHB1YmtleSA/IHsgLi4uYywgdW5yZWFkOiAwIH0gOiBjXG4gICAgKTtcbiAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzIH07XG4gIH1cbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dnZWRJbih2YWx1ZTogYm9vbGVhbikge1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGlzTG9nZ2VkSW46IHZhbHVlIH07XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcigpIHtcbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBzaG93U2lkZWJhcjogIXN0YXRlLnNob3dTaWRlYmFyIH07XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29udGFjdChwdWJrZXk6IHN0cmluZywgbmFtZT86IHN0cmluZykge1xuICBpZiAoc3RhdGUuY29udGFjdHMuZmluZChjID0+IGMucHVia2V5ID09PSBwdWJrZXkpKSByZXR1cm47XG4gIGNvbnN0IGNvbnRhY3Q6IENvbnRhY3QgPSB7XG4gICAgcHVia2V5LFxuICAgIG5hbWU6IG5hbWUgfHwgbm9zdHJDbGllbnQuc2hvcnRlbktleShwdWJrZXkpLFxuICAgIHVucmVhZDogMCxcbiAgfTtcbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBjb250YWN0czogWy4uLnN0YXRlLmNvbnRhY3RzLCBjb250YWN0XSB9O1xuICBzYXZlQ29udGFjdHMoKTtcbiAgbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUocHVia2V5KTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb250YWN0KHB1YmtleTogc3RyaW5nKSB7XG4gIHN0YXRlID0ge1xuICAgIC4uLnN0YXRlLFxuICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5maWx0ZXIoYyA9PiBjLnB1YmtleSAhPT0gcHVia2V5KSxcbiAgICBhY3RpdmVDaGF0OiBzdGF0ZS5hY3RpdmVDaGF0ID09PSBwdWJrZXkgPyBudWxsIDogc3RhdGUuYWN0aXZlQ2hhdCxcbiAgfTtcbiAgc2F2ZUNvbnRhY3RzKCk7XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ29udGFjdFByb2ZpbGUocHVia2V5OiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcsIHBpY3R1cmU/OiBzdHJpbmcsIGFib3V0Pzogc3RyaW5nKSB7XG4gIHN0YXRlID0ge1xuICAgIC4uLnN0YXRlLFxuICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoYyA9PlxuICAgICAgYy5wdWJrZXkgPT09IHB1YmtleSA/IHsgLi4uYywgbmFtZTogbmFtZSB8fCBjLm5hbWUsIHBpY3R1cmUsIGFib3V0IH0gOiBjXG4gICAgKSxcbiAgfTtcbiAgbm90aWZ5KCk7XG59XG5cbmZ1bmN0aW9uIGdldExhc3RNZXNzYWdlUHJldmlldyhtc2c6IERpcmVjdE1lc3NhZ2UpOiBzdHJpbmcge1xuICBpZiAobXNnLm1zZ1R5cGUgPT09ICdpbWFnZScpIHJldHVybiAn8J+WvO+4jyBQaG90byc7XG4gIGlmIChtc2cubXNnVHlwZSA9PT0gJ2ZpbGUnKSByZXR1cm4gYPCfk44gJHttc2cuYXR0YWNobWVudD8ubmFtZSB8fCAnRmlsZSd9YDtcbiAgcmV0dXJuIG1zZy5jb250ZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWVzc2FnZShtc2c6IERpcmVjdE1lc3NhZ2UpIHtcbiAgY29uc3Qgb3RoZXJQdWJrZXkgPSBtc2cuZnJvbSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5ID8gbXNnLnRvIDogbXNnLmZyb207XG4gIGNvbnN0IGV4aXN0aW5nID0gc3RhdGUubWVzc2FnZXMuZ2V0KG90aGVyUHVia2V5KSB8fCBbXTtcblxuICBpZiAoZXhpc3RpbmcuZmluZChtID0+IG0uaWQgPT09IG1zZy5pZCkpIHJldHVybjtcblxuICBjb25zdCB1cGRhdGVkID0gWy4uLmV4aXN0aW5nLCBtc2ddLnNvcnQoKGEsIGIpID0+IGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXApO1xuICBjb25zdCBuZXdNZXNzYWdlcyA9IG5ldyBNYXAoc3RhdGUubWVzc2FnZXMpO1xuICBuZXdNZXNzYWdlcy5zZXQob3RoZXJQdWJrZXksIHVwZGF0ZWQpO1xuXG4gIGNvbnN0IHByZXZpZXcgPSBnZXRMYXN0TWVzc2FnZVByZXZpZXcobXNnKTtcblxuICBjb25zdCBjb250YWN0cyA9IHN0YXRlLmNvbnRhY3RzLm1hcChjID0+IHtcbiAgICBpZiAoYy5wdWJrZXkgPT09IG90aGVyUHVia2V5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jLFxuICAgICAgICBsYXN0TWVzc2FnZTogcHJldmlldyxcbiAgICAgICAgbGFzdE1lc3NhZ2VUaW1lOiBtc2cudGltZXN0YW1wLFxuICAgICAgICB1bnJlYWQ6IHN0YXRlLmFjdGl2ZUNoYXQgPT09IG90aGVyUHVia2V5ID8gMCA6IChjLnVucmVhZCB8fCAwKSArIChtc2cuZnJvbSAhPT0gbm9zdHJDbGllbnQucHVibGljS2V5ID8gMSA6IDApLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH0pO1xuXG4gIGNvbnN0IGhhc0NvbnRhY3QgPSBjb250YWN0cy5maW5kKGMgPT4gYy5wdWJrZXkgPT09IG90aGVyUHVia2V5KTtcbiAgaWYgKCFoYXNDb250YWN0ICYmIG1zZy5mcm9tICE9PSBub3N0ckNsaWVudC5wdWJsaWNLZXkpIHtcbiAgICBjb250YWN0cy5wdXNoKHtcbiAgICAgIHB1YmtleTogb3RoZXJQdWJrZXksXG4gICAgICBuYW1lOiBub3N0ckNsaWVudC5zaG9ydGVuS2V5KG90aGVyUHVia2V5KSxcbiAgICAgIGxhc3RNZXNzYWdlOiBwcmV2aWV3LFxuICAgICAgbGFzdE1lc3NhZ2VUaW1lOiBtc2cudGltZXN0YW1wLFxuICAgICAgdW5yZWFkOiBzdGF0ZS5hY3RpdmVDaGF0ID09PSBvdGhlclB1YmtleSA/IDAgOiAxLFxuICAgIH0pO1xuICAgIG5vc3RyQ2xpZW50LnJlcXVlc3RQcm9maWxlKG90aGVyUHVia2V5KTtcbiAgICBzYXZlQ29udGFjdHMoKTtcbiAgfVxuXG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgbWVzc2FnZXM6IG5ld01lc3NhZ2VzLCBjb250YWN0cyB9O1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5uZWwoY2hhbm5lbDogQ2hhbm5lbCkge1xuICBpZiAoc3RhdGUuY2hhbm5lbHMuZmluZChjID0+IGMuaWQgPT09IGNoYW5uZWwuaWQpKSByZXR1cm47XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgY2hhbm5lbHM6IFtjaGFubmVsLCAuLi5zdGF0ZS5jaGFubmVsc10gfTtcbiAgc2F2ZUNoYW5uZWxzKCk7XG4gIG5vc3RyQ2xpZW50LnNldENoYW5uZWxzKHN0YXRlLmNoYW5uZWxzLm1hcChjID0+IGMuaWQpKTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDaGFubmVsTWVzc2FnZShtc2c6IERpcmVjdE1lc3NhZ2UpIHtcbiAgY29uc3QgY2hhbm5lbElkID0gbXNnLmNoYW5uZWxJZDtcbiAgaWYgKCFjaGFubmVsSWQpIHJldHVybjtcbiAgY29uc3QgZXhpc3RpbmcgPSBzdGF0ZS5jaGFubmVsTWVzc2FnZXMuZ2V0KGNoYW5uZWxJZCkgfHwgW107XG4gIGlmIChleGlzdGluZy5maW5kKG0gPT4gbS5pZCA9PT0gbXNnLmlkKSkgcmV0dXJuO1xuICBjb25zdCB1cGRhdGVkID0gWy4uLmV4aXN0aW5nLCBtc2ddLnNvcnQoKGEsIGIpID0+IGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXApO1xuICBjb25zdCBtYXAgPSBuZXcgTWFwKHN0YXRlLmNoYW5uZWxNZXNzYWdlcyk7XG4gIG1hcC5zZXQoY2hhbm5lbElkLCB1cGRhdGVkKTtcbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBjaGFubmVsTWVzc2FnZXM6IG1hcCB9O1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQ6IHN0cmluZyk6IERpcmVjdE1lc3NhZ2VbXSB7XG4gIHJldHVybiBzdGF0ZS5jaGFubmVsTWVzc2FnZXMuZ2V0KGNoYW5uZWxJZCkgfHwgW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlcyhwdWJrZXk6IHN0cmluZyk6IERpcmVjdE1lc3NhZ2VbXSB7XG4gIHJldHVybiBzdGF0ZS5tZXNzYWdlcy5nZXQocHVia2V5KSB8fCBbXTtcbn1cblxuZnVuY3Rpb24gc2F2ZUNvbnRhY3RzKCkge1xuICBjb25zdCBkYXRhID0gc3RhdGUuY29udGFjdHMubWFwKGMgPT4gKHsgcHVia2V5OiBjLnB1YmtleSwgbmFtZTogYy5uYW1lIH0pKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25vc3RyX2NvbnRhY3RzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xufVxuXG5mdW5jdGlvbiBzYXZlQ2hhbm5lbHMoKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdub3N0cl9jaGFubmVscycsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNoYW5uZWxzKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ29udGFjdHMoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25vc3RyX2NvbnRhY3RzJyk7XG4gICAgaWYgKHJhdykge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmF3KSBhcyB7IHB1YmtleTogc3RyaW5nOyBuYW1lPzogc3RyaW5nIH1bXTtcbiAgICAgIGNvbnN0IGNvbnRhY3RzOiBDb250YWN0W10gPSBkYXRhLm1hcChkID0+ICh7XG4gICAgICAgIHB1YmtleTogZC5wdWJrZXksXG4gICAgICAgIG5hbWU6IGQubmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KGQucHVia2V5KSxcbiAgICAgICAgdW5yZWFkOiAwLFxuICAgICAgfSkpO1xuICAgICAgc3RhdGUgPSB7IC4uLnN0YXRlLCBjb250YWN0cyB9O1xuICAgICAgbm90aWZ5KCk7XG4gICAgICBjb250YWN0cy5mb3JFYWNoKGMgPT4gbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUoYy5wdWJrZXkpKTtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIGlnbm9yZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ2hhbm5lbHMoKSB7XG4gIC8vIE5vLW9wLiBDaGFubmVscyBhcmUgbm93IGFkZGVkIGR5bmFtaWNhbGx5LlxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVsYXlTdGF0dXNlcygpIHtcbiAgY29uc3QgWywgc2V0VGlja10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgcmVmcmVzaCA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFRpY2sodCA9PiB0ICsgMSksIFtdKTtcbiAgcmV0dXJuIHsgcmVmcmVzaCB9O1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZSIsIm5vc3RyQ2xpZW50Iiwic3RhdGUiLCJjb250YWN0cyIsImNoYW5uZWxzIiwibWVzc2FnZXMiLCJNYXAiLCJjaGFubmVsTWVzc2FnZXMiLCJhY3RpdmVDaGF0IiwiaXNMb2dnZWRJbiIsInNob3dTaWRlYmFyIiwibGlzdGVuZXJzIiwiU2V0Iiwibm90aWZ5IiwiZm9yRWFjaCIsImwiLCJnZXRTbmFwc2hvdCIsInN1YnNjcmliZSIsImxpc3RlbmVyIiwiYWRkIiwiZGVsZXRlIiwidXNlQXBwU3RhdGUiLCJzZXRBY3RpdmVDaGF0IiwicHVia2V5Iiwic3RhcnRzV2l0aCIsIm1hcCIsImMiLCJ1bnJlYWQiLCJzZXRMb2dnZWRJbiIsInZhbHVlIiwidG9nZ2xlU2lkZWJhciIsImFkZENvbnRhY3QiLCJuYW1lIiwiZmluZCIsImNvbnRhY3QiLCJzaG9ydGVuS2V5Iiwic2F2ZUNvbnRhY3RzIiwicmVxdWVzdFByb2ZpbGUiLCJyZW1vdmVDb250YWN0IiwiZmlsdGVyIiwidXBkYXRlQ29udGFjdFByb2ZpbGUiLCJwaWN0dXJlIiwiYWJvdXQiLCJnZXRMYXN0TWVzc2FnZVByZXZpZXciLCJtc2ciLCJtc2dUeXBlIiwiYXR0YWNobWVudCIsImNvbnRlbnQiLCJhZGRNZXNzYWdlIiwib3RoZXJQdWJrZXkiLCJmcm9tIiwicHVibGljS2V5IiwidG8iLCJleGlzdGluZyIsImdldCIsIm0iLCJpZCIsInVwZGF0ZWQiLCJzb3J0IiwiYSIsImIiLCJ0aW1lc3RhbXAiLCJuZXdNZXNzYWdlcyIsInNldCIsInByZXZpZXciLCJsYXN0TWVzc2FnZSIsImxhc3RNZXNzYWdlVGltZSIsImhhc0NvbnRhY3QiLCJwdXNoIiwiYWRkQ2hhbm5lbCIsImNoYW5uZWwiLCJzYXZlQ2hhbm5lbHMiLCJzZXRDaGFubmVscyIsImFkZENoYW5uZWxNZXNzYWdlIiwiY2hhbm5lbElkIiwiZ2V0Q2hhbm5lbE1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXMiLCJkYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2FkQ29udGFjdHMiLCJyYXciLCJnZXRJdGVtIiwicGFyc2UiLCJkIiwibG9hZENoYW5uZWxzIiwidXNlUmVsYXlTdGF0dXNlcyIsInNldFRpY2siLCJyZWZyZXNoIiwidCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/store.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/webrtc.ts":
/*!***************************!*\
  !*** ./src/lib/webrtc.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webrtcManager: () => (/* binding */ webrtcManager)\n/* harmony export */ });\n/* harmony import */ var _nostr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nostr */ \"(ssr)/./src/lib/nostr.ts\");\n\nconst ICE_CONFIG = {\n    iceServers: [\n        {\n            urls: \"stun:stun.l.google.com:19302\"\n        },\n        {\n            urls: \"stun:stun1.l.google.com:19302\"\n        },\n        {\n            urls: \"stun:stun.cloudflare.com:3478\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:80\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:443\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:443?transport=tcp\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        }\n    ],\n    iceCandidatePoolSize: 10\n};\nclass WebRTCManager {\n    get callState() {\n        return this._callState;\n    }\n    get remotePubkey() {\n        return this._remotePubkey;\n    }\n    get callType() {\n        return this._callType;\n    }\n    get callStartTime() {\n        return this._callStartTime;\n    }\n    onStateChange(cb) {\n        this.stateCallbacks.add(cb);\n        return ()=>{\n            this.stateCallbacks.delete(cb);\n        };\n    }\n    onStream(cb) {\n        this.streamCallbacks.add(cb);\n        return ()=>{\n            this.streamCallbacks.delete(cb);\n        };\n    }\n    setState(state, error) {\n        this._callState = state;\n        if (state === \"connected\") {\n            this._callStartTime = Date.now();\n            this.stopRingtone();\n        }\n        if (state === \"idle\" || state === \"ended\") this.stopRingtone();\n        this.stateCallbacks.forEach((cb)=>cb(state, this._remotePubkey, this._callType, error));\n    }\n    notifyStreams() {\n        this.streamCallbacks.forEach((cb)=>cb(this.localStream, this.remoteStream));\n    }\n    playRingtone() {\n        this.stopRingtone();\n        try {\n            this.audioCtx = new AudioContext();\n            this.audioOsc = this.audioCtx.createOscillator();\n            const gain = this.audioCtx.createGain();\n            this.audioOsc.connect(gain);\n            gain.connect(this.audioCtx.destination);\n            this.audioOsc.frequency.value = 440;\n            gain.gain.value = 0.08;\n            this.audioOsc.start();\n            const ctx = this.audioCtx;\n            const pulse = ()=>{\n                if (this._callState !== \"ringing\" || !this.audioCtx) {\n                    try {\n                        this.audioOsc?.stop();\n                        ctx.close();\n                    } catch  {}\n                    return;\n                }\n                gain.gain.setValueAtTime(0.08, ctx.currentTime);\n                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);\n                setTimeout(pulse, 1200);\n            };\n            pulse();\n        } catch  {}\n    }\n    stopRingtone() {\n        try {\n            this.audioOsc?.stop();\n        } catch  {}\n        try {\n            this.audioCtx?.close();\n        } catch  {}\n        this.audioOsc = null;\n        this.audioCtx = null;\n    }\n    init() {\n        if (this._unsubSignal) return;\n        this._unsubSignal = _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.onSignal((from, signal)=>{\n            this.handleSignal(from, signal);\n        });\n    }\n    destroy() {\n        if (this._unsubSignal) {\n            this._unsubSignal();\n            this._unsubSignal = null;\n        }\n        this.cleanup(false);\n    }\n    async handleSignal(from, signal) {\n        switch(signal.type){\n            case \"call-request\":\n                if (this._callState !== \"idle\") {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(from, {\n                        type: \"call-reject\"\n                    }).catch(()=>{});\n                    return;\n                }\n                this._remotePubkey = from;\n                this._callType = signal.callType || \"audio\";\n                this.setState(\"ringing\");\n                this.playRingtone();\n                this.callTimeout = setTimeout(()=>{\n                    if (this._callState === \"ringing\") this.rejectCall();\n                }, 45000);\n                break;\n            case \"call-accept\":\n                if (this._callState === \"calling\" && this._remotePubkey === from) {\n                    this.clearRetry();\n                    this.clearCallTimeout();\n                    this.setState(\"connecting\");\n                    await this.startWebRTC(true);\n                }\n                break;\n            case \"call-reject\":\n                if (this._remotePubkey === from) {\n                    this.cleanup(false);\n                    this.setState(\"idle\", \" \");\n                }\n                break;\n            case \"call-end\":\n                if (this._remotePubkey === from) this.cleanup(false);\n                break;\n            case \"webrtc-offer\":\n                if (this._remotePubkey === from && signal.sdp) await this.handleOffer(signal.sdp);\n                break;\n            case \"webrtc-answer\":\n                if (this._remotePubkey === from && signal.sdp) await this.handleAnswer(signal.sdp);\n                break;\n            case \"webrtc-ice\":\n                if (this._remotePubkey === from && signal.candidate) await this.handleIceCandidate(signal.candidate);\n                break;\n        }\n    }\n    clearCallTimeout() {\n        if (this.callTimeout) {\n            clearTimeout(this.callTimeout);\n            this.callTimeout = null;\n        }\n    }\n    clearRetry() {\n        if (this.retryInterval) {\n            clearInterval(this.retryInterval);\n            this.retryInterval = null;\n        }\n    }\n    async initiateCall(pubkey, type) {\n        if (this._callState !== \"idle\") return;\n        //       ,    \n        try {\n            this.preStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true\n                },\n                video: type === \"video\" ? {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                } : false\n            });\n        } catch (err) {\n            //        \n            if (type === \"video\") {\n                try {\n                    this.preStream = await navigator.mediaDevices.getUserMedia({\n                        audio: true,\n                        video: false\n                    });\n                    type = \"audio\";\n                } catch  {\n                    this.setState(\"idle\", this.mediaErrorMsg(err));\n                    return;\n                }\n            } else {\n                this.setState(\"idle\", this.mediaErrorMsg(err));\n                return;\n            }\n        }\n        this._remotePubkey = pubkey;\n        this._callType = type;\n        this.setState(\"calling\");\n        //  call-request    3  (Nostr )\n        const sendReq = ()=>{\n            _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(pubkey, {\n                type: \"call-request\",\n                callType: type\n            }).catch(()=>{});\n        };\n        sendReq();\n        this.retryInterval = setInterval(()=>{\n            if (this._callState === \"calling\") sendReq();\n            else this.clearRetry();\n        }, 3000);\n        //  40 \n        this.callTimeout = setTimeout(()=>{\n            if (this._callState === \"calling\") {\n                this.cleanup(true);\n                this.setState(\"idle\", \" \");\n            }\n        }, 40000);\n    }\n    async acceptCall() {\n        if (this._callState !== \"ringing\" || !this._remotePubkey) return;\n        this.clearCallTimeout();\n        this.stopRingtone();\n        this.setState(\"connecting\");\n        //    \n        try {\n            this.preStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true\n                },\n                video: this._callType === \"video\" ? {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                } : false\n            });\n        } catch (err) {\n            if (this._callType === \"video\") {\n                try {\n                    this.preStream = await navigator.mediaDevices.getUserMedia({\n                        audio: true\n                    });\n                    this._callType = \"audio\";\n                } catch  {\n                    this.cleanup(false);\n                    this.setState(\"idle\", this.mediaErrorMsg(err));\n                    return;\n                }\n            } else {\n                this.cleanup(false);\n                this.setState(\"idle\", this.mediaErrorMsg(err));\n                return;\n            }\n        }\n        await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n            type: \"call-accept\"\n        });\n        await this.startWebRTC(false);\n    }\n    async rejectCall() {\n        if (this._callState !== \"ringing\" || !this._remotePubkey) return;\n        this.clearCallTimeout();\n        this.stopRingtone();\n        _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n            type: \"call-reject\"\n        }).catch(()=>{});\n        this.cleanup(false);\n    }\n    mediaErrorMsg(err) {\n        if (err instanceof DOMException) {\n            if (err.name === \"NotAllowedError\") return \"  / .    .\";\n            if (err.name === \"NotFoundError\") return \"/  .  .\";\n            if (err.name === \"NotReadableError\") return \"   .\";\n            return `: ${err.message}`;\n        }\n        return \"     \";\n    }\n    async startWebRTC(isInitiator) {\n        try {\n            this.pc = new RTCPeerConnection(ICE_CONFIG);\n            //   \n            this.localStream = this.preStream;\n            this.preStream = null;\n            if (!this.localStream) {\n                this.localStream = await navigator.mediaDevices.getUserMedia({\n                    audio: true,\n                    video: this._callType === \"video\"\n                });\n            }\n            this.localStream.getTracks().forEach((track)=>{\n                this.pc.addTrack(track, this.localStream);\n            });\n            this.remoteStream = new MediaStream();\n            this.pc.ontrack = (event)=>{\n                if (event.streams[0]) {\n                    event.streams[0].getTracks().forEach((track)=>{\n                        this.remoteStream.addTrack(track);\n                    });\n                } else if (event.track) {\n                    this.remoteStream.addTrack(event.track);\n                }\n                this.notifyStreams();\n            };\n            this.pc.onicecandidate = (event)=>{\n                if (event.candidate && this._remotePubkey) {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                        type: \"webrtc-ice\",\n                        candidate: event.candidate.toJSON()\n                    }).catch(()=>{});\n                }\n            };\n            this.pc.oniceconnectionstatechange = ()=>{\n                const s = this.pc?.iceConnectionState;\n                if (s === \"connected\" || s === \"completed\") {\n                    this.setState(\"connected\");\n                } else if (s === \"failed\") {\n                    if (this.pc && isInitiator) {\n                        try {\n                            this.pc.restartIce();\n                        } catch  {\n                            this.endCall(\" \");\n                        }\n                    } else {\n                        this.endCall(\" \");\n                    }\n                } else if (s === \"disconnected\") {\n                    setTimeout(()=>{\n                        if (this.pc?.iceConnectionState === \"disconnected\") this.endCall(\" \");\n                    }, 7000);\n                }\n            };\n            this.notifyStreams();\n            if (isInitiator) {\n                const offer = await this.pc.createOffer({\n                    offerToReceiveAudio: true,\n                    offerToReceiveVideo: this._callType === \"video\"\n                });\n                await this.pc.setLocalDescription(offer);\n                await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                    type: \"webrtc-offer\",\n                    sdp: offer.sdp\n                });\n            }\n            for (const c of this.iceCandidateQueue){\n                try {\n                    await this.pc.addIceCandidate(new RTCIceCandidate(c));\n                } catch  {}\n            }\n            this.iceCandidateQueue = [];\n        } catch (err) {\n            this.endCall(this.mediaErrorMsg(err));\n        }\n    }\n    async handleOffer(sdp) {\n        if (!this.pc) return;\n        try {\n            await this.pc.setRemoteDescription(new RTCSessionDescription({\n                type: \"offer\",\n                sdp\n            }));\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                type: \"webrtc-answer\",\n                sdp: answer.sdp\n            });\n        } catch (e) {\n            console.error(\"handleOffer:\", e);\n        }\n    }\n    async handleAnswer(sdp) {\n        if (!this.pc) return;\n        try {\n            await this.pc.setRemoteDescription(new RTCSessionDescription({\n                type: \"answer\",\n                sdp\n            }));\n        } catch (e) {\n            console.error(\"handleAnswer:\", e);\n        }\n    }\n    async handleIceCandidate(candidate) {\n        if (!this.pc || !this.pc.remoteDescription) {\n            this.iceCandidateQueue.push(candidate);\n            return;\n        }\n        try {\n            await this.pc.addIceCandidate(new RTCIceCandidate(candidate));\n        } catch  {}\n    }\n    endCall(error) {\n        if (this._remotePubkey && this._callState !== \"idle\" && this._callState !== \"ended\") {\n            _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                type: \"call-end\"\n            }).catch(()=>{});\n        }\n        this.cleanup(false);\n        if (error) this.setState(\"idle\", error);\n    }\n    cleanup(silent) {\n        this.clearCallTimeout();\n        this.clearRetry();\n        this.stopRingtone();\n        if (this.preStream) {\n            this.preStream.getTracks().forEach((t)=>t.stop());\n            this.preStream = null;\n        }\n        if (this.localStream) {\n            this.localStream.getTracks().forEach((t)=>t.stop());\n            this.localStream = null;\n        }\n        if (this.remoteStream) {\n            this.remoteStream.getTracks().forEach((t)=>t.stop());\n            this.remoteStream = null;\n        }\n        if (this.pc) {\n            this.pc.close();\n            this.pc = null;\n        }\n        this.iceCandidateQueue = [];\n        this._remotePubkey = null;\n        this._callStartTime = 0;\n        if (!silent) this.setState(\"idle\");\n        this.notifyStreams();\n    }\n    toggleMute() {\n        if (!this.localStream) return false;\n        const t = this.localStream.getAudioTracks()[0];\n        if (t) {\n            t.enabled = !t.enabled;\n            return !t.enabled;\n        }\n        return false;\n    }\n    toggleVideo() {\n        if (!this.localStream) return false;\n        const t = this.localStream.getVideoTracks()[0];\n        if (t) {\n            t.enabled = !t.enabled;\n            return !t.enabled;\n        }\n        return false;\n    }\n    constructor(){\n        this.pc = null;\n        this.localStream = null;\n        this.remoteStream = null;\n        this._callState = \"idle\";\n        this._remotePubkey = null;\n        this._callType = \"audio\";\n        this.stateCallbacks = new Set();\n        this.streamCallbacks = new Set();\n        this.iceCandidateQueue = [];\n        this._callStartTime = 0;\n        this._unsubSignal = null;\n        this.callTimeout = null;\n        this.retryInterval = null;\n        this.audioCtx = null;\n        this.audioOsc = null;\n        //           \n        this.preStream = null;\n    }\n}\nconst webrtcManager = new WebRTCManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksSUFBSSxDQUFDeEcsV0FBVyxDQUFDNkcsY0FBYyxFQUFFLENBQUMsRUFBRTtRQUM5QyxJQUFJTCxHQUFHO1lBQUVBLEVBQUVHLE9BQU8sR0FBRyxDQUFDSCxFQUFFRyxPQUFPO1lBQUUsT0FBTyxDQUFDSCxFQUFFRyxPQUFPO1FBQUU7UUFDcEQsT0FBTztJQUNUOzthQWhXUXJDLEtBQStCO2FBQy9CdEUsY0FBa0M7YUFDbENDLGVBQW1DO2FBQ25DdkIsYUFBd0I7YUFDeEJFLGdCQUErQjthQUMvQkUsWUFBc0I7YUFDdEJLLGlCQUF5QyxJQUFJMkg7YUFDN0N2SCxrQkFBdUMsSUFBSXVIO2FBQzNDbEIsb0JBQTJDLEVBQUU7YUFDN0M1RyxpQkFBeUI7YUFDekJ1QyxlQUFvQzthQUNwQ1UsY0FBb0Q7YUFDcERXLGdCQUF1RDthQUN2RHpDLFdBQWdDO2FBQ2hDRSxXQUFrQztRQUMxQyxxRUFBcUU7YUFDN0QyQyxZQUFnQzs7QUFpVjFDO0FBRU8sTUFBTStELGdCQUFnQixJQUFJdkksZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvd2VicnRjLnRzPzMxZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9zdHJDbGllbnQsIHR5cGUgV2ViUlRDU2lnbmFsIH0gZnJvbSAnLi9ub3N0cic7XG5cbmV4cG9ydCB0eXBlIENhbGxTdGF0ZSA9ICdpZGxlJyB8ICdjYWxsaW5nJyB8ICdyaW5naW5nJyB8ICdjb25uZWN0aW5nJyB8ICdjb25uZWN0ZWQnIHwgJ2VuZGVkJztcbmV4cG9ydCB0eXBlIENhbGxUeXBlID0gJ2F1ZGlvJyB8ICd2aWRlbyc7XG5cbnR5cGUgQ2FsbFN0YXRlQ2FsbGJhY2sgPSAoc3RhdGU6IENhbGxTdGF0ZSwgcmVtb3RlUHVia2V5OiBzdHJpbmcgfCBudWxsLCBjYWxsVHlwZTogQ2FsbFR5cGUsIGVycm9yPzogc3RyaW5nKSA9PiB2b2lkO1xudHlwZSBTdHJlYW1DYWxsYmFjayA9IChsb2NhbDogTWVkaWFTdHJlYW0gfCBudWxsLCByZW1vdGU6IE1lZGlhU3RyZWFtIHwgbnVsbCkgPT4gdm9pZDtcblxuY29uc3QgSUNFX0NPTkZJRzogUlRDQ29uZmlndXJhdGlvbiA9IHtcbiAgaWNlU2VydmVyczogW1xuICAgIHsgdXJsczogJ3N0dW46c3R1bi5sLmdvb2dsZS5jb206MTkzMDInIH0sXG4gICAgeyB1cmxzOiAnc3R1bjpzdHVuMS5sLmdvb2dsZS5jb206MTkzMDInIH0sXG4gICAgeyB1cmxzOiAnc3R1bjpzdHVuLmNsb3VkZmxhcmUuY29tOjM0NzgnIH0sXG4gICAge1xuICAgICAgdXJsczogJ3R1cm46b3BlbnJlbGF5Lm1ldGVyZWQuY2E6ODAnLFxuICAgICAgdXNlcm5hbWU6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICAgIGNyZWRlbnRpYWw6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHVybHM6ICd0dXJuOm9wZW5yZWxheS5tZXRlcmVkLmNhOjQ0MycsXG4gICAgICB1c2VybmFtZTogJ29wZW5yZWxheXByb2plY3QnLFxuICAgICAgY3JlZGVudGlhbDogJ29wZW5yZWxheXByb2plY3QnLFxuICAgIH0sXG4gICAge1xuICAgICAgdXJsczogJ3R1cm46b3BlbnJlbGF5Lm1ldGVyZWQuY2E6NDQzP3RyYW5zcG9ydD10Y3AnLFxuICAgICAgdXNlcm5hbWU6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICAgIGNyZWRlbnRpYWw6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICB9LFxuICBdLFxuICBpY2VDYW5kaWRhdGVQb29sU2l6ZTogMTAsXG59O1xuXG5jbGFzcyBXZWJSVENNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBwYzogUlRDUGVlckNvbm5lY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBsb2NhbFN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZW1vdGVTdHJlYW06IE1lZGlhU3RyZWFtIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX2NhbGxTdGF0ZTogQ2FsbFN0YXRlID0gJ2lkbGUnO1xuICBwcml2YXRlIF9yZW1vdGVQdWJrZXk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF9jYWxsVHlwZTogQ2FsbFR5cGUgPSAnYXVkaW8nO1xuICBwcml2YXRlIHN0YXRlQ2FsbGJhY2tzOiBTZXQ8Q2FsbFN0YXRlQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHN0cmVhbUNhbGxiYWNrczogU2V0PFN0cmVhbUNhbGxiYWNrPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBpY2VDYW5kaWRhdGVRdWV1ZTogUlRDSWNlQ2FuZGlkYXRlSW5pdFtdID0gW107XG4gIHByaXZhdGUgX2NhbGxTdGFydFRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3Vuc3ViU2lnbmFsOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjYWxsVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZXRyeUludGVydmFsOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhdWRpb0N0eDogQXVkaW9Db250ZXh0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYXVkaW9Pc2M6IE9zY2lsbGF0b3JOb2RlIHwgbnVsbCA9IG51bGw7XG4gIC8vINCf0YDQtdC00LfQsNGF0LLQsNGH0LXQvdC90YvQuSDRgdGC0YDQuNC8IOKAlCDQsdC10YDRkdC8INC80LXQtNC40LAg0JTQniDQt9Cy0L7QvdC60LAg0YfRgtC+0LHRiyDQv9C+0YLQvtC8INC90LUg0LbQtNCw0YLRjFxuICBwcml2YXRlIHByZVN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcblxuICBnZXQgY2FsbFN0YXRlKCkgeyByZXR1cm4gdGhpcy5fY2FsbFN0YXRlOyB9XG4gIGdldCByZW1vdGVQdWJrZXkoKSB7IHJldHVybiB0aGlzLl9yZW1vdGVQdWJrZXk7IH1cbiAgZ2V0IGNhbGxUeXBlKCkgeyByZXR1cm4gdGhpcy5fY2FsbFR5cGU7IH1cbiAgZ2V0IGNhbGxTdGFydFRpbWUoKSB7IHJldHVybiB0aGlzLl9jYWxsU3RhcnRUaW1lOyB9XG5cbiAgb25TdGF0ZUNoYW5nZShjYjogQ2FsbFN0YXRlQ2FsbGJhY2spIHsgdGhpcy5zdGF0ZUNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLnN0YXRlQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25TdHJlYW0oY2I6IFN0cmVhbUNhbGxiYWNrKSB7IHRoaXMuc3RyZWFtQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMuc3RyZWFtQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cblxuICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBDYWxsU3RhdGUsIGVycm9yPzogc3RyaW5nKSB7XG4gICAgdGhpcy5fY2FsbFN0YXRlID0gc3RhdGU7XG4gICAgaWYgKHN0YXRlID09PSAnY29ubmVjdGVkJykgeyB0aGlzLl9jYWxsU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsgdGhpcy5zdG9wUmluZ3RvbmUoKTsgfVxuICAgIGlmIChzdGF0ZSA9PT0gJ2lkbGUnIHx8IHN0YXRlID09PSAnZW5kZWQnKSB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRoaXMuc3RhdGVDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYihzdGF0ZSwgdGhpcy5fcmVtb3RlUHVia2V5LCB0aGlzLl9jYWxsVHlwZSwgZXJyb3IpKTtcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5U3RyZWFtcygpIHtcbiAgICB0aGlzLnN0cmVhbUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHRoaXMubG9jYWxTdHJlYW0sIHRoaXMucmVtb3RlU3RyZWFtKSk7XG4gIH1cblxuICBwcml2YXRlIHBsYXlSaW5ndG9uZSgpIHtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgdGhpcy5hdWRpb09zYyA9IHRoaXMuYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpO1xuICAgICAgY29uc3QgZ2FpbiA9IHRoaXMuYXVkaW9DdHguY3JlYXRlR2FpbigpO1xuICAgICAgdGhpcy5hdWRpb09zYy5jb25uZWN0KGdhaW4pO1xuICAgICAgZ2Fpbi5jb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuICAgICAgdGhpcy5hdWRpb09zYy5mcmVxdWVuY3kudmFsdWUgPSA0NDA7XG4gICAgICBnYWluLmdhaW4udmFsdWUgPSAwLjA4O1xuICAgICAgdGhpcy5hdWRpb09zYy5zdGFydCgpO1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5hdWRpb0N0eDtcbiAgICAgIGNvbnN0IHB1bHNlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5fY2FsbFN0YXRlICE9PSAncmluZ2luZycgfHwgIXRoaXMuYXVkaW9DdHgpIHsgdHJ5IHsgdGhpcy5hdWRpb09zYz8uc3RvcCgpOyBjdHguY2xvc2UoKTsgfSBjYXRjaCB7fSByZXR1cm47IH1cbiAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDgsIGN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAxLCBjdHguY3VycmVudFRpbWUgKyAwLjUpO1xuICAgICAgICBzZXRUaW1lb3V0KHB1bHNlLCAxMjAwKTtcbiAgICAgIH07XG4gICAgICBwdWxzZSgpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIHByaXZhdGUgc3RvcFJpbmd0b25lKCkge1xuICAgIHRyeSB7IHRoaXMuYXVkaW9Pc2M/LnN0b3AoKTsgfSBjYXRjaCB7fVxuICAgIHRyeSB7IHRoaXMuYXVkaW9DdHg/LmNsb3NlKCk7IH0gY2F0Y2gge31cbiAgICB0aGlzLmF1ZGlvT3NjID0gbnVsbDtcbiAgICB0aGlzLmF1ZGlvQ3R4ID0gbnVsbDtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgaWYgKHRoaXMuX3Vuc3ViU2lnbmFsKSByZXR1cm47XG4gICAgdGhpcy5fdW5zdWJTaWduYWwgPSBub3N0ckNsaWVudC5vblNpZ25hbCgoZnJvbSwgc2lnbmFsKSA9PiB7IHRoaXMuaGFuZGxlU2lnbmFsKGZyb20sIHNpZ25hbCk7IH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5fdW5zdWJTaWduYWwpIHsgdGhpcy5fdW5zdWJTaWduYWwoKTsgdGhpcy5fdW5zdWJTaWduYWwgPSBudWxsOyB9XG4gICAgdGhpcy5jbGVhbnVwKGZhbHNlKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlU2lnbmFsKGZyb206IHN0cmluZywgc2lnbmFsOiBXZWJSVENTaWduYWwpIHtcbiAgICBzd2l0Y2ggKHNpZ25hbC50eXBlKSB7XG4gICAgICBjYXNlICdjYWxsLXJlcXVlc3QnOlxuICAgICAgICBpZiAodGhpcy5fY2FsbFN0YXRlICE9PSAnaWRsZScpIHtcbiAgICAgICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKGZyb20sIHsgdHlwZTogJ2NhbGwtcmVqZWN0JyB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbW90ZVB1YmtleSA9IGZyb207XG4gICAgICAgIHRoaXMuX2NhbGxUeXBlID0gc2lnbmFsLmNhbGxUeXBlIHx8ICdhdWRpbyc7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoJ3JpbmdpbmcnKTtcbiAgICAgICAgdGhpcy5wbGF5UmluZ3RvbmUoKTtcbiAgICAgICAgdGhpcy5jYWxsVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4geyBpZiAodGhpcy5fY2FsbFN0YXRlID09PSAncmluZ2luZycpIHRoaXMucmVqZWN0Q2FsbCgpOyB9LCA0NTAwMCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLWFjY2VwdCc6XG4gICAgICAgIGlmICgodGhpcy5fY2FsbFN0YXRlID09PSAnY2FsbGluZycpICYmIHRoaXMuX3JlbW90ZVB1YmtleSA9PT0gZnJvbSkge1xuICAgICAgICAgIHRoaXMuY2xlYXJSZXRyeSgpO1xuICAgICAgICAgIHRoaXMuY2xlYXJDYWxsVGltZW91dCgpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0V2ViUlRDKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLXJlamVjdCc6XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVQdWJrZXkgPT09IGZyb20pIHsgdGhpcy5jbGVhbnVwKGZhbHNlKTsgdGhpcy5zZXRTdGF0ZSgnaWRsZScsICfQl9Cy0L7QvdC+0Log0L7RgtC60LvQvtC90ZHQvScpOyB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLWVuZCc6XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVQdWJrZXkgPT09IGZyb20pIHRoaXMuY2xlYW51cChmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3ZWJydGMtb2ZmZXInOlxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlUHVia2V5ID09PSBmcm9tICYmIHNpZ25hbC5zZHApIGF3YWl0IHRoaXMuaGFuZGxlT2ZmZXIoc2lnbmFsLnNkcCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3ZWJydGMtYW5zd2VyJzpcbiAgICAgICAgaWYgKHRoaXMuX3JlbW90ZVB1YmtleSA9PT0gZnJvbSAmJiBzaWduYWwuc2RwKSBhd2FpdCB0aGlzLmhhbmRsZUFuc3dlcihzaWduYWwuc2RwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3dlYnJ0Yy1pY2UnOlxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlUHVia2V5ID09PSBmcm9tICYmIHNpZ25hbC5jYW5kaWRhdGUpIGF3YWl0IHRoaXMuaGFuZGxlSWNlQ2FuZGlkYXRlKHNpZ25hbC5jYW5kaWRhdGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNsZWFyQ2FsbFRpbWVvdXQoKSB7IGlmICh0aGlzLmNhbGxUaW1lb3V0KSB7IGNsZWFyVGltZW91dCh0aGlzLmNhbGxUaW1lb3V0KTsgdGhpcy5jYWxsVGltZW91dCA9IG51bGw7IH0gfVxuICBwcml2YXRlIGNsZWFyUmV0cnkoKSB7IGlmICh0aGlzLnJldHJ5SW50ZXJ2YWwpIHsgY2xlYXJJbnRlcnZhbCh0aGlzLnJldHJ5SW50ZXJ2YWwpOyB0aGlzLnJldHJ5SW50ZXJ2YWwgPSBudWxsOyB9IH1cblxuICBhc3luYyBpbml0aWF0ZUNhbGwocHVia2V5OiBzdHJpbmcsIHR5cGU6IENhbGxUeXBlKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ2lkbGUnKSByZXR1cm47XG5cbiAgICAvLyDQl9Cw0YXQstCw0YLRi9Cy0LDQtdC8INC80LXQtNC40LAg0KHQoNCQ0JfQoyDigJQg0LXRgdC70Lgg0L3QtSDQv9C+0LvRg9GH0LjRgtGB0Y8sINGB0L7QvtCx0YnQsNC10Lwg0LTQviDQvdCw0YfQsNC70LAg0LfQstC+0L3QutCwXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucHJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogeyBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLCBub2lzZVN1cHByZXNzaW9uOiB0cnVlLCBhdXRvR2FpbkNvbnRyb2w6IHRydWUgfSxcbiAgICAgICAgdmlkZW86IHR5cGUgPT09ICd2aWRlbycgPyB7IHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sIGhlaWdodDogeyBpZGVhbDogNzIwIH0sIGZhY2luZ01vZGU6ICd1c2VyJyB9IDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vINCV0YHQu9C4INCy0LjQtNC10L4g0L3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDigJQg0L/RgNC+0LHRg9C10Lwg0YLQvtC70YzQutC+INCw0YPQtNC40L5cbiAgICAgIGlmICh0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5wcmVTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogZmFsc2UgfSk7XG4gICAgICAgICAgdHlwZSA9ICdhdWRpbyc7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnLCB0aGlzLm1lZGlhRXJyb3JNc2coZXJyKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCdpZGxlJywgdGhpcy5tZWRpYUVycm9yTXNnKGVycikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gcHVia2V5O1xuICAgIHRoaXMuX2NhbGxUeXBlID0gdHlwZTtcbiAgICB0aGlzLnNldFN0YXRlKCdjYWxsaW5nJyk7XG5cbiAgICAvLyDQntGC0L/RgNCw0LLQu9GP0LXQvCBjYWxsLXJlcXVlc3Qg0Lgg0L/QvtCy0YLQvtGA0Y/QtdC8INC60LDQttC00YvQtSAzINGB0LXQuiAoTm9zdHIg0L3QtdC90LDQtNGR0LbQtdC9KVxuICAgIGNvbnN0IHNlbmRSZXEgPSAoKSA9PiB7XG4gICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHB1YmtleSwgeyB0eXBlOiAnY2FsbC1yZXF1ZXN0JywgY2FsbFR5cGU6IHR5cGUgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH07XG4gICAgc2VuZFJlcSgpO1xuICAgIHRoaXMucmV0cnlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgPT09ICdjYWxsaW5nJykgc2VuZFJlcSgpO1xuICAgICAgZWxzZSB0aGlzLmNsZWFyUmV0cnkoKTtcbiAgICB9LCAzMDAwKTtcblxuICAgIC8vINCi0LDQudC80LDRg9GCIDQwINGB0LXQulxuICAgIHRoaXMuY2FsbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgPT09ICdjYWxsaW5nJykge1xuICAgICAgICB0aGlzLmNsZWFudXAodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnLCAn0J3QtdGCINC+0YLQstC10YLQsCcpO1xuICAgICAgfVxuICAgIH0sIDQwMDAwKTtcbiAgfVxuXG4gIGFzeW5jIGFjY2VwdENhbGwoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ3JpbmdpbmcnIHx8ICF0aGlzLl9yZW1vdGVQdWJrZXkpIHJldHVybjtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoJ2Nvbm5lY3RpbmcnKTtcblxuICAgIC8vINCX0LDRhdCy0LDRgtGL0LLQsNC10Lwg0LzQtdC00LjQsCDQv9GA0Lgg0L/RgNC40L3Rj9GC0LjQuFxuICAgIHRyeSB7XG4gICAgICB0aGlzLnByZVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgYXVkaW86IHsgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSwgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSwgYXV0b0dhaW5Db250cm9sOiB0cnVlIH0sXG4gICAgICAgIHZpZGVvOiB0aGlzLl9jYWxsVHlwZSA9PT0gJ3ZpZGVvJyA/IHsgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSwgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSwgZmFjaW5nTW9kZTogJ3VzZXInIH0gOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRoaXMuX2NhbGxUeXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRyeSB7IHRoaXMucHJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTsgdGhpcy5fY2FsbFR5cGUgPSAnYXVkaW8nOyB9XG4gICAgICAgIGNhdGNoIHsgdGhpcy5jbGVhbnVwKGZhbHNlKTsgdGhpcy5zZXRTdGF0ZSgnaWRsZScsIHRoaXMubWVkaWFFcnJvck1zZyhlcnIpKTsgcmV0dXJuOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFudXAoZmFsc2UpOyB0aGlzLnNldFN0YXRlKCdpZGxlJywgdGhpcy5tZWRpYUVycm9yTXNnKGVycikpOyByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgbm9zdHJDbGllbnQuc2VuZFdlYlJUQ1NpZ25hbCh0aGlzLl9yZW1vdGVQdWJrZXksIHsgdHlwZTogJ2NhbGwtYWNjZXB0JyB9KTtcbiAgICBhd2FpdCB0aGlzLnN0YXJ0V2ViUlRDKGZhbHNlKTtcbiAgfVxuXG4gIGFzeW5jIHJlamVjdENhbGwoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ3JpbmdpbmcnIHx8ICF0aGlzLl9yZW1vdGVQdWJrZXkpIHJldHVybjtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTsgdGhpcy5zdG9wUmluZ3RvbmUoKTtcbiAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSwgeyB0eXBlOiAnY2FsbC1yZWplY3QnIH0pLmNhdGNoKCgpID0+IHt9KTtcbiAgICB0aGlzLmNsZWFudXAoZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBtZWRpYUVycm9yTXNnKGVycjogdW5rbm93bik6IHN0cmluZyB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbikge1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykgcmV0dXJuICfQlNC+0YHRgtGD0L8g0Log0LzQuNC60YDQvtGE0L7QvdGDL9C60LDQvNC10YDQtSDQt9Cw0L/RgNC10YnRkdC9LiDQoNCw0LfRgNC10YjQuNGC0LUg0LIg0L3QsNGB0YLRgNC+0LnQutCw0YUg0LHRgNCw0YPQt9C10YDQsC4nO1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHJldHVybiAn0JzQuNC60YDQvtGE0L7QvS/QutCw0LzQtdGA0LAg0L3QtSDQvdCw0LnQtNC10L3Riy4g0J/QvtC00LrQu9GO0YfQuNGC0LUg0YPRgdGC0YDQvtC50YHRgtCy0L4uJztcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ05vdFJlYWRhYmxlRXJyb3InKSByZXR1cm4gJ9Cj0YHRgtGA0L7QudGB0YLQstC+INC30LDQvdGP0YLQviDQtNGA0YPQs9C40Lwg0L/RgNC40LvQvtC20LXQvdC40LXQvC4nO1xuICAgICAgcmV0dXJuIGDQntGI0LjQsdC60LA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmV0dXJuICfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LTQvtGB0YLRg9C/INC6INC80LXQtNC40LAnO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdGFydFdlYlJUQyhpc0luaXRpYXRvcjogYm9vbGVhbikge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKElDRV9DT05GSUcpO1xuXG4gICAgICAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQv9GA0LXQtNC30LDRhdCy0LDRh9C10L3QvdGL0Lkg0YHRgtGA0LjQvFxuICAgICAgdGhpcy5sb2NhbFN0cmVhbSA9IHRoaXMucHJlU3RyZWFtO1xuICAgICAgdGhpcy5wcmVTdHJlYW0gPSBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMubG9jYWxTdHJlYW0pIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICB2aWRlbzogdGhpcy5fY2FsbFR5cGUgPT09ICd2aWRlbycsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICB0aGlzLnBjIS5hZGRUcmFjayh0cmFjaywgdGhpcy5sb2NhbFN0cmVhbSEpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG5cbiAgICAgIHRoaXMucGMub250cmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuc3RyZWFtc1swXSkge1xuICAgICAgICAgIGV2ZW50LnN0cmVhbXNbMF0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZVN0cmVhbSEuYWRkVHJhY2sodHJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRyYWNrKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVTdHJlYW0hLmFkZFRyYWNrKGV2ZW50LnRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGlmeVN0cmVhbXMoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucGMub25pY2VjYW5kaWRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSAmJiB0aGlzLl9yZW1vdGVQdWJrZXkpIHtcbiAgICAgICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSwge1xuICAgICAgICAgICAgdHlwZTogJ3dlYnJ0Yy1pY2UnLFxuICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUudG9KU09OKCksXG4gICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5wYz8uaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgICAgICBpZiAocyA9PT0gJ2Nvbm5lY3RlZCcgfHwgcyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgIGlmICh0aGlzLnBjICYmIGlzSW5pdGlhdG9yKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLnBjLnJlc3RhcnRJY2UoKTsgfSBjYXRjaCB7IHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/RgNC10YDQstCw0L3QvicpOyB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/RgNC10YDQstCw0L3QvicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucGM/LmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/QvtGC0LXRgNGP0L3QvicpO1xuICAgICAgICAgIH0sIDcwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLm5vdGlmeVN0cmVhbXMoKTtcblxuICAgICAgaWYgKGlzSW5pdGlhdG9yKSB7XG4gICAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgdGhpcy5wYy5jcmVhdGVPZmZlcih7XG4gICAgICAgICAgb2ZmZXJUb1JlY2VpdmVBdWRpbzogdHJ1ZSxcbiAgICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0aGlzLl9jYWxsVHlwZSA9PT0gJ3ZpZGVvJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgIGF3YWl0IG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwodGhpcy5fcmVtb3RlUHVia2V5ISwge1xuICAgICAgICAgIHR5cGU6ICd3ZWJydGMtb2ZmZXInLFxuICAgICAgICAgIHNkcDogb2ZmZXIuc2RwLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUpIHtcbiAgICAgICAgdHJ5IHsgYXdhaXQgdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZShjKSk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUgPSBbXTtcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbmRDYWxsKHRoaXMubWVkaWFFcnJvck1zZyhlcnIpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZU9mZmVyKHNkcDogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnBjKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7IHR5cGU6ICdvZmZlcicsIHNkcCB9KSk7XG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZUFuc3dlcigpO1xuICAgICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICBhd2FpdCBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSEsIHsgdHlwZTogJ3dlYnJ0Yy1hbnN3ZXInLCBzZHA6IGFuc3dlci5zZHAgfSk7XG4gICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKCdoYW5kbGVPZmZlcjonLCBlKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVBbnN3ZXIoc2RwOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMucGMpIHJldHVybjtcbiAgICB0cnkgeyBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oeyB0eXBlOiAnYW5zd2VyJywgc2RwIH0pKTsgfVxuICAgIGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoJ2hhbmRsZUFuc3dlcjonLCBlKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJY2VDYW5kaWRhdGUoY2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGVJbml0KSB7XG4gICAgaWYgKCF0aGlzLnBjIHx8ICF0aGlzLnBjLnJlbW90ZURlc2NyaXB0aW9uKSB7IHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUucHVzaChjYW5kaWRhdGUpOyByZXR1cm47IH1cbiAgICB0cnkgeyBhd2FpdCB0aGlzLnBjLmFkZEljZUNhbmRpZGF0ZShuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBlbmRDYWxsKGVycm9yPzogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX3JlbW90ZVB1YmtleSAmJiB0aGlzLl9jYWxsU3RhdGUgIT09ICdpZGxlJyAmJiB0aGlzLl9jYWxsU3RhdGUgIT09ICdlbmRlZCcpIHtcbiAgICAgIG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwodGhpcy5fcmVtb3RlUHVia2V5LCB7IHR5cGU6ICdjYWxsLWVuZCcgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cbiAgICB0aGlzLmNsZWFudXAoZmFsc2UpO1xuICAgIGlmIChlcnJvcikgdGhpcy5zZXRTdGF0ZSgnaWRsZScsIGVycm9yKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW51cChzaWxlbnQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTtcbiAgICB0aGlzLmNsZWFyUmV0cnkoKTtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIGlmICh0aGlzLnByZVN0cmVhbSkgeyB0aGlzLnByZVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHQgPT4gdC5zdG9wKCkpOyB0aGlzLnByZVN0cmVhbSA9IG51bGw7IH1cbiAgICBpZiAodGhpcy5sb2NhbFN0cmVhbSkgeyB0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7IHRoaXMubG9jYWxTdHJlYW0gPSBudWxsOyB9XG4gICAgaWYgKHRoaXMucmVtb3RlU3RyZWFtKSB7IHRoaXMucmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7IHRoaXMucmVtb3RlU3RyZWFtID0gbnVsbDsgfVxuICAgIGlmICh0aGlzLnBjKSB7IHRoaXMucGMuY2xvc2UoKTsgdGhpcy5wYyA9IG51bGw7IH1cbiAgICB0aGlzLmljZUNhbmRpZGF0ZVF1ZXVlID0gW107XG4gICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gbnVsbDtcbiAgICB0aGlzLl9jYWxsU3RhcnRUaW1lID0gMDtcbiAgICBpZiAoIXNpbGVudCkgdGhpcy5zZXRTdGF0ZSgnaWRsZScpO1xuICAgIHRoaXMubm90aWZ5U3RyZWFtcygpO1xuICB9XG5cbiAgdG9nZ2xlTXV0ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMubG9jYWxTdHJlYW0pIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB0ID0gdGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgIGlmICh0KSB7IHQuZW5hYmxlZCA9ICF0LmVuYWJsZWQ7IHJldHVybiAhdC5lbmFibGVkOyB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdG9nZ2xlVmlkZW8oKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmxvY2FsU3RyZWFtKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdCA9IHRoaXMubG9jYWxTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICBpZiAodCkgeyB0LmVuYWJsZWQgPSAhdC5lbmFibGVkOyByZXR1cm4gIXQuZW5hYmxlZDsgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgd2VicnRjTWFuYWdlciA9IG5ldyBXZWJSVENNYW5hZ2VyKCk7XG4iXSwibmFtZXMiOlsibm9zdHJDbGllbnQiLCJJQ0VfQ09ORklHIiwiaWNlU2VydmVycyIsInVybHMiLCJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJpY2VDYW5kaWRhdGVQb29sU2l6ZSIsIldlYlJUQ01hbmFnZXIiLCJjYWxsU3RhdGUiLCJfY2FsbFN0YXRlIiwicmVtb3RlUHVia2V5IiwiX3JlbW90ZVB1YmtleSIsImNhbGxUeXBlIiwiX2NhbGxUeXBlIiwiY2FsbFN0YXJ0VGltZSIsIl9jYWxsU3RhcnRUaW1lIiwib25TdGF0ZUNoYW5nZSIsImNiIiwic3RhdGVDYWxsYmFja3MiLCJhZGQiLCJkZWxldGUiLCJvblN0cmVhbSIsInN0cmVhbUNhbGxiYWNrcyIsInNldFN0YXRlIiwic3RhdGUiLCJlcnJvciIsIkRhdGUiLCJub3ciLCJzdG9wUmluZ3RvbmUiLCJmb3JFYWNoIiwibm90aWZ5U3RyZWFtcyIsImxvY2FsU3RyZWFtIiwicmVtb3RlU3RyZWFtIiwicGxheVJpbmd0b25lIiwiYXVkaW9DdHgiLCJBdWRpb0NvbnRleHQiLCJhdWRpb09zYyIsImNyZWF0ZU9zY2lsbGF0b3IiLCJnYWluIiwiY3JlYXRlR2FpbiIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImZyZXF1ZW5jeSIsInZhbHVlIiwic3RhcnQiLCJjdHgiLCJwdWxzZSIsInN0b3AiLCJjbG9zZSIsInNldFZhbHVlQXRUaW1lIiwiY3VycmVudFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwic2V0VGltZW91dCIsImluaXQiLCJfdW5zdWJTaWduYWwiLCJvblNpZ25hbCIsImZyb20iLCJzaWduYWwiLCJoYW5kbGVTaWduYWwiLCJkZXN0cm95IiwiY2xlYW51cCIsInR5cGUiLCJzZW5kV2ViUlRDU2lnbmFsIiwiY2F0Y2giLCJjYWxsVGltZW91dCIsInJlamVjdENhbGwiLCJjbGVhclJldHJ5IiwiY2xlYXJDYWxsVGltZW91dCIsInN0YXJ0V2ViUlRDIiwic2RwIiwiaGFuZGxlT2ZmZXIiLCJoYW5kbGVBbnN3ZXIiLCJjYW5kaWRhdGUiLCJoYW5kbGVJY2VDYW5kaWRhdGUiLCJjbGVhclRpbWVvdXQiLCJyZXRyeUludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImluaXRpYXRlQ2FsbCIsInB1YmtleSIsInByZVN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImF1ZGlvIiwiZWNob0NhbmNlbGxhdGlvbiIsIm5vaXNlU3VwcHJlc3Npb24iLCJhdXRvR2FpbkNvbnRyb2wiLCJ2aWRlbyIsIndpZHRoIiwiaWRlYWwiLCJoZWlnaHQiLCJmYWNpbmdNb2RlIiwiZXJyIiwibWVkaWFFcnJvck1zZyIsInNlbmRSZXEiLCJzZXRJbnRlcnZhbCIsImFjY2VwdENhbGwiLCJET01FeGNlcHRpb24iLCJuYW1lIiwibWVzc2FnZSIsImlzSW5pdGlhdG9yIiwicGMiLCJSVENQZWVyQ29ubmVjdGlvbiIsImdldFRyYWNrcyIsInRyYWNrIiwiYWRkVHJhY2siLCJNZWRpYVN0cmVhbSIsIm9udHJhY2siLCJldmVudCIsInN0cmVhbXMiLCJvbmljZWNhbmRpZGF0ZSIsInRvSlNPTiIsIm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlIiwicyIsImljZUNvbm5lY3Rpb25TdGF0ZSIsInJlc3RhcnRJY2UiLCJlbmRDYWxsIiwib2ZmZXIiLCJjcmVhdGVPZmZlciIsIm9mZmVyVG9SZWNlaXZlQXVkaW8iLCJvZmZlclRvUmVjZWl2ZVZpZGVvIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsImMiLCJpY2VDYW5kaWRhdGVRdWV1ZSIsImFkZEljZUNhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwiYW5zd2VyIiwiY3JlYXRlQW5zd2VyIiwiZSIsImNvbnNvbGUiLCJyZW1vdGVEZXNjcmlwdGlvbiIsInB1c2giLCJzaWxlbnQiLCJ0IiwidG9nZ2xlTXV0ZSIsImdldEF1ZGlvVHJhY2tzIiwiZW5hYmxlZCIsInRvZ2dsZVZpZGVvIiwiZ2V0VmlkZW9UcmFja3MiLCJTZXQiLCJ3ZWJydGNNYW5hZ2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/webrtc.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d9cef20d5e01\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/YWY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImQ5Y2VmMjBkNWUwMVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-inter\"}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-inter\\\"}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Space_Mono\",\"arguments\":[{\"subsets\":[\"latin\"],\"weight\":\"400\",\"variable\":\"--font-space-mono\"}],\"variableName\":\"spaceMono\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Space_Mono\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"weight\\\":\\\"400\\\",\\\"variable\\\":\\\"--font-space-mono\\\"}],\\\"variableName\\\":\\\"spaceMono\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _components_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ThemeProvider */ \"(rsc)/./src/components/ThemeProvider.tsx\");\n\n\n\n\n\nconst metadata = {\n    title: \"Nostr Client\",\n    description: \"A modern Nostr client built with Next.js.\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: `${(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default().variable)} ${(next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4___default().variable)} font-sans`,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n                attribute: \"class\",\n                defaultTheme: \"dark\",\n                enableSystem: true,\n                disableTransitionOnChange: true,\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/layout.tsx\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/app/layout.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/app/layout.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFJTUE7QUFDQUM7QUFMaUI7QUFFb0M7QUFLcEQsTUFBTUUsV0FBVztJQUN0QkMsT0FBTztJQUNQQyxhQUFhO0FBQ2YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFBRUMsUUFBUSxFQUFpQztJQUM1RSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyx3QkFBd0I7a0JBQ3RDLDRFQUFDQztZQUFLQyxXQUFXLENBQUMsRUFBRVosa0xBQWMsQ0FBQyxDQUFDLEVBQUVDLDJNQUFrQixDQUFDLFVBQVUsQ0FBQztzQkFDbEUsNEVBQUNDLG9FQUFhQTtnQkFDWlksV0FBVTtnQkFDVkMsY0FBYTtnQkFDYkMsWUFBWTtnQkFDWkMseUJBQXlCOzBCQUV4QlY7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvYXBwL2xheW91dC50c3g/NTdhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuL2dsb2JhbHMuY3NzXCI7XG5pbXBvcnQgeyBJbnRlciwgU3BhY2VfTW9ubyB9IGZyb20gXCJuZXh0L2ZvbnQvZ29vZ2xlXCI7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyXCI7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbXCJsYXRpblwiXSwgdmFyaWFibGU6IFwiLS1mb250LWludGVyXCIgfSk7XG5jb25zdCBzcGFjZU1vbm8gPSBTcGFjZV9Nb25vKHsgc3Vic2V0czogW1wibGF0aW5cIl0sIHdlaWdodDogXCI0MDBcIiwgdmFyaWFibGU6IFwiLS1mb250LXNwYWNlLW1vbm9cIiB9KTtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICB0aXRsZTogXCJOb3N0ciBDbGllbnRcIixcbiAgZGVzY3JpcHRpb246IFwiQSBtb2Rlcm4gTm9zdHIgY2xpZW50IGJ1aWx0IHdpdGggTmV4dC5qcy5cIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgIDxib2R5IGNsYXNzTmFtZT17YCR7aW50ZXIudmFyaWFibGV9ICR7c3BhY2VNb25vLnZhcmlhYmxlfSBmb250LXNhbnNgfT5cbiAgICAgICAgPFRoZW1lUHJvdmlkZXJcbiAgICAgICAgICBhdHRyaWJ1dGU9XCJjbGFzc1wiXG4gICAgICAgICAgZGVmYXVsdFRoZW1lPVwiZGFya1wiXG4gICAgICAgICAgZW5hYmxlU3lzdGVtXG4gICAgICAgICAgZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbImludGVyIiwic3BhY2VNb25vIiwiVGhlbWVQcm92aWRlciIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiYm9keSIsImNsYXNzTmFtZSIsInZhcmlhYmxlIiwiYXR0cmlidXRlIiwiZGVmYXVsdFRoZW1lIiwiZW5hYmxlU3lzdGVtIiwiZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/app/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/app/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/ThemeProvider.tsx":
/*!******************************************!*\
  !*** ./src/components/ThemeProvider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeProvider: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/components/ThemeProvider.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/components/ThemeProvider.tsx#ThemeProvider`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/framer-motion","vendor-chunks/next","vendor-chunks/lucide-react","vendor-chunks/motion-dom","vendor-chunks/@noble","vendor-chunks/nostr-tools","vendor-chunks/motion-utils","vendor-chunks/@swc","vendor-chunks/next-themes","vendor-chunks/idb","vendor-chunks/@scure"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();