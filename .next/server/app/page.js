/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(rsc)/./src/app/page.tsx\")), \"/home/user/nostr/src/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/home/user/nostr/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/home/user/nostr/src/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZ1c2VyJTJGbm9zdHImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLGdKQUFzRTtBQUM3RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQXdFO0FBQ2pHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLz82OGMxIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvc3JjL2FwcC9wYWdlLnRzeFwiKSwgXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL2hvbWUvdXNlci9ub3N0ci9zcmMvYXBwL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTRHO0FBQzVHO0FBQ0Esb09BQTZHO0FBQzdHO0FBQ0EsME9BQWdIO0FBQ2hIO0FBQ0Esd09BQStHO0FBQy9HO0FBQ0Esa1BBQW9IO0FBQ3BIO0FBQ0Esc1FBQThIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8/N2NjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS91c2VyL25vc3RyL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvdXNlci9ub3N0ci9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ThemeProvider.tsx */ \"(ssr)/./src/components/ThemeProvider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZm9udCUyRmdvb2dsZSUyRnRhcmdldC5jc3MlM0YlN0IlNUMlMjJwYXRoJTVDJTIyJTNBJTVDJTIyc3JjJTJGYXBwJTJGbGF5b3V0LnRzeCU1QyUyMiUyQyU1QyUyMmltcG9ydCU1QyUyMiUzQSU1QyUyMkludGVyJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtaW50ZXIlNUMlMjIlN0QlNUQlMkMlNUMlMjJ2YXJpYWJsZU5hbWUlNUMlMjIlM0ElNUMlMjJpbnRlciU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmZvbnQlMkZnb29nbGUlMkZ0YXJnZXQuY3NzJTNGJTdCJTVDJTIycGF0aCU1QyUyMiUzQSU1QyUyMnNyYyUyRmFwcCUyRmxheW91dC50c3glNUMlMjIlMkMlNUMlMjJpbXBvcnQlNUMlMjIlM0ElNUMlMjJTcGFjZV9Nb25vJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIyd2VpZ2h0JTVDJTIyJTNBJTVDJTIyNDAwJTVDJTIyJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtc3BhY2UtbW9ubyU1QyUyMiU3RCU1RCUyQyU1QyUyMnZhcmlhYmxlTmFtZSU1QyUyMiUzQSU1QyUyMnNwYWNlTW9ubyU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGc3JjJTJGYXBwJTJGZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRnNyYyUyRmNvbXBvbmVudHMlMkZUaGVtZVByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMlRoZW1lUHJvdmlkZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdMQUF5SCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvP2NlZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJUaGVtZVByb3ZpZGVyXCJdICovIFwiL2hvbWUvdXNlci9ub3N0ci9zcmMvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(ssr)/./src/app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZzcmMlMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ0pBQXNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8/ZDlkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvc3JjL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _components_LoginScreen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/LoginScreen */ \"(ssr)/./src/components/LoginScreen.tsx\");\n/* harmony import */ var _components_Sidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Sidebar */ \"(ssr)/./src/components/Sidebar.tsx\");\n/* harmony import */ var _components_ChatView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ChatView */ \"(ssr)/./src/components/ChatView.tsx\");\n/* harmony import */ var _components_CallOverlay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/CallOverlay */ \"(ssr)/./src/components/CallOverlay.tsx\");\n/* harmony import */ var _components_Welcome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/Welcome */ \"(ssr)/./src/components/Welcome.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction HomePage() {\n    const { isLoggedIn, activeChat } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.useAppState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const autoLogin = async ()=>{\n            if (_lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.tryAutoLogin()) {\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.setLoggedIn)(true);\n                await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.connectToRelays();\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.loadContacts)();\n            }\n        };\n        autoLogin();\n    }, []);\n    if (!isLoggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoginScreen__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n            fileName: \"/home/user/nostr/src/app/page.tsx\",\n            lineNumber: 27,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"flex h-screen w-screen overflow-hidden bg-bg text-text\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${activeChat ? \"hidden\" : \"block w-full\"} md:block md:w-80 md:flex-shrink-0`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Sidebar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 38,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `flex-1 flex-col ${activeChat ? \"flex\" : \"hidden\"} md:flex`,\n                children: activeChat ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatView__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 23\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Welcome__WEBPACK_IMPORTED_MODULE_8__.Welcome, {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 38\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 42,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CallOverlay__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/app/page.tsx\",\n        lineNumber: 31,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFa0M7QUFDbUM7QUFDM0I7QUFDUztBQUNSO0FBQ0U7QUFDTTtBQUNKO0FBRWhDLFNBQVNVO0lBQ3RCLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxVQUFVLEVBQUUsR0FBR1gsdURBQVdBO0lBRTlDRCxnREFBU0EsQ0FBQztRQUNSLE1BQU1hLFlBQVk7WUFDaEIsSUFBSVQsbURBQVdBLENBQUNVLFlBQVksSUFBSTtnQkFDOUJaLHVEQUFXQSxDQUFDO2dCQUNaLE1BQU1FLG1EQUFXQSxDQUFDVyxlQUFlO2dCQUNqQ1osd0RBQVlBO1lBQ2Q7UUFDRjtRQUNBVTtJQUNGLEdBQUcsRUFBRTtJQUVMLElBQUksQ0FBQ0YsWUFBWTtRQUNmLHFCQUFPLDhEQUFDTiwrREFBV0E7Ozs7O0lBQ3JCO0lBRUEscUJBQ0UsOERBQUNXO1FBQUtDLFdBQVU7OzBCQUVkLDhEQUFDQztnQkFDQ0QsV0FBVyxDQUFDLEVBQ1ZMLGFBQWEsV0FBVyxlQUN6QixrQ0FBa0MsQ0FBQzswQkFFcEMsNEVBQUNOLDJEQUFPQTs7Ozs7Ozs7OzswQkFJViw4REFBQ1k7Z0JBQ0NELFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRUwsYUFBYSxTQUFTLFNBQVMsUUFBUSxDQUFDOzBCQUVyRUEsMkJBQWEsOERBQUNMLDREQUFRQTs7Ozt5Q0FBTSw4REFBQ0Usd0RBQU9BOzs7Ozs7Ozs7OzBCQUd2Qyw4REFBQ0QsK0RBQVdBOzs7Ozs7Ozs7OztBQUdsQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvYXBwL3BhZ2UudHN4P2Y2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXBwU3RhdGUsIHNldExvZ2dlZEluLCBsb2FkQ29udGFjdHMgfSBmcm9tIFwiQC9saWIvc3RvcmVcIjtcbmltcG9ydCB7IG5vc3RyQ2xpZW50IH0gZnJvbSBcIkAvbGliL25vc3RyXCI7XG5pbXBvcnQgTG9naW5TY3JlZW4gZnJvbSBcIkAvY29tcG9uZW50cy9Mb2dpblNjcmVlblwiO1xuaW1wb3J0IFNpZGViYXIgZnJvbSBcIkAvY29tcG9uZW50cy9TaWRlYmFyXCI7XG5pbXBvcnQgQ2hhdFZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9DaGF0Vmlld1wiO1xuaW1wb3J0IENhbGxPdmVybGF5IGZyb20gXCJAL2NvbXBvbmVudHMvQ2FsbE92ZXJsYXlcIjtcbmltcG9ydCB7IFdlbGNvbWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL1dlbGNvbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZVBhZ2UoKSB7XG4gIGNvbnN0IHsgaXNMb2dnZWRJbiwgYWN0aXZlQ2hhdCB9ID0gdXNlQXBwU3RhdGUoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGF1dG9Mb2dpbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChub3N0ckNsaWVudC50cnlBdXRvTG9naW4oKSkge1xuICAgICAgICBzZXRMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgYXdhaXQgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgICAgIGxvYWRDb250YWN0cygpO1xuICAgICAgfVxuICAgIH07XG4gICAgYXV0b0xvZ2luKCk7XG4gIH0sIFtdKTtcblxuICBpZiAoIWlzTG9nZ2VkSW4pIHtcbiAgICByZXR1cm4gPExvZ2luU2NyZWVuIC8+O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIHctc2NyZWVuIG92ZXJmbG93LWhpZGRlbiBiZy1iZyB0ZXh0LXRleHRcIj5cbiAgICAgIHsvKiBTaWRlYmFyICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgIGFjdGl2ZUNoYXQgPyAnaGlkZGVuJyA6ICdibG9jayB3LWZ1bGwnXG4gICAgICAgIH0gbWQ6YmxvY2sgbWQ6dy04MCBtZDpmbGV4LXNocmluay0wYH1cbiAgICAgID5cbiAgICAgICAgPFNpZGViYXIgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWFpbiBDb250ZW50IChDaGF0IG9yIFdlbGNvbWUpICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgZmxleC1jb2wgJHthY3RpdmVDaGF0ID8gJ2ZsZXgnIDogJ2hpZGRlbid9IG1kOmZsZXhgfVxuICAgICAgPlxuICAgICAgICB7YWN0aXZlQ2hhdCA/IDxDaGF0VmlldyAvPiA6IDxXZWxjb21lIC8+fVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxDYWxsT3ZlcmxheSAvPlxuICAgIDwvbWFpbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VBcHBTdGF0ZSIsInNldExvZ2dlZEluIiwibG9hZENvbnRhY3RzIiwibm9zdHJDbGllbnQiLCJMb2dpblNjcmVlbiIsIlNpZGViYXIiLCJDaGF0VmlldyIsIkNhbGxPdmVybGF5IiwiV2VsY29tZSIsIkhvbWVQYWdlIiwiaXNMb2dnZWRJbiIsImFjdGl2ZUNoYXQiLCJhdXRvTG9naW4iLCJ0cnlBdXRvTG9naW4iLCJjb25uZWN0VG9SZWxheXMiLCJtYWluIiwiY2xhc3NOYW1lIiwiZGl2Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/AudioPlayer.tsx":
/*!****************************************!*\
  !*** ./src/components/AudioPlayer.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AudioPlayer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Pause_Play_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _lib_chunkStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n\n\n\n\nfunction AudioPlayer({ message, isMe }) {\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [audioUrl, setAudioUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getAudioUrl = async ()=>{\n            if (!message.attachment) return;\n            setIsLoading(true);\n            if (message.attachment.chunked && message.attachment.transferId) {\n                try {\n                    const blob = await (0,_lib_chunkStore__WEBPACK_IMPORTED_MODULE_2__.downloadChunkedTransfer)(message.attachment.transferId, message.attachment.name, message.attachment.mimeType, true);\n                    if (blob) {\n                        setAudioUrl(URL.createObjectURL(blob));\n                    }\n                } catch (error) {\n                    console.error(\"Failed to load chunked audio:\", error);\n                }\n            } else if (message.attachment.data) {\n                setAudioUrl(`data:${message.attachment.mimeType};base64,${message.attachment.data}`);\n            }\n            setIsLoading(false);\n        };\n        getAudioUrl();\n    }, [\n        message.attachment\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (audioUrl) {\n            const audio = new Audio(audioUrl);\n            audioRef.current = audio;\n            audio.onloadedmetadata = ()=>setDuration(audio.duration);\n            audio.ontimeupdate = ()=>setProgress(audio.currentTime);\n            audio.onplay = ()=>setIsPlaying(true);\n            audio.onpause = ()=>setIsPlaying(false);\n            audio.onended = ()=>{\n                setIsPlaying(false);\n                setProgress(0);\n            };\n        }\n        return ()=>{\n            audioRef.current?.pause();\n            if (audioUrl && audioUrl.startsWith(\"blob:\")) {\n                URL.revokeObjectURL(audioUrl);\n            }\n        };\n    }, [\n        audioUrl\n    ]);\n    const handleTogglePlay = ()=>{\n        if (audioRef.current) {\n            if (isPlaying) {\n                audioRef.current.pause();\n            } else {\n                audioRef.current.play();\n            }\n        }\n    };\n    const handleSeek = (e)=>{\n        if (!audioRef.current || !duration) return;\n        const rect = e.currentTarget.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const percentage = x / rect.width;\n        audioRef.current.currentTime = duration * percentage;\n    };\n    const formatTime = (time)=>{\n        if (isNaN(time) || !isFinite(time)) time = 0;\n        const minutes = Math.floor(time / 60);\n        const seconds = Math.floor(time % 60);\n        return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `flex items-center gap-2 w-64 md:w-80 ${isMe ? \"text-white\" : \"text-text\"}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleTogglePlay,\n                disabled: !audioUrl || isLoading,\n                className: `p-2 rounded-full text-sm disabled:opacity-50 ${isMe ? \"hover:bg-white/20\" : \"hover:bg-bg-hover\"}`,\n                children: isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    className: \"w-5 h-5\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 22\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    className: \"w-5 h-5\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 54\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full h-8 flex items-center cursor-pointer\",\n                        onClick: handleSeek,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `w-full h-1.5 rounded-full relative ${isMe ? \"bg-white/20\" : \"bg-bg-tertiary\"}`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `h-full rounded-full ${isMe ? \"bg-white\" : \"bg-accent\"}`,\n                                    style: {\n                                        width: `${duration > 0 ? progress / duration * 100 : 0}%`\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                                    lineNumber: 99,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `absolute h-3 w-3 rounded-full -top-1 border ${isMe ? \"bg-white border-white/50\" : \"bg-white border-border\"}`,\n                                    style: {\n                                        left: `calc(${duration > 0 ? progress / duration * 100 : 0}% - 6px)`\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                                    lineNumber: 103,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                            lineNumber: 98,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: `text-xs w-14 text-right ${isMe ? \"text-white/70\" : \"text-text-muted\"}`,\n                        children: formatTime(duration ? duration - progress : 0)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n                lineNumber: 96,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/AudioPlayer.tsx\",\n        lineNumber: 92,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEMsRUFBRTNELE9BQU8sNkJBQTZCLHlCQUF5QixDQUFDO29DQUN4SCtELE9BQU87d0NBQUVsQixNQUFNLENBQUMsS0FBSyxFQUFFeEMsV0FBVyxJQUFJLFdBQVlBLFdBQVksTUFBTSxFQUFFLFFBQVEsQ0FBQztvQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBSXRGLDhEQUFDMkQ7d0JBQUtMLFdBQVcsQ0FBQyx3QkFBd0IsRUFBRTNELE9BQU8sa0JBQWtCLGtCQUFrQixDQUFDO2tDQUNyRmdELFdBQVczQyxXQUFXQSxXQUFXRixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4PzY0NmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGF1c2UsIFBsYXkgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgRGlyZWN0TWVzc2FnZSB9IGZyb20gJy4uL2xpYi9ub3N0cic7XG5pbXBvcnQgeyBkb3dubG9hZENodW5rZWRUcmFuc2ZlciB9IGZyb20gJy4uL2xpYi9jaHVua1N0b3JlJztcblxuaW50ZXJmYWNlIEF1ZGlvUGxheWVyUHJvcHMge1xuICBtZXNzYWdlOiBEaXJlY3RNZXNzYWdlO1xuICBpc01lOiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdWRpb1BsYXllcih7IG1lc3NhZ2UsIGlzTWUgfTogQXVkaW9QbGF5ZXJQcm9wcykge1xuICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvZ3Jlc3MsIHNldFByb2dyZXNzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbYXVkaW9VcmwsIHNldEF1ZGlvVXJsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBnZXRBdWRpb1VybCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVzc2FnZS5hdHRhY2htZW50KSByZXR1cm47XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBpZiAobWVzc2FnZS5hdHRhY2htZW50LmNodW5rZWQgJiYgbWVzc2FnZS5hdHRhY2htZW50LnRyYW5zZmVySWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgZG93bmxvYWRDaHVua2VkVHJhbnNmZXIoXG4gICAgICAgICAgICBtZXNzYWdlLmF0dGFjaG1lbnQudHJhbnNmZXJJZCxcbiAgICAgICAgICAgIG1lc3NhZ2UuYXR0YWNobWVudC5uYW1lLFxuICAgICAgICAgICAgbWVzc2FnZS5hdHRhY2htZW50Lm1pbWVUeXBlLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgICBzZXRBdWRpb1VybChVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgY2h1bmtlZCBhdWRpbzpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuYXR0YWNobWVudC5kYXRhKSB7XG4gICAgICAgIHNldEF1ZGlvVXJsKGBkYXRhOiR7bWVzc2FnZS5hdHRhY2htZW50Lm1pbWVUeXBlfTtiYXNlNjQsJHttZXNzYWdlLmF0dGFjaG1lbnQuZGF0YX1gKTtcbiAgICAgIH1cbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfTtcbiAgICBnZXRBdWRpb1VybCgpO1xuICB9LCBbbWVzc2FnZS5hdHRhY2htZW50XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXVkaW9VcmwpIHtcbiAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKGF1ZGlvVXJsKTtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQgPSBhdWRpbztcbiAgICAgIGF1ZGlvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiBzZXREdXJhdGlvbihhdWRpby5kdXJhdGlvbik7XG4gICAgICBhdWRpby5vbnRpbWV1cGRhdGUgPSAoKSA9PiBzZXRQcm9ncmVzcyhhdWRpby5jdXJyZW50VGltZSk7XG4gICAgICBhdWRpby5vbnBsYXkgPSAoKSA9PiBzZXRJc1BsYXlpbmcodHJ1ZSk7XG4gICAgICBhdWRpby5vbnBhdXNlID0gKCkgPT4gc2V0SXNQbGF5aW5nKGZhbHNlKTtcbiAgICAgIGF1ZGlvLm9uZW5kZWQgPSAoKSA9PiB7XG4gICAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgICAgIHNldFByb2dyZXNzKDApO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQ/LnBhdXNlKCk7XG4gICAgICBpZiAoYXVkaW9VcmwgJiYgYXVkaW9Vcmwuc3RhcnRzV2l0aCgnYmxvYjonKSkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGF1ZGlvVXJsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYXVkaW9VcmxdKTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVQbGF5ID0gKCkgPT4ge1xuICAgIGlmIChhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGF1c2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWVrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKCFhdWRpb1JlZi5jdXJyZW50IHx8ICFkdXJhdGlvbikgcmV0dXJuO1xuICAgIGNvbnN0IHJlY3QgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgeCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICBjb25zdCBwZXJjZW50YWdlID0geCAvIHJlY3Qud2lkdGg7XG4gICAgYXVkaW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IGR1cmF0aW9uICogcGVyY2VudGFnZTtcbiAgfTtcblxuICBjb25zdCBmb3JtYXRUaW1lID0gKHRpbWU6IG51bWJlcikgPT4ge1xuICAgIGlmIChpc05hTih0aW1lKSB8fCAhaXNGaW5pdGUodGltZSkpIHRpbWUgPSAwO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRpbWUgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IodGltZSAlIDYwKTtcbiAgICByZXR1cm4gYCR7bWludXRlc306JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB3LTY0IG1kOnctODAgJHtpc01lID8gJ3RleHQtd2hpdGUnIDogJ3RleHQtdGV4dCd9YH0+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVBsYXl9IGRpc2FibGVkPXshYXVkaW9VcmwgfHwgaXNMb2FkaW5nfSBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1mdWxsIHRleHQtc20gZGlzYWJsZWQ6b3BhY2l0eS01MCAke2lzTWUgPyAnaG92ZXI6Ymctd2hpdGUvMjAnIDogJ2hvdmVyOmJnLWJnLWhvdmVyJ31gfT5cbiAgICAgICAge2lzUGxheWluZyA/IDxQYXVzZSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz4gOiA8UGxheSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9e2hhbmRsZVNlZWt9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy1mdWxsIGgtMS41IHJvdW5kZWQtZnVsbCByZWxhdGl2ZSAke2lzTWUgPyAnYmctd2hpdGUvMjAnIDogJ2JnLWJnLXRlcnRpYXJ5J31gfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC1mdWxsIHJvdW5kZWQtZnVsbCAke2lzTWUgPyAnYmctd2hpdGUnIDogJ2JnLWFjY2VudCd9YH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke2R1cmF0aW9uID4gMCA/IChwcm9ncmVzcyAvIGR1cmF0aW9uKSAqIDEwMCA6IDB9JWAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlIGgtMyB3LTMgcm91bmRlZC1mdWxsIC10b3AtMSBib3JkZXIgJHtpc01lID8gJ2JnLXdoaXRlIGJvcmRlci13aGl0ZS81MCcgOiAnYmctd2hpdGUgYm9yZGVyLWJvcmRlcid9YH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgbGVmdDogYGNhbGMoJHtkdXJhdGlvbiA+IDAgPyAocHJvZ3Jlc3MgLyBkdXJhdGlvbikgKiAxMDAgOiAwfSUgLSA2cHgpYCB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQteHMgdy0xNCB0ZXh0LXJpZ2h0ICR7aXNNZSA/ICd0ZXh0LXdoaXRlLzcwJyA6ICd0ZXh0LXRleHQtbXV0ZWQnfWB9PlxuICAgICAgICAgIHtmb3JtYXRUaW1lKGR1cmF0aW9uID8gZHVyYXRpb24gLSBwcm9ncmVzcyA6IDApfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIlBhdXNlIiwiUGxheSIsImRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIiwiQXVkaW9QbGF5ZXIiLCJtZXNzYWdlIiwiaXNNZSIsImlzUGxheWluZyIsInNldElzUGxheWluZyIsInByb2dyZXNzIiwic2V0UHJvZ3Jlc3MiLCJkdXJhdGlvbiIsInNldER1cmF0aW9uIiwiYXVkaW9VcmwiLCJzZXRBdWRpb1VybCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImF1ZGlvUmVmIiwiZ2V0QXVkaW9VcmwiLCJhdHRhY2htZW50IiwiY2h1bmtlZCIsInRyYW5zZmVySWQiLCJibG9iIiwibmFtZSIsIm1pbWVUeXBlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZXJyb3IiLCJjb25zb2xlIiwiZGF0YSIsImF1ZGlvIiwiQXVkaW8iLCJjdXJyZW50Iiwib25sb2FkZWRtZXRhZGF0YSIsIm9udGltZXVwZGF0ZSIsImN1cnJlbnRUaW1lIiwib25wbGF5Iiwib25wYXVzZSIsIm9uZW5kZWQiLCJwYXVzZSIsInN0YXJ0c1dpdGgiLCJyZXZva2VPYmplY3RVUkwiLCJoYW5kbGVUb2dnbGVQbGF5IiwicGxheSIsImhhbmRsZVNlZWsiLCJlIiwicmVjdCIsImN1cnJlbnRUYXJnZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4IiwiY2xpZW50WCIsImxlZnQiLCJwZXJjZW50YWdlIiwid2lkdGgiLCJmb3JtYXRUaW1lIiwidGltZSIsImlzTmFOIiwiaXNGaW5pdGUiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwic2Vjb25kcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzdHlsZSIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/AudioPlayer.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/AudioRecorder.tsx":
/*!******************************************!*\
  !*** ./src/components/AudioRecorder.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AudioRecorder)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Mic,Pause,Play,Send,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Mic,Pause,Play,Send,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Mic,Pause,Play,Send,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Mic,Pause,Play,Send,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Mic,Pause,Play,Send,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n\n\n\n\n// Simple hook to draw waveform\nfunction useWaveform(audioContext, analyser, canvas, isRecording) {\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!analyser || !canvas || !audioContext) return;\n        const canvasCtx = canvas.getContext(\"2d\");\n        if (!canvasCtx) return;\n        let animationFrameId;\n        const dataArray = new Uint8Array(analyser.frequencyBinCount);\n        const draw = ()=>{\n            animationFrameId = requestAnimationFrame(draw);\n            analyser.getByteTimeDomainData(dataArray);\n            canvasCtx.fillStyle = \"#1a1a1a\"; // bg-bg-tertiary\n            canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\n            canvasCtx.lineWidth = 2;\n            canvasCtx.strokeStyle = \"#00C4FF\"; // accent color\n            canvasCtx.beginPath();\n            const sliceWidth = canvas.width * 1.0 / analyser.frequencyBinCount;\n            let x = 0;\n            for(let i = 0; i < analyser.frequencyBinCount; i++){\n                const v = dataArray[i] / 128.0;\n                const y = v * canvas.height / 2;\n                if (i === 0) {\n                    canvasCtx.moveTo(x, y);\n                } else {\n                    canvasCtx.lineTo(x, y);\n                }\n                x += sliceWidth;\n            }\n            canvasCtx.lineTo(canvas.width, canvas.height / 2);\n            canvasCtx.stroke();\n        };\n        if (isRecording) {\n            draw();\n        } else {\n            canvasCtx.fillStyle = \"#1a1a1a\";\n            canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        return ()=>{\n            cancelAnimationFrame(animationFrameId);\n        };\n    }, [\n        audioContext,\n        analyser,\n        canvas,\n        isRecording\n    ]);\n}\nfunction AudioRecorder({ onSend, onCancel }) {\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [audioBlob, setAudioBlob] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chunksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const timerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioContextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const analyserRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sourceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    useWaveform(audioContextRef.current, analyserRef.current, canvasRef.current, isRecording);\n    const startRecording = async ()=>{\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            // --- Web Audio API setup for visualization ---\n            const audioContext = new AudioContext();\n            audioContextRef.current = audioContext;\n            const analyser = audioContext.createAnalyser();\n            analyser.fftSize = 2048;\n            analyserRef.current = analyser;\n            const source = audioContext.createMediaStreamSource(stream);\n            source.connect(analyser);\n            sourceRef.current = source;\n            // --- End Web Audio API setup ---\n            mediaRecorderRef.current = new MediaRecorder(stream, {\n                mimeType: \"audio/webm\"\n            });\n            mediaRecorderRef.current.ondataavailable = (e)=>chunksRef.current.push(e.data);\n            mediaRecorderRef.current.onstop = ()=>{\n                const blob = new Blob(chunksRef.current, {\n                    type: \"audio/webm\"\n                });\n                setAudioBlob(blob);\n                chunksRef.current = [];\n                stream.getTracks().forEach((track)=>track.stop());\n                source.disconnect();\n                audioContext.close();\n            };\n            mediaRecorderRef.current.start();\n            setIsRecording(true);\n            setDuration(0);\n            timerRef.current = setInterval(()=>setDuration((d)=>d + 1), 1000);\n        } catch (error) {\n            console.error(\"Error starting recording:\", error);\n        // TODO: show error to user\n        }\n    };\n    const stopRecording = ()=>{\n        if (mediaRecorderRef.current && isRecording) {\n            mediaRecorderRef.current.stop();\n            setIsRecording(false);\n            if (timerRef.current) clearInterval(timerRef.current);\n        }\n    };\n    const handleSend = ()=>{\n        if (audioBlob) {\n            onSend(audioBlob);\n        }\n    };\n    const handleFullCancel = ()=>{\n        if (isRecording) stopRecording();\n        if (audioRef.current) audioRef.current.src = \"\";\n        onCancel();\n    };\n    const handleTogglePlay = ()=>{\n        if (audioRef.current) {\n            if (isPlaying) {\n                audioRef.current.pause();\n            } else {\n                audioRef.current.play();\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (audioBlob) {\n            const audioUrl = URL.createObjectURL(audioBlob);\n            audioRef.current = new Audio(audioUrl);\n            audioRef.current.onloadedmetadata = ()=>setDuration(audioRef.current.duration);\n            audioRef.current.ontimeupdate = ()=>setProgress(audioRef.current.currentTime);\n            audioRef.current.onplay = ()=>setIsPlaying(true);\n            audioRef.current.onpause = ()=>setIsPlaying(false);\n            audioRef.current.onended = ()=>{\n                setIsPlaying(false);\n                setProgress(0);\n            };\n        }\n        return ()=>{\n            if (audioRef.current) {\n                URL.revokeObjectURL(audioRef.current.src);\n            }\n        };\n    }, [\n        audioBlob\n    ]);\n    const formatTime = (timeInSeconds)=>{\n        const time = Math.round(timeInSeconds);\n        const minutes = Math.floor(time / 60);\n        const seconds = time % 60;\n        return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n    };\n    const displayedDuration = audioBlob ? duration : 0;\n    const displayedProgress = audioBlob ? progress : 0;\n    const handleSeek = (e)=>{\n        if (!audioRef.current || !audioBlob) return;\n        const rect = e.currentTarget.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const percentage = x / rect.width;\n        audioRef.current.currentTime = displayedDuration * percentage;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.motion.div, {\n        initial: {\n            height: 0,\n            opacity: 0\n        },\n        animate: {\n            height: \"auto\",\n            opacity: 1\n        },\n        exit: {\n            height: 0,\n            opacity: 0\n        },\n        className: \"bg-bg-secondary/40 border-t border-border px-4 py-3 overflow-hidden\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: !audioBlob ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: isRecording ? stopRecording : startRecording,\n                        className: `w-10 h-10 rounded-full flex items-center justify-center text-white transition-colors ${isRecording ? \"bg-red\" : \"bg-accent\"}`,\n                        children: isRecording ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 30\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 62\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                        lineNumber: 196,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleTogglePlay,\n                        className: \"p-2 rounded-full hover:bg-bg-hover text-text-muted\",\n                        children: isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 28\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 60\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                    lineNumber: 194,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 flex items-center gap-2\",\n                    children: [\n                        isRecording && !audioBlob && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                    ref: canvasRef,\n                                    className: \"w-full h-8 rounded-lg bg-bg-tertiary\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                    lineNumber: 212,\n                                    columnNumber: 21\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm text-text-muted w-14 text-right\",\n                                    children: formatTime(duration)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 21\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        audioBlob && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full h-8 flex items-center cursor-pointer\",\n                                    onClick: handleSeek,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full h-1.5 bg-bg-tertiary rounded-full relative\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-accent h-full rounded-full\",\n                                                style: {\n                                                    width: `${displayedDuration > 0 ? displayedProgress / displayedDuration * 100 : 0}%`\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                                lineNumber: 220,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute h-3 w-3 bg-white rounded-full -top-1 border border-border\",\n                                                style: {\n                                                    left: `calc(${displayedDuration > 0 ? displayedProgress / displayedDuration * 100 : 0}% - 6px)`\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                                lineNumber: 224,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 25\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 21\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm text-text-muted w-14 text-right\",\n                                    children: formatTime(displayedDuration - displayedProgress)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                    lineNumber: 230,\n                                    columnNumber: 21\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        !isRecording && !audioBlob && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full text-sm text-text-muted\",\n                            children: \",   ...\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 234,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [\n                        audioBlob && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSend,\n                            className: \"p-3 bg-accent hover:bg-accent-hover text-white rounded-xl\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                lineNumber: 241,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 240,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleFullCancel,\n                            className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-red\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Mic_Pause_Play_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                                lineNumber: 245,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                            lineNumber: 244,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n                    lineNumber: 238,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n            lineNumber: 193,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/AudioRecorder.tsx\",\n        lineNumber: 187,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTJDeEIsV0FBV1Usb0JBQW9CQzs7Ozs7Ozs7d0JBR2pHLENBQUM5RyxlQUFlLENBQUNnQywyQkFDZCw4REFBQ3NGOzRCQUFJSyxXQUFVO3NDQUFpQzs7Ozs7Ozs7Ozs7OzhCQUl4RCw4REFBQ0w7b0JBQUlLLFdBQVU7O3dCQUNWM0YsMkJBQ0QsOERBQUM0Rjs0QkFBT0MsU0FBUzNDOzRCQUFZeUMsV0FBVTtzQ0FDbkMsNEVBQUNqSSxpR0FBSUE7Z0NBQUNpSSxXQUFVOzs7Ozs7Ozs7OztzQ0FHcEIsOERBQUNDOzRCQUFPQyxTQUFTMUM7NEJBQWtCd0MsV0FBVTtzQ0FDekMsNEVBQUNoSSxpR0FBQ0E7Z0NBQUNnSSxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9jb21wb25lbnRzL0F1ZGlvUmVjb3JkZXIudHN4PzVhODMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBNaWMsIFBhdXNlLCBQbGF5LCBTZW5kLCBUcmFzaDIsIFggfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgQXVkaW9SZWNvcmRlclByb3BzIHtcbiAgb25TZW5kOiAoYXVkaW9CbG9iOiBCbG9iKSA9PiB2b2lkO1xuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcbn1cblxuLy8gU2ltcGxlIGhvb2sgdG8gZHJhdyB3YXZlZm9ybVxuZnVuY3Rpb24gdXNlV2F2ZWZvcm0oYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQgfCBudWxsLCBhbmFseXNlcjogQW5hbHlzZXJOb2RlIHwgbnVsbCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwsIGlzUmVjb3JkaW5nOiBib29sZWFuKSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhbmFseXNlciB8fCAhY2FudmFzIHx8ICFhdWRpb0NvbnRleHQpIHJldHVybjtcblxuICAgIGNvbnN0IGNhbnZhc0N0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY2FudmFzQ3R4KSByZXR1cm47XG5cbiAgICBsZXQgYW5pbWF0aW9uRnJhbWVJZDogbnVtYmVyO1xuICAgIGNvbnN0IGRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcblxuICAgIGNvbnN0IGRyYXcgPSAoKSA9PiB7XG4gICAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xuICAgICAgYW5hbHlzZXIuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGRhdGFBcnJheSk7XG5cbiAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSAnIzFhMWExYSc7IC8vIGJnLWJnLXRlcnRpYXJ5XG4gICAgICBjYW52YXNDdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIGNhbnZhc0N0eC5saW5lV2lkdGggPSAyO1xuICAgICAgY2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gJyMwMEM0RkYnOyAvLyBhY2NlbnQgY29sb3JcbiAgICAgIGNhbnZhc0N0eC5iZWdpblBhdGgoKTtcblxuICAgICAgY29uc3Qgc2xpY2VXaWR0aCA9IGNhbnZhcy53aWR0aCAqIDEuMCAvIGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50O1xuICAgICAgbGV0IHggPSAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGRhdGFBcnJheVtpXSAvIDEyOC4wO1xuICAgICAgICBjb25zdCB5ID0gdiAqIGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIGNhbnZhc0N0eC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FudmFzQ3R4LmxpbmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICB4ICs9IHNsaWNlV2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGNhbnZhc0N0eC5saW5lVG8oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICBjYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIGlmIChpc1JlY29yZGluZykge1xuICAgICAgZHJhdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW52YXNDdHguZmlsbFN0eWxlID0gJyMxYTFhMWEnO1xuICAgICAgY2FudmFzQ3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQpO1xuICAgIH07XG4gIH0sIFthdWRpb0NvbnRleHQsIGFuYWx5c2VyLCBjYW52YXMsIGlzUmVjb3JkaW5nXSk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXVkaW9SZWNvcmRlcih7IG9uU2VuZCwgb25DYW5jZWwgfTogQXVkaW9SZWNvcmRlclByb3BzKSB7XG4gIGNvbnN0IFtpc1JlY29yZGluZywgc2V0SXNSZWNvcmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXVkaW9CbG9iLCBzZXRBdWRpb0Jsb2JdID0gdXNlU3RhdGU8QmxvYiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbcHJvZ3Jlc3MsIHNldFByb2dyZXNzXSA9IHVzZVN0YXRlKDApO1xuXG4gIGNvbnN0IG1lZGlhUmVjb3JkZXJSZWYgPSB1c2VSZWY8TWVkaWFSZWNvcmRlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGNodW5rc1JlZiA9IHVzZVJlZjxCbG9iW10+KFtdKTtcbiAgY29uc3QgdGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgXG4gIGNvbnN0IGF1ZGlvQ29udGV4dFJlZiA9IHVzZVJlZjxBdWRpb0NvbnRleHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgYW5hbHlzZXJSZWYgPSB1c2VSZWY8QW5hbHlzZXJOb2RlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNvdXJjZVJlZiA9IHVzZVJlZjxNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQgfCBudWxsPihudWxsKTtcblxuICB1c2VXYXZlZm9ybShhdWRpb0NvbnRleHRSZWYuY3VycmVudCwgYW5hbHlzZXJSZWYuY3VycmVudCwgY2FudmFzUmVmLmN1cnJlbnQsIGlzUmVjb3JkaW5nKTtcblxuICBjb25zdCBzdGFydFJlY29yZGluZyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gLS0tIFdlYiBBdWRpbyBBUEkgc2V0dXAgZm9yIHZpc3VhbGl6YXRpb24gLS0tXG4gICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICBhdWRpb0NvbnRleHRSZWYuY3VycmVudCA9IGF1ZGlvQ29udGV4dDtcbiAgICAgIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICBhbmFseXNlci5mZnRTaXplID0gMjA0ODtcbiAgICAgIGFuYWx5c2VyUmVmLmN1cnJlbnQgPSBhbmFseXNlcjtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzdHJlYW0pO1xuICAgICAgc291cmNlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgc291cmNlUmVmLmN1cnJlbnQgPSBzb3VyY2U7XG4gICAgICAvLyAtLS0gRW5kIFdlYiBBdWRpbyBBUEkgc2V0dXAgLS0tXG5cbiAgICAgIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSwgeyBtaW1lVHlwZTogJ2F1ZGlvL3dlYm0nIH0pO1xuICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50Lm9uZGF0YWF2YWlsYWJsZSA9IGUgPT4gY2h1bmtzUmVmLmN1cnJlbnQucHVzaChlLmRhdGEpO1xuICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50Lm9uc3RvcCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKGNodW5rc1JlZi5jdXJyZW50LCB7IHR5cGU6ICdhdWRpby93ZWJtJyB9KTtcbiAgICAgICAgc2V0QXVkaW9CbG9iKGJsb2IpO1xuICAgICAgICBjaHVua3NSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICAgIH07XG4gICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RhcnQoKTtcbiAgICAgIHNldElzUmVjb3JkaW5nKHRydWUpO1xuICAgICAgc2V0RHVyYXRpb24oMCk7XG4gICAgICB0aW1lclJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4gc2V0RHVyYXRpb24oZCA9PiBkICsgMSksIDEwMDApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyByZWNvcmRpbmc6JywgZXJyb3IpO1xuICAgICAgLy8gVE9ETzogc2hvdyBlcnJvciB0byB1c2VyXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0b3BSZWNvcmRpbmcgPSAoKSA9PiB7XG4gICAgaWYgKG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCAmJiBpc1JlY29yZGluZykge1xuICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50LnN0b3AoKTtcbiAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKTtcbiAgICAgIGlmICh0aW1lclJlZi5jdXJyZW50KSBjbGVhckludGVydmFsKHRpbWVyUmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZW5kID0gKCkgPT4ge1xuICAgIGlmIChhdWRpb0Jsb2IpIHtcbiAgICAgIG9uU2VuZChhdWRpb0Jsb2IpO1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IGhhbmRsZUZ1bGxDYW5jZWwgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNSZWNvcmRpbmcpIHN0b3BSZWNvcmRpbmcoKTtcbiAgICAgIGlmIChhdWRpb1JlZi5jdXJyZW50KSBhdWRpb1JlZi5jdXJyZW50LnNyYyA9ICcnO1xuICAgICAgb25DYW5jZWwoKTtcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVBsYXkgPSAoKSA9PiB7XG4gICAgaWYgKGF1ZGlvUmVmLmN1cnJlbnQpIHtcbiAgICAgIGlmIChpc1BsYXlpbmcpIHtcbiAgICAgICAgYXVkaW9SZWYuY3VycmVudC5wYXVzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXVkaW9SZWYuY3VycmVudC5wbGF5KCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1ZGlvQmxvYikge1xuICAgICAgY29uc3QgYXVkaW9VcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGF1ZGlvQmxvYik7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50ID0gbmV3IEF1ZGlvKGF1ZGlvVXJsKTtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQub25sb2FkZWRtZXRhZGF0YSA9ICgpID0+IHNldER1cmF0aW9uKGF1ZGlvUmVmLmN1cnJlbnQhLmR1cmF0aW9uKTtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQub250aW1ldXBkYXRlID0gKCkgPT4gc2V0UHJvZ3Jlc3MoYXVkaW9SZWYuY3VycmVudCEuY3VycmVudFRpbWUpO1xuICAgICAgYXVkaW9SZWYuY3VycmVudC5vbnBsYXkgPSAoKSA9PiBzZXRJc1BsYXlpbmcodHJ1ZSk7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50Lm9ucGF1c2UgPSAoKSA9PiBzZXRJc1BsYXlpbmcoZmFsc2UpO1xuICAgICAgYXVkaW9SZWYuY3VycmVudC5vbmVuZGVkID0gKCkgPT4ge1xuICAgICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpO1xuICAgICAgICBzZXRQcm9ncmVzcygwKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoYXVkaW9SZWYuY3VycmVudCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGF1ZGlvUmVmLmN1cnJlbnQuc3JjKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYXVkaW9CbG9iXSk7XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9ICh0aW1lSW5TZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB0aW1lID0gTWF0aC5yb3VuZCh0aW1lSW5TZWNvbmRzKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0aW1lIC8gNjApO1xuICAgIGNvbnN0IHNlY29uZHMgPSB0aW1lICUgNjA7XG4gICAgcmV0dXJuIGAke21pbnV0ZXN9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5ZWREdXJhdGlvbiA9IGF1ZGlvQmxvYiA/IGR1cmF0aW9uIDogMDtcbiAgY29uc3QgZGlzcGxheWVkUHJvZ3Jlc3MgPSBhdWRpb0Jsb2IgPyBwcm9ncmVzcyA6IDA7XG5cbiAgY29uc3QgaGFuZGxlU2VlayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgaWYgKCFhdWRpb1JlZi5jdXJyZW50IHx8ICFhdWRpb0Jsb2IpIHJldHVybjtcbiAgICAgIGNvbnN0IHJlY3QgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHggLyByZWN0LndpZHRoO1xuICAgICAgYXVkaW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IGRpc3BsYXllZER1cmF0aW9uICogcGVyY2VudGFnZTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPG1vdGlvbi5kaXZcbiAgICAgIGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19XG4gICAgICBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgY2xhc3NOYW1lPVwiYmctYmctc2Vjb25kYXJ5LzQwIGJvcmRlci10IGJvcmRlci1ib3JkZXIgcHgtNCBweS0zIG92ZXJmbG93LWhpZGRlblwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgeyFhdWRpb0Jsb2IgPyAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2lzUmVjb3JkaW5nID8gc3RvcFJlY29yZGluZyA6IHN0YXJ0UmVjb3JkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMgJHtpc1JlY29yZGluZyA/ICdiZy1yZWQnIDogJ2JnLWFjY2VudCd9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzUmVjb3JkaW5nID8gPFBhdXNlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiA6IDxNaWMgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlVG9nZ2xlUGxheX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAge2lzUGxheWluZyA/IDxQYXVzZSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz4gOiA8UGxheSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAge2lzUmVjb3JkaW5nICYmICFhdWRpb0Jsb2IgJiYgKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IGNsYXNzTmFtZT1cInctZnVsbCBoLTggcm91bmRlZC1sZyBiZy1iZy10ZXJ0aWFyeVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LW11dGVkIHctMTQgdGV4dC1yaWdodFwiPntmb3JtYXRUaW1lKGR1cmF0aW9uKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2F1ZGlvQmxvYiAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC04IGZsZXggaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17aGFuZGxlU2Vla30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTEuNSBiZy1iZy10ZXJ0aWFyeSByb3VuZGVkLWZ1bGwgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYWNjZW50IGgtZnVsbCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtkaXNwbGF5ZWREdXJhdGlvbiA+IDAgPyAoZGlzcGxheWVkUHJvZ3Jlc3MgLyBkaXNwbGF5ZWREdXJhdGlvbikgKiAxMDAgOiAwfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBoLTMgdy0zIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCAtdG9wLTEgYm9yZGVyIGJvcmRlci1ib3JkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBsZWZ0OiBgY2FsYygke2Rpc3BsYXllZER1cmF0aW9uID4gMCA/IChkaXNwbGF5ZWRQcm9ncmVzcyAvIGRpc3BsYXllZER1cmF0aW9uKSAqIDEwMCA6IDB9JSAtIDZweClgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtbXV0ZWQgdy0xNCB0ZXh0LXJpZ2h0XCI+e2Zvcm1hdFRpbWUoZGlzcGxheWVkRHVyYXRpb24gLSBkaXNwbGF5ZWRQcm9ncmVzcyl9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshaXNSZWNvcmRpbmcgJiYgIWF1ZGlvQmxvYiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctZnVsbCB0ZXh0LXNtIHRleHQtdGV4dC1tdXRlZCc+0J3QsNC20LzQuNGC0LUsINGH0YLQvtCx0Ysg0L3QsNGH0LDRgtGMINC30LDQv9C40YHRjC4uLjwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAge2F1ZGlvQmxvYiAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNlbmR9IGNsYXNzTmFtZT1cInAtMyBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC14bFwiPlxuICAgICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVGdWxsQ2FuY2VsfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC1yZWRcIj5cbiAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbW90aW9uLmRpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIm1vdGlvbiIsIk1pYyIsIlBhdXNlIiwiUGxheSIsIlNlbmQiLCJYIiwidXNlV2F2ZWZvcm0iLCJhdWRpb0NvbnRleHQiLCJhbmFseXNlciIsImNhbnZhcyIsImlzUmVjb3JkaW5nIiwiY2FudmFzQ3R4IiwiZ2V0Q29udGV4dCIsImFuaW1hdGlvbkZyYW1lSWQiLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZnJlcXVlbmN5QmluQ291bnQiLCJkcmF3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2V0Qnl0ZVRpbWVEb21haW5EYXRhIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic2xpY2VXaWR0aCIsIngiLCJpIiwidiIsInkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIkF1ZGlvUmVjb3JkZXIiLCJvblNlbmQiLCJvbkNhbmNlbCIsInNldElzUmVjb3JkaW5nIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwiYXVkaW9CbG9iIiwic2V0QXVkaW9CbG9iIiwiZHVyYXRpb24iLCJzZXREdXJhdGlvbiIsInByb2dyZXNzIiwic2V0UHJvZ3Jlc3MiLCJtZWRpYVJlY29yZGVyUmVmIiwiYXVkaW9SZWYiLCJjaHVua3NSZWYiLCJ0aW1lclJlZiIsImF1ZGlvQ29udGV4dFJlZiIsImFuYWx5c2VyUmVmIiwic291cmNlUmVmIiwiY2FudmFzUmVmIiwiY3VycmVudCIsInN0YXJ0UmVjb3JkaW5nIiwic3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJBdWRpb0NvbnRleHQiLCJjcmVhdGVBbmFseXNlciIsImZmdFNpemUiLCJzb3VyY2UiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNvbm5lY3QiLCJNZWRpYVJlY29yZGVyIiwibWltZVR5cGUiLCJvbmRhdGFhdmFpbGFibGUiLCJlIiwicHVzaCIsImRhdGEiLCJvbnN0b3AiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwiZGlzY29ubmVjdCIsImNsb3NlIiwic3RhcnQiLCJzZXRJbnRlcnZhbCIsImQiLCJlcnJvciIsImNvbnNvbGUiLCJzdG9wUmVjb3JkaW5nIiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZVNlbmQiLCJoYW5kbGVGdWxsQ2FuY2VsIiwic3JjIiwiaGFuZGxlVG9nZ2xlUGxheSIsInBhdXNlIiwicGxheSIsImF1ZGlvVXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQXVkaW8iLCJvbmxvYWRlZG1ldGFkYXRhIiwib250aW1ldXBkYXRlIiwiY3VycmVudFRpbWUiLCJvbnBsYXkiLCJvbnBhdXNlIiwib25lbmRlZCIsInJldm9rZU9iamVjdFVSTCIsImZvcm1hdFRpbWUiLCJ0aW1lSW5TZWNvbmRzIiwidGltZSIsIk1hdGgiLCJyb3VuZCIsIm1pbnV0ZXMiLCJmbG9vciIsInNlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZGlzcGxheWVkRHVyYXRpb24iLCJkaXNwbGF5ZWRQcm9ncmVzcyIsImhhbmRsZVNlZWsiLCJyZWN0IiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0IiwicGVyY2VudGFnZSIsImRpdiIsImluaXRpYWwiLCJvcGFjaXR5IiwiYW5pbWF0ZSIsImV4aXQiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwicmVmIiwic3BhbiIsInN0eWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/AudioRecorder.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Avatar.tsx":
/*!***********************************!*\
  !*** ./src/components/Avatar.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AvatarGradient: () => (/* binding */ AvatarGradient),\n/* harmony export */   \"default\": () => (/* binding */ Avatar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n\n\n\nconst GRADIENT_PAIRS = [\n    [\n        \"#7c5cfc\",\n        \"#22d3ee\"\n    ],\n    [\n        \"#f472b6\",\n        \"#fbbf24\"\n    ],\n    [\n        \"#4ade80\",\n        \"#22d3ee\"\n    ],\n    [\n        \"#f87171\",\n        \"#fb923c\"\n    ],\n    [\n        \"#a78bfa\",\n        \"#f472b6\"\n    ],\n    [\n        \"#22d3ee\",\n        \"#4ade80\"\n    ],\n    [\n        \"#fbbf24\",\n        \"#f87171\"\n    ],\n    [\n        \"#fb923c\",\n        \"#a78bfa\"\n    ],\n    [\n        \"#34d399\",\n        \"#818cf8\"\n    ],\n    [\n        \"#f97316\",\n        \"#ec4899\"\n    ],\n    [\n        \"#06b6d4\",\n        \"#8b5cf6\"\n    ],\n    [\n        \"#84cc16\",\n        \"#06b6d4\"\n    ],\n    [\n        \"#e879f9\",\n        \"#38bdf8\"\n    ],\n    [\n        \"#fb7185\",\n        \"#c084fc\"\n    ],\n    [\n        \"#2dd4bf\",\n        \"#a855f7\"\n    ],\n    [\n        \"#facc15\",\n        \"#f43f5e\"\n    ]\n];\nfunction hashCode(str) {\n    let hash = 0;\n    for(let i = 0; i < str.length; i++){\n        const char = str.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash |= 0;\n    }\n    return Math.abs(hash);\n}\nconst SIZE_MAP = {\n    xs: {\n        outer: \"w-7 h-7\",\n        inner: \"w-6 h-6\",\n        text: \"text-[10px]\",\n        dot: \"w-2 h-2 -bottom-0 -right-0\",\n        border: \"2px\",\n        size: 24\n    },\n    sm: {\n        outer: \"w-9 h-9\",\n        inner: \"w-8 h-8\",\n        text: \"text-xs\",\n        dot: \"w-2.5 h-2.5 -bottom-0 -right-0\",\n        border: \"2px\",\n        size: 32\n    },\n    md: {\n        outer: \"w-11 h-11\",\n        inner: \"w-10 h-10\",\n        text: \"text-sm\",\n        dot: \"w-3 h-3 -bottom-0.5 -right-0.5\",\n        border: \"2px\",\n        size: 40\n    },\n    lg: {\n        outer: \"w-16 h-16\",\n        inner: \"w-14 h-14\",\n        text: \"text-xl\",\n        dot: \"w-3.5 h-3.5 bottom-0 right-0\",\n        border: \"3px\",\n        size: 56\n    },\n    xl: {\n        outer: \"w-24 h-24\",\n        inner: \"w-[86px] h-[86px]\",\n        text: \"text-3xl\",\n        dot: \"w-4 h-4 bottom-0.5 right-0.5\",\n        border: \"3px\",\n        size: 86\n    }\n};\nfunction Avatar({ pubkey, name, picture, size = \"md\", showBorder = true, online, className = \"\" }) {\n    const gradient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const idx = hashCode(pubkey) % GRADIENT_PAIRS.length;\n        return GRADIENT_PAIRS[idx];\n    }, [\n        pubkey\n    ]);\n    const s = SIZE_MAP[size];\n    const initial = (name || pubkey || \"?\")[0].toUpperCase();\n    const gradientStyle = showBorder ? {\n        background: `linear-gradient(135deg, ${gradient[0]}, ${gradient[1]})`,\n        padding: s.border\n    } : {};\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `relative shrink-0 ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${s.outer} rounded-full flex items-center justify-center`,\n                style: showBorder ? gradientStyle : {},\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `${s.inner} rounded-full flex items-center justify-center overflow-hidden ${showBorder ? \"bg-bg-secondary\" : \"bg-bg-tertiary\"}`,\n                    style: !showBorder ? {\n                        background: `linear-gradient(135deg, ${gradient[0]}22, ${gradient[1]}22)`,\n                        border: `1px solid ${gradient[0]}33`\n                    } : {},\n                    children: picture ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        src: picture,\n                        alt: name || \"Avatar\",\n                        width: s.size,\n                        height: s.size,\n                        className: \"w-full h-full object-cover\",\n                        onError: (e)=>{\n                            e.target.style.display = \"none\";\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                        lineNumber: 81,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: `${s.text} font-bold`,\n                        style: {\n                            color: gradient[0]\n                        },\n                        children: initial\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            online !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `absolute ${s.dot} rounded-full border-2 border-bg-secondary ${online ? \"bg-green\" : \"bg-text-muted\"}`\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\nfunction AvatarGradient({ pubkey }) {\n    const gradient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const idx = hashCode(pubkey) % GRADIENT_PAIRS.length;\n        return GRADIENT_PAIRS[idx];\n    }, [\n        pubkey\n    ]);\n    return gradient;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvQXZhdGFyLnRzeD8yMDU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTmV4dEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5jb25zdCBHUkFESUVOVF9QQUlSUyA9IFtcbiAgWycjN2M1Y2ZjJywgJyMyMmQzZWUnXSxcbiAgWycjZjQ3MmI2JywgJyNmYmJmMjQnXSxcbiAgWycjNGFkZTgwJywgJyMyMmQzZWUnXSxcbiAgWycjZjg3MTcxJywgJyNmYjkyM2MnXSxcbiAgWycjYTc4YmZhJywgJyNmNDcyYjYnXSxcbiAgWycjMjJkM2VlJywgJyM0YWRlODAnXSxcbiAgWycjZmJiZjI0JywgJyNmODcxNzEnXSxcbiAgWycjZmI5MjNjJywgJyNhNzhiZmEnXSxcbiAgWycjMzRkMzk5JywgJyM4MThjZjgnXSxcbiAgWycjZjk3MzE2JywgJyNlYzQ4OTknXSxcbiAgWycjMDZiNmQ0JywgJyM4YjVjZjYnXSxcbiAgWycjODRjYzE2JywgJyMwNmI2ZDQnXSxcbiAgWycjZTg3OWY5JywgJyMzOGJkZjgnXSxcbiAgWycjZmI3MTg1JywgJyNjMDg0ZmMnXSxcbiAgWycjMmRkNGJmJywgJyNhODU1ZjcnXSxcbiAgWycjZmFjYzE1JywgJyNmNDNmNWUnXSxcbl07XG5cbmZ1bmN0aW9uIGhhc2hDb2RlKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgbGV0IGhhc2ggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgIGhhc2ggfD0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG59XG5cbmludGVyZmFjZSBBdmF0YXJQcm9wcyB7XG4gIHB1YmtleTogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBwaWN0dXJlPzogc3RyaW5nO1xuICBzaXplPzogJ3hzJyB8ICdzbScgfCAnbWQnIHwgJ2xnJyB8ICd4bCc7XG4gIHNob3dCb3JkZXI/OiBib29sZWFuO1xuICBvbmxpbmU/OiBib29sZWFuO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFNJWkVfTUFQID0ge1xuICB4czogeyBvdXRlcjogJ3ctNyBoLTcnLCBpbm5lcjogJ3ctNiBoLTYnLCB0ZXh0OiAndGV4dC1bMTBweF0nLCBkb3Q6ICd3LTIgaC0yIC1ib3R0b20tMCAtcmlnaHQtMCcsIGJvcmRlcjogJzJweCcsIHNpemU6IDI0IH0sXG4gIHNtOiB7IG91dGVyOiAndy05IGgtOScsIGlubmVyOiAndy04IGgtOCcsIHRleHQ6ICd0ZXh0LXhzJywgZG90OiAndy0yLjUgaC0yLjUgLWJvdHRvbS0wIC1yaWdodC0wJywgYm9yZGVyOiAnMnB4Jywgc2l6ZTogMzIgfSxcbiAgbWQ6IHsgb3V0ZXI6ICd3LTExIGgtMTEnLCBpbm5lcjogJ3ctMTAgaC0xMCcsIHRleHQ6ICd0ZXh0LXNtJywgZG90OiAndy0zIGgtMyAtYm90dG9tLTAuNSAtcmlnaHQtMC41JywgYm9yZGVyOiAnMnB4Jywgc2l6ZTogNDAgfSxcbiAgbGc6IHsgb3V0ZXI6ICd3LTE2IGgtMTYnLCBpbm5lcjogJ3ctMTQgaC0xNCcsIHRleHQ6ICd0ZXh0LXhsJywgZG90OiAndy0zLjUgaC0zLjUgYm90dG9tLTAgcmlnaHQtMCcsIGJvcmRlcjogJzNweCcsIHNpemU6IDU2IH0sXG4gIHhsOiB7IG91dGVyOiAndy0yNCBoLTI0JywgaW5uZXI6ICd3LVs4NnB4XSBoLVs4NnB4XScsIHRleHQ6ICd0ZXh0LTN4bCcsIGRvdDogJ3ctNCBoLTQgYm90dG9tLTAuNSByaWdodC0wLjUnLCBib3JkZXI6ICczcHgnLCBzaXplOiA4NiB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXZhdGFyKHsgcHVia2V5LCBuYW1lLCBwaWN0dXJlLCBzaXplID0gJ21kJywgc2hvd0JvcmRlciA9IHRydWUsIG9ubGluZSwgY2xhc3NOYW1lID0gJycgfTogQXZhdGFyUHJvcHMpIHtcbiAgY29uc3QgZ3JhZGllbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpZHggPSBoYXNoQ29kZShwdWJrZXkpICUgR1JBRElFTlRfUEFJUlMubGVuZ3RoO1xuICAgIHJldHVybiBHUkFESUVOVF9QQUlSU1tpZHhdO1xuICB9LCBbcHVia2V5XSk7XG5cbiAgY29uc3QgcyA9IFNJWkVfTUFQW3NpemVdO1xuICBjb25zdCBpbml0aWFsID0gKG5hbWUgfHwgcHVia2V5IHx8ICc/JylbMF0udG9VcHBlckNhc2UoKTtcblxuICBjb25zdCBncmFkaWVudFN0eWxlID0gc2hvd0JvcmRlciA/IHtcbiAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFswXX0sICR7Z3JhZGllbnRbMV19KWAsXG4gICAgcGFkZGluZzogcy5ib3JkZXIsXG4gIH0gOiB7fTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgc2hyaW5rLTAgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YCR7cy5vdXRlcn0gcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyYH1cbiAgICAgICAgc3R5bGU9e3Nob3dCb3JkZXIgPyBncmFkaWVudFN0eWxlIDoge319XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3MuaW5uZXJ9IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW4gJHtcbiAgICAgICAgICAgIHNob3dCb3JkZXIgPyAnYmctYmctc2Vjb25kYXJ5JyA6ICdiZy1iZy10ZXJ0aWFyeSdcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBzdHlsZT17IXNob3dCb3JkZXIgPyB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFswXX0yMiwgJHtncmFkaWVudFsxXX0yMilgLFxuICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z3JhZGllbnRbMF19MzNgLFxuICAgICAgICAgIH0gOiB7fX1cbiAgICAgICAgPlxuICAgICAgICAgIHtwaWN0dXJlID8gKFxuICAgICAgICAgICAgPE5leHRJbWFnZVxuICAgICAgICAgICAgICBzcmM9e3BpY3R1cmV9XG4gICAgICAgICAgICAgIGFsdD17bmFtZSB8fCAnQXZhdGFyJ31cbiAgICAgICAgICAgICAgd2lkdGg9e3Muc2l6ZX1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtzLnNpemV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cy50ZXh0fSBmb250LWJvbGRgfVxuICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ3JhZGllbnRbMF0gfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2luaXRpYWx9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtvbmxpbmUgIT09IHVuZGVmaW5lZCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSAke3MuZG90fSByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWJnLXNlY29uZGFyeSAke1xuICAgICAgICAgICAgb25saW5lID8gJ2JnLWdyZWVuJyA6ICdiZy10ZXh0LW11dGVkJ1xuICAgICAgICAgIH1gfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF2YXRhckdyYWRpZW50KHsgcHVia2V5IH06IHsgcHVia2V5OiBzdHJpbmcgfSkge1xuICBjb25zdCBncmFkaWVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGlkeCA9IGhhc2hDb2RlKHB1YmtleSkgJSBHUkFESUVOVF9QQUlSUy5sZW5ndGg7XG4gICAgcmV0dXJuIEdSQURJRU5UX1BBSVJTW2lkeF07XG4gIH0sIFtwdWJrZXldKTtcbiAgcmV0dXJuIGdyYWRpZW50O1xufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJOZXh0SW1hZ2UiLCJHUkFESUVOVF9QQUlSUyIsImhhc2hDb2RlIiwic3RyIiwiaGFzaCIsImkiLCJsZW5ndGgiLCJjaGFyIiwiY2hhckNvZGVBdCIsIk1hdGgiLCJhYnMiLCJTSVpFX01BUCIsInhzIiwib3V0ZXIiLCJpbm5lciIsInRleHQiLCJkb3QiLCJib3JkZXIiLCJzaXplIiwic20iLCJtZCIsImxnIiwieGwiLCJBdmF0YXIiLCJwdWJrZXkiLCJuYW1lIiwicGljdHVyZSIsInNob3dCb3JkZXIiLCJvbmxpbmUiLCJjbGFzc05hbWUiLCJncmFkaWVudCIsImlkeCIsInMiLCJpbml0aWFsIiwidG9VcHBlckNhc2UiLCJncmFkaWVudFN0eWxlIiwiYmFja2dyb3VuZCIsInBhZGRpbmciLCJkaXYiLCJzdHlsZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwib25FcnJvciIsImUiLCJ0YXJnZXQiLCJkaXNwbGF5Iiwic3BhbiIsImNvbG9yIiwidW5kZWZpbmVkIiwiQXZhdGFyR3JhZGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Avatar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/CallOverlay.tsx":
/*!****************************************!*\
  !*** ./src/components/CallOverlay.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallOverlay)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone-incoming.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/webrtc */ \"(ssr)/./src/lib/webrtc.ts\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\n\nfunction CallOverlay() {\n    const { contacts, isLoggedIn } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.useAppState)();\n    const [callState, setCallState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [remotePubkey, setRemotePubkey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callType, setCallType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"audio\");\n    const [muted, setMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videoOff, setVideoOff] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [elapsed, setElapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [localStream, setLocalStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [remoteStream, setRemoteStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callError, setCallError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const localVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Effect for handling login/logout\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isLoggedIn) {\n            _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.endCall(); // Force end call on logout\n            // Also reset component state immediately\n            setCallState(\"idle\");\n            setRemotePubkey(null);\n            setLocalStream(null);\n            setRemoteStream(null);\n            setElapsed(0);\n        }\n    }, [\n        isLoggedIn\n    ]);\n    // Effect for managing webrtc lifecycle and subscriptions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.init();\n        const unsubState = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.onStateChange((state, pubkey, type, error)=>{\n            setCallState(state);\n            setRemotePubkey(pubkey);\n            setCallType(type || \"audio\");\n            if (error) {\n                setCallError(error);\n                setTimeout(()=>setCallError(null), 4000);\n            }\n            if (state === \"idle\") {\n                setMuted(false);\n                setVideoOff(false);\n                setElapsed(0);\n                setRemotePubkey(null);\n                setLocalStream(null);\n                setRemoteStream(null);\n            }\n        });\n        const unsubStream = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.onStream((local, remote)=>{\n            setLocalStream(local);\n            setRemoteStream(remote);\n        });\n        return ()=>{\n            unsubState();\n            unsubStream();\n            _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.destroy(); // Cleans up nostr subscription on unmount\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (localVideoRef.current && localStream) {\n            localVideoRef.current.srcObject = localStream;\n        }\n    }, [\n        localStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (remoteVideoRef.current && remoteStream) {\n            remoteVideoRef.current.srcObject = remoteStream;\n        }\n    }, [\n        remoteStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (callState !== \"connected\") {\n            setElapsed(0);\n            return;\n        }\n        const interval = setInterval(()=>{\n            setElapsed(Math.floor((Date.now() - _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.callStartTime) / 1000));\n        }, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        callState\n    ]);\n    const handleToggleMute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const isMuted = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.toggleMute();\n        setMuted(isMuted);\n    }, []);\n    const handleToggleVideo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const isOff = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.toggleVideo();\n        setVideoOff(isOff);\n    }, []);\n    const contact = remotePubkey ? contacts.find((c)=>c.pubkey === remotePubkey) : null;\n    const displayName = contact?.name || (remotePubkey ? _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(remotePubkey) : \"Unknown\");\n    const formatElapsed = (s)=>{\n        const m = Math.floor(s / 60);\n        const sec = s % 60;\n        return `${m.toString().padStart(2, \"0\")}:${sec.toString().padStart(2, \"0\")}`;\n    };\n    if (callState === \"idle\" && !callError) return null;\n    if (callState === \"idle\" && callError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: -20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                exit: {\n                    opacity: 0,\n                    y: -20\n                },\n                className: \"fixed top-4 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 bg-red/90 backdrop-blur-sm rounded-2xl shadow-2xl shadow-red/20 text-white text-sm max-w-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-5 h-5 shrink-0\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                        lineNumber: 124,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: callError\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                        lineNumber: 125,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                lineNumber: 118,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n            lineNumber: 117,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n            initial: {\n                opacity: 0\n            },\n            animate: {\n                opacity: 1\n            },\n            exit: {\n                opacity: 0\n            },\n            className: \"fixed inset-0 z-[100] flex items-center justify-center\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 bg-bg/95 backdrop-blur-xl\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 139,\n                    columnNumber: 9\n                }, this),\n                callType === \"video\" && callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: remoteVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            className: \"absolute inset-0 w-full h-full object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 143,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 bg-black/20\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 149,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                            initial: {\n                                scale: 0.8,\n                                opacity: 0\n                            },\n                            animate: {\n                                scale: 1,\n                                opacity: 1\n                            },\n                            className: \"absolute top-4 right-4 w-32 h-44 sm:w-40 sm:h-56 rounded-2xl overflow-hidden border-2 border-white/20 shadow-2xl z-10\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                ref: localVideoRef,\n                                autoPlay: true,\n                                playsInline: true,\n                                muted: true,\n                                className: \"w-full h-full object-cover\",\n                                style: {\n                                    transform: \"scaleX(-1)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                lineNumber: 155,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 150,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true),\n                (callType === \"audio\" || callState !== \"connected\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative z-10 flex flex-col items-center\",\n                    children: [\n                        (callState === \"calling\" || callState === \"ringing\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute w-40 h-40 rounded-full border-2 border-accent/20 animate-pulse-ring\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 171,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute w-56 h-56 rounded-full border border-accent/10 animate-pulse-ring\",\n                                    style: {\n                                        animationDelay: \"0.5s\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                            initial: {\n                                scale: 0.5\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            transition: {\n                                type: \"spring\",\n                                stiffness: 200\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                pubkey: remotePubkey || \"\",\n                                name: contact?.name,\n                                picture: contact?.picture,\n                                size: \"xl\",\n                                showBorder: true\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 176,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.h2, {\n                            initial: {\n                                opacity: 0,\n                                y: 10\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                delay: 0.1\n                            },\n                            className: \"mt-6 text-xl font-bold text-text\",\n                            style: {\n                                fontFamily: \"Space Grotesk\"\n                            },\n                            children: displayName\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 190,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.p, {\n                            initial: {\n                                opacity: 0\n                            },\n                            animate: {\n                                opacity: 1\n                            },\n                            transition: {\n                                delay: 0.2\n                            },\n                            className: \"mt-2 text-sm text-text-secondary\",\n                            children: [\n                                callState === \"calling\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"animate-call-pulse\",\n                                    children: \"Calling...\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 207,\n                                    columnNumber: 17\n                                }, this),\n                                callState === \"ringing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"animate-call-pulse flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                            lineNumber: 211,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"Incoming \",\n                                        callType,\n                                        \" call\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 17\n                                }, this),\n                                callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-green\",\n                                    children: formatElapsed(elapsed)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 216,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 168,\n                    columnNumber: 11\n                }, this),\n                callType === \"video\" && callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-4 left-4 z-10 flex items-center gap-3 bg-black/50 backdrop-blur-sm rounded-2xl px-4 py-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            pubkey: remotePubkey || \"\",\n                            name: contact?.name,\n                            picture: contact?.picture,\n                            size: \"xs\",\n                            showBorder: true\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 224,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-medium text-white\",\n                                    children: displayName\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-green\",\n                                    children: formatElapsed(elapsed)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 227,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 225,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 223,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                    initial: {\n                        y: 50,\n                        opacity: 0\n                    },\n                    animate: {\n                        y: 0,\n                        opacity: 1\n                    },\n                    transition: {\n                        delay: 0.3\n                    },\n                    className: \"absolute bottom-8 sm:bottom-12 left-0 right-0 flex items-center justify-center gap-4 z-10\",\n                    children: [\n                        callState === \"ringing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.rejectCall(),\n                                    className: \"w-16 h-16 rounded-full bg-red flex items-center justify-center shadow-lg shadow-red/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 246,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 240,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.acceptCall(),\n                                    className: \"w-16 h-16 rounded-full bg-green flex items-center justify-center shadow-lg shadow-green/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 254,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 248,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        (callState === \"calling\" || callState === \"connected\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: handleToggleMute,\n                                    className: `w-14 h-14 rounded-full flex items-center justify-center transition-colors ${muted ? \"bg-red/20 text-red\" : \"bg-white/10 text-white hover:bg-white/20\"}`,\n                                    children: muted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 269,\n                                        columnNumber: 26\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 269,\n                                        columnNumber: 59\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 261,\n                                    columnNumber: 15\n                                }, this),\n                                callType === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: handleToggleVideo,\n                                    className: `w-14 h-14 rounded-full flex items-center justify-center transition-colors ${videoOff ? \"bg-red/20 text-red\" : \"bg-white/10 text-white hover:bg-white/20\"}`,\n                                    children: videoOff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 281,\n                                        columnNumber: 31\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 281,\n                                        columnNumber: 66\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 273,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.endCall(),\n                                    className: \"w-16 h-16 rounded-full bg-red flex items-center justify-center shadow-lg shadow-red/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 285,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 232,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n            lineNumber: 133,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n        lineNumber: 132,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVTt3Q0FBRWYsT0FBTztvQ0FBSTtvQ0FDdkJnQixTQUFTOUM7b0NBQ1R3QixXQUFXLENBQUMsMEVBQTBFLEVBQ3BGOUQsUUFBUSx1QkFBdUIsMkNBQ2hDLENBQUM7OENBRURBLHNCQUFRLDhEQUFDaEIsaUpBQU1BO3dDQUFDOEUsV0FBVTs7Ozs7NkRBQWUsOERBQUMvRSxpSkFBR0E7d0NBQUMrRSxXQUFVOzs7Ozs7Ozs7OztnQ0FHMURoRSxhQUFhLHlCQUNaLDhEQUFDckIsaURBQU1BLENBQUN3RyxNQUFNO29DQUNaQyxZQUFZO3dDQUFFZCxPQUFPO29DQUFJO29DQUN6QmUsVUFBVTt3Q0FBRWYsT0FBTztvQ0FBSTtvQ0FDdkJnQixTQUFTM0M7b0NBQ1RxQixXQUFXLENBQUMsMEVBQTBFLEVBQ3BGNUQsV0FBVyx1QkFBdUIsMkNBQ25DLENBQUM7OENBRURBLHlCQUFXLDhEQUFDcEIsaUpBQVFBO3dDQUFDZ0YsV0FBVTs7Ozs7NkRBQWUsOERBQUNqRixpSkFBS0E7d0NBQUNpRixXQUFVOzs7Ozs7Ozs7Ozs4Q0FJcEUsOERBQUNyRixpREFBTUEsQ0FBQ3dHLE1BQU07b0NBQ1pDLFlBQVk7d0NBQUVkLE9BQU87b0NBQUk7b0NBQ3pCZSxVQUFVO3dDQUFFZixPQUFPO29DQUFJO29DQUN2QmdCLFNBQVMsSUFBTWpHLHNEQUFhQSxDQUFDMkIsT0FBTztvQ0FDcENnRCxXQUFVOzhDQUVWLDRFQUFDbEYsaUpBQVFBO3dDQUFDa0YsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9jb21wb25lbnRzL0NhbGxPdmVybGF5LnRzeD9iZWFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHsgUGhvbmUsIFBob25lT2ZmLCBWaWRlbywgVmlkZW9PZmYsIE1pYywgTWljT2ZmLCBQaG9uZUluY29taW5nLCBBbGVydFRyaWFuZ2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHdlYnJ0Y01hbmFnZXIsIHR5cGUgQ2FsbFN0YXRlLCB0eXBlIENhbGxUeXBlIH0gZnJvbSAnLi4vbGliL3dlYnJ0Yyc7XG5pbXBvcnQgeyBub3N0ckNsaWVudCB9IGZyb20gJy4uL2xpYi9ub3N0cic7XG5pbXBvcnQgeyB1c2VBcHBTdGF0ZSB9IGZyb20gJy4uL2xpYi9zdG9yZSc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJy4vQXZhdGFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FsbE92ZXJsYXkoKSB7XG4gIGNvbnN0IHsgY29udGFjdHMsIGlzTG9nZ2VkSW4gfSA9IHVzZUFwcFN0YXRlKCk7XG4gIGNvbnN0IFtjYWxsU3RhdGUsIHNldENhbGxTdGF0ZV0gPSB1c2VTdGF0ZTxDYWxsU3RhdGU+KCdpZGxlJyk7XG4gIGNvbnN0IFtyZW1vdGVQdWJrZXksIHNldFJlbW90ZVB1YmtleV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NhbGxUeXBlLCBzZXRDYWxsVHlwZV0gPSB1c2VTdGF0ZTxDYWxsVHlwZT4oJ2F1ZGlvJyk7XG4gIGNvbnN0IFttdXRlZCwgc2V0TXV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmlkZW9PZmYsIHNldFZpZGVvT2ZmXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VsYXBzZWQsIHNldEVsYXBzZWRdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtsb2NhbFN0cmVhbSwgc2V0TG9jYWxTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlbW90ZVN0cmVhbSwgc2V0UmVtb3RlU3RyZWFtXSA9IHVzZVN0YXRlPE1lZGlhU3RyZWFtIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjYWxsRXJyb3IsIHNldENhbGxFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBsb2NhbFZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpO1xuICBjb25zdCByZW1vdGVWaWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcblxuICAvLyBFZmZlY3QgZm9yIGhhbmRsaW5nIGxvZ2luL2xvZ291dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNMb2dnZWRJbikge1xuICAgICAgd2VicnRjTWFuYWdlci5lbmRDYWxsKCk7IC8vIEZvcmNlIGVuZCBjYWxsIG9uIGxvZ291dFxuICAgICAgLy8gQWxzbyByZXNldCBjb21wb25lbnQgc3RhdGUgaW1tZWRpYXRlbHlcbiAgICAgIHNldENhbGxTdGF0ZSgnaWRsZScpO1xuICAgICAgc2V0UmVtb3RlUHVia2V5KG51bGwpO1xuICAgICAgc2V0TG9jYWxTdHJlYW0obnVsbCk7XG4gICAgICBzZXRSZW1vdGVTdHJlYW0obnVsbCk7XG4gICAgICBzZXRFbGFwc2VkKDApO1xuICAgIH1cbiAgfSwgW2lzTG9nZ2VkSW5dKTtcblxuICAvLyBFZmZlY3QgZm9yIG1hbmFnaW5nIHdlYnJ0YyBsaWZlY3ljbGUgYW5kIHN1YnNjcmlwdGlvbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3ZWJydGNNYW5hZ2VyLmluaXQoKTtcblxuICAgIGNvbnN0IHVuc3ViU3RhdGUgPSB3ZWJydGNNYW5hZ2VyLm9uU3RhdGVDaGFuZ2UoKHN0YXRlLCBwdWJrZXksIHR5cGUsIGVycm9yKSA9PiB7XG4gICAgICBzZXRDYWxsU3RhdGUoc3RhdGUpO1xuICAgICAgc2V0UmVtb3RlUHVia2V5KHB1YmtleSk7XG4gICAgICBzZXRDYWxsVHlwZSh0eXBlIHx8ICdhdWRpbycpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHNldENhbGxFcnJvcihlcnJvcik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Q2FsbEVycm9yKG51bGwpLCA0MDAwKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZSA9PT0gJ2lkbGUnKSB7XG4gICAgICAgIHNldE11dGVkKGZhbHNlKTtcbiAgICAgICAgc2V0VmlkZW9PZmYoZmFsc2UpO1xuICAgICAgICBzZXRFbGFwc2VkKDApO1xuICAgICAgICBzZXRSZW1vdGVQdWJrZXkobnVsbCk7XG4gICAgICAgIHNldExvY2FsU3RyZWFtKG51bGwpO1xuICAgICAgICBzZXRSZW1vdGVTdHJlYW0obnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB1bnN1YlN0cmVhbSA9IHdlYnJ0Y01hbmFnZXIub25TdHJlYW0oKGxvY2FsLCByZW1vdGUpID0+IHtcbiAgICAgIHNldExvY2FsU3RyZWFtKGxvY2FsKTtcbiAgICAgIHNldFJlbW90ZVN0cmVhbShyZW1vdGUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3ViU3RhdGUoKTtcbiAgICAgIHVuc3ViU3RyZWFtKCk7XG4gICAgICB3ZWJydGNNYW5hZ2VyLmRlc3Ryb3koKTsgLy8gQ2xlYW5zIHVwIG5vc3RyIHN1YnNjcmlwdGlvbiBvbiB1bm1vdW50XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGxvY2FsVmlkZW9SZWYuY3VycmVudCAmJiBsb2NhbFN0cmVhbSkge1xuICAgICAgbG9jYWxWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IGxvY2FsU3RyZWFtO1xuICAgIH1cbiAgfSwgW2xvY2FsU3RyZWFtXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVtb3RlVmlkZW9SZWYuY3VycmVudCAmJiByZW1vdGVTdHJlYW0pIHtcbiAgICAgIHJlbW90ZVZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgIH1cbiAgfSwgW3JlbW90ZVN0cmVhbV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhbGxTdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgIHNldEVsYXBzZWQoMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0RWxhcHNlZChNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gd2VicnRjTWFuYWdlci5jYWxsU3RhcnRUaW1lKSAvIDEwMDApKTtcbiAgICB9LCAxMDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtjYWxsU3RhdGVdKTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVNdXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGlzTXV0ZWQgPSB3ZWJydGNNYW5hZ2VyLnRvZ2dsZU11dGUoKTtcbiAgICBzZXRNdXRlZChpc011dGVkKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVZpZGVvID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGlzT2ZmID0gd2VicnRjTWFuYWdlci50b2dnbGVWaWRlbygpO1xuICAgIHNldFZpZGVvT2ZmKGlzT2ZmKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGNvbnRhY3QgPSByZW1vdGVQdWJrZXkgPyBjb250YWN0cy5maW5kKGMgPT4gYy5wdWJrZXkgPT09IHJlbW90ZVB1YmtleSkgOiBudWxsO1xuICBjb25zdCBkaXNwbGF5TmFtZSA9IGNvbnRhY3Q/Lm5hbWUgfHwgKHJlbW90ZVB1YmtleSA/IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkocmVtb3RlUHVia2V5KSA6ICdVbmtub3duJyk7XG5cbiAgY29uc3QgZm9ybWF0RWxhcHNlZCA9IChzOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBtID0gTWF0aC5mbG9vcihzIC8gNjApO1xuICAgIGNvbnN0IHNlYyA9IHMgJSA2MDtcbiAgICByZXR1cm4gYCR7bS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2VjLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICB9O1xuXG4gIGlmIChjYWxsU3RhdGUgPT09ICdpZGxlJyAmJiAhY2FsbEVycm9yKSByZXR1cm4gbnVsbDtcblxuICBpZiAoY2FsbFN0YXRlID09PSAnaWRsZScgJiYgY2FsbEVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAtMjAgfX1cbiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHk6IC0yMCB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgei1bMTAwXSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC01IHB5LTMgYmctcmVkLzkwIGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC0yeGwgc2hhZG93LTJ4bCBzaGFkb3ctcmVkLzIwIHRleHQtd2hpdGUgdGV4dC1zbSBtYXgtdy1tZFwiXG4gICAgICAgID5cbiAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHNocmluay0wXCIgLz5cbiAgICAgICAgICA8c3Bhbj57Y2FsbEVycm9yfTwvc3Bhbj5cbiAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bMTAwXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1iZy85NSBiYWNrZHJvcC1ibHVyLXhsXCIgLz5cblxuICAgICAgICB7Y2FsbFR5cGUgPT09ICd2aWRlbycgJiYgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICByZWY9e3JlbW90ZVZpZGVvUmVmfVxuICAgICAgICAgICAgICBhdXRvUGxheVxuICAgICAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMjBcIiAvPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBzY2FsZTogMC44LCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgc2NhbGU6IDEsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCB3LTMyIGgtNDQgc206dy00MCBzbTpoLTU2IHJvdW5kZWQtMnhsIG92ZXJmbG93LWhpZGRlbiBib3JkZXItMiBib3JkZXItd2hpdGUvMjAgc2hhZG93LTJ4bCB6LTEwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAgICAgcmVmPXtsb2NhbFZpZGVvUmVmfVxuICAgICAgICAgICAgICAgIGF1dG9QbGF5XG4gICAgICAgICAgICAgICAgcGxheXNJbmxpbmVcbiAgICAgICAgICAgICAgICBtdXRlZFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06ICdzY2FsZVgoLTEpJyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuXG4gICAgICAgIHsoY2FsbFR5cGUgPT09ICdhdWRpbycgfHwgY2FsbFN0YXRlICE9PSAnY29ubmVjdGVkJykgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgeyhjYWxsU3RhdGUgPT09ICdjYWxsaW5nJyB8fCBjYWxsU3RhdGUgPT09ICdyaW5naW5nJykgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy00MCBoLTQwIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItYWNjZW50LzIwIGFuaW1hdGUtcHVsc2UtcmluZ1wiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTU2IGgtNTYgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItYWNjZW50LzEwIGFuaW1hdGUtcHVsc2UtcmluZ1wiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMC41cycgfX0gLz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IHNjYWxlOiAwLjUgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBzY2FsZTogMSB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IHR5cGU6ICdzcHJpbmcnLCBzdGlmZm5lc3M6IDIwMCB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgICAgcHVia2V5PXtyZW1vdGVQdWJrZXkgfHwgJyd9XG4gICAgICAgICAgICAgICAgbmFtZT17Y29udGFjdD8ubmFtZX1cbiAgICAgICAgICAgICAgICBwaWN0dXJlPXtjb250YWN0Py5waWN0dXJlfVxuICAgICAgICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgICAgICAgc2hvd0JvcmRlcj17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICAgICAgPG1vdGlvbi5oMlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDEwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjEgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lfVxuICAgICAgICAgICAgPC9tb3Rpb24uaDI+XG5cbiAgICAgICAgICAgIDxtb3Rpb24ucFxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuMiB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjYWxsU3RhdGUgPT09ICdjYWxsaW5nJyAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYW5pbWF0ZS1jYWxsLXB1bHNlXCI+Q2FsbGluZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2NhbGxTdGF0ZSA9PT0gJ3JpbmdpbmcnICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhbmltYXRlLWNhbGwtcHVsc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxQaG9uZUluY29taW5nIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgSW5jb21pbmcge2NhbGxUeXBlfSBjYWxsXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7Y2FsbFN0YXRlID09PSAnY29ubmVjdGVkJyAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlblwiPntmb3JtYXRFbGFwc2VkKGVsYXBzZWQpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvbW90aW9uLnA+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2NhbGxUeXBlID09PSAndmlkZW8nICYmIGNhbGxTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgbGVmdC00IHotMTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLTJ4bCBweC00IHB5LTJcIj5cbiAgICAgICAgICAgIDxBdmF0YXIgcHVia2V5PXtyZW1vdGVQdWJrZXkgfHwgJyd9IG5hbWU9e2NvbnRhY3Q/Lm5hbWV9IHBpY3R1cmU9e2NvbnRhY3Q/LnBpY3R1cmV9IHNpemU9XCJ4c1wiIHNob3dCb3JkZXIgLz5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiPntkaXNwbGF5TmFtZX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmVlblwiPntmb3JtYXRFbGFwc2VkKGVsYXBzZWQpfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgaW5pdGlhbD17eyB5OiA1MCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgeTogMCwgb3BhY2l0eTogMSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuMyB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS04IHNtOmJvdHRvbS0xMiBsZWZ0LTAgcmlnaHQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtNCB6LTEwXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtjYWxsU3RhdGUgPT09ICdyaW5naW5nJyAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLnJlamVjdENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLXJlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgc2hhZG93LXJlZC8zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGhvbmVPZmYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLmFjY2VwdENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLWdyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyBzaGFkb3ctZ3JlZW4vMzBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFBob25lIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7KGNhbGxTdGF0ZSA9PT0gJ2NhbGxpbmcnIHx8IGNhbGxTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcpICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZU11dGV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy0xNCBoLTE0IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgICAgbXV0ZWQgPyAnYmctcmVkLzIwIHRleHQtcmVkJyA6ICdiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge211dGVkID8gPE1pY09mZiBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz4gOiA8TWljIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPn1cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgICAgIHtjYWxsVHlwZSA9PT0gJ3ZpZGVvJyAmJiAoXG4gICAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlVmlkZW99XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTE0IGgtMTQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvT2ZmID8gJ2JnLXJlZC8yMCB0ZXh0LXJlZCcgOiAnYmctd2hpdGUvMTAgdGV4dC13aGl0ZSBob3ZlcjpiZy13aGl0ZS8yMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt2aWRlb09mZiA/IDxWaWRlb09mZiBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz4gOiA8VmlkZW8gY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+fVxuICAgICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLmVuZENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLXJlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgc2hhZG93LXJlZC8zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGhvbmVPZmYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgPC9tb3Rpb24uZGl2PlxuICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJtb3Rpb24iLCJBbmltYXRlUHJlc2VuY2UiLCJQaG9uZSIsIlBob25lT2ZmIiwiVmlkZW8iLCJWaWRlb09mZiIsIk1pYyIsIk1pY09mZiIsIlBob25lSW5jb21pbmciLCJBbGVydFRyaWFuZ2xlIiwid2VicnRjTWFuYWdlciIsIm5vc3RyQ2xpZW50IiwidXNlQXBwU3RhdGUiLCJBdmF0YXIiLCJDYWxsT3ZlcmxheSIsImNvbnRhY3RzIiwiaXNMb2dnZWRJbiIsImNhbGxTdGF0ZSIsInNldENhbGxTdGF0ZSIsInJlbW90ZVB1YmtleSIsInNldFJlbW90ZVB1YmtleSIsImNhbGxUeXBlIiwic2V0Q2FsbFR5cGUiLCJtdXRlZCIsInNldE11dGVkIiwidmlkZW9PZmYiLCJzZXRWaWRlb09mZiIsImVsYXBzZWQiLCJzZXRFbGFwc2VkIiwibG9jYWxTdHJlYW0iLCJzZXRMb2NhbFN0cmVhbSIsInJlbW90ZVN0cmVhbSIsInNldFJlbW90ZVN0cmVhbSIsImNhbGxFcnJvciIsInNldENhbGxFcnJvciIsImxvY2FsVmlkZW9SZWYiLCJyZW1vdGVWaWRlb1JlZiIsImVuZENhbGwiLCJpbml0IiwidW5zdWJTdGF0ZSIsIm9uU3RhdGVDaGFuZ2UiLCJzdGF0ZSIsInB1YmtleSIsInR5cGUiLCJlcnJvciIsInNldFRpbWVvdXQiLCJ1bnN1YlN0cmVhbSIsIm9uU3RyZWFtIiwibG9jYWwiLCJyZW1vdGUiLCJkZXN0cm95IiwiY3VycmVudCIsInNyY09iamVjdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiY2FsbFN0YXJ0VGltZSIsImNsZWFySW50ZXJ2YWwiLCJoYW5kbGVUb2dnbGVNdXRlIiwiaXNNdXRlZCIsInRvZ2dsZU11dGUiLCJoYW5kbGVUb2dnbGVWaWRlbyIsImlzT2ZmIiwidG9nZ2xlVmlkZW8iLCJjb250YWN0IiwiZmluZCIsImMiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJzaG9ydGVuS2V5IiwiZm9ybWF0RWxhcHNlZCIsInMiLCJtIiwic2VjIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImRpdiIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsImFuaW1hdGUiLCJleGl0IiwiY2xhc3NOYW1lIiwic3BhbiIsInZpZGVvIiwicmVmIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsInNjYWxlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJhbmltYXRpb25EZWxheSIsInRyYW5zaXRpb24iLCJzdGlmZm5lc3MiLCJwaWN0dXJlIiwic2l6ZSIsInNob3dCb3JkZXIiLCJoMiIsImRlbGF5IiwiZm9udEZhbWlseSIsInAiLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJvbkNsaWNrIiwicmVqZWN0Q2FsbCIsImFjY2VwdENhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/CallOverlay.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatView.tsx":
/*!*************************************!*\
  !*** ./src/components/ChatView.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/menu.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/reply.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Mic,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _lib_chunkStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n/* harmony import */ var _lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/fileUtils */ \"(ssr)/./src/lib/fileUtils.ts\");\n/* harmony import */ var _lib_webrtc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/webrtc */ \"(ssr)/./src/lib/webrtc.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n/* harmony import */ var _AudioRecorder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AudioRecorder */ \"(ssr)/./src/components/AudioRecorder.tsx\");\n/* harmony import */ var _AudioPlayer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./AudioPlayer */ \"(ssr)/./src/components/AudioPlayer.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Highlight({ text, highlight }) {\n    if (!highlight.trim()) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            children: text\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n            lineNumber: 42,\n            columnNumber: 12\n        }, this);\n    }\n    const regex = new RegExp(`(${highlight})`, \"gi\");\n    const parts = text.split(regex);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        children: parts.map((part, i)=>regex.test(part) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mark\", {\n                className: \"bg-yellow-300 text-black rounded-sm\",\n                children: part\n            }, i, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 51,\n                columnNumber: 11\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: part\n            }, i, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 55,\n                columnNumber: 11\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n        lineNumber: 48,\n        columnNumber: 5\n    }, this);\n}\nfunction ChatView() {\n    const { activeChat, contacts, channels } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.useAppState)();\n    const isChannel = !!activeChat && activeChat.startsWith(\"channel:\");\n    const channelId = isChannel ? activeChat.slice(\"channel:\".length) : \"\";\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [pendingAttachment, setPendingAttachment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sendProgress, setSendProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [replyTo, setReplyTo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewImage, setPreviewImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearchVisible, setIsSearchVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRecordingAudio, setIsRecordingAudio] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const contact = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>contacts.find((c)=>c.pubkey === activeChat), [\n        contacts,\n        activeChat\n    ]);\n    const channel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>channels.find((c)=>c.id === channelId), [\n        channels,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isSearchVisible) {\n            searchInputRef.current?.focus();\n        }\n    }, [\n        isSearchVisible\n    ]);\n    const filteredMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!searchQuery.trim()) return messages;\n        return messages.filter((msg)=>msg.content?.toLowerCase().includes(searchQuery.toLowerCase()));\n    }, [\n        messages,\n        searchQuery\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat) return;\n        if (isChannel) {\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n        } else {\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.requestProfile(activeChat);\n        }\n        setPendingAttachment(null);\n        setSendProgress(null);\n        setReplyTo(null);\n        setError(\"\");\n        setIsRecordingAudio(false);\n    }, [\n        activeChat,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubMsg = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onMessage((msg)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n            if (!activeChat || isChannel) return;\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n        });\n        const unsubChannel = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onChannelMessage((msg)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addChannelMessage)(msg);\n            if (!channelId || !isChannel || msg.channelId !== channelId) return;\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n        });\n        return ()=>{\n            unsubMsg();\n            unsubChannel();\n        };\n    }, [\n        activeChat,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsub = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onProfile((pubkey, profile)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.updateContactProfile)(pubkey, profile.name, profile.picture, profile.about);\n        });\n        return unsub;\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat) return;\n        setMessages(isChannel ? (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId) : (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n    }, [\n        activeChat,\n        contacts,\n        channels,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (searchQuery) return;\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages,\n        searchQuery\n    ]);\n    const handleSend = async ()=>{\n        if (!input.trim() && !pendingAttachment || !activeChat || sending) return;\n        const text = input.trim();\n        setInput(\"\");\n        setSending(true);\n        setError(\"\");\n        setSendProgress(null);\n        setIsRecordingAudio(false);\n        try {\n            if (isChannel) {\n                if (pendingAttachment) throw new Error(\"Attachments are not supported in public channels.\");\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendChannelMessage(channelId, text, replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addChannelMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n            } else if (pendingAttachment) {\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendAttachment(activeChat, pendingAttachment, text, (sent, total)=>setSendProgress({\n                        sent,\n                        total\n                    }), replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n                setPendingAttachment(null);\n            } else {\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendDirectMessage(activeChat, text, replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n            }\n            setReplyTo(null);\n            setSendProgress(null);\n        } catch (err) {\n            setError(err.message || \"Failed to send\");\n        } finally{\n            setSending(false);\n        }\n    };\n    const handleCall = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type)=>{\n        if (!activeChat || isChannel) return;\n        _lib_webrtc__WEBPACK_IMPORTED_MODULE_7__.webrtcManager.initiateCall(activeChat, type);\n    }, [\n        activeChat,\n        isChannel\n    ]);\n    const handleFileSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        e.target.value = \"\";\n        setError(\"\");\n        try {\n            const attachment = await (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.processFile)(file);\n            if (attachment) {\n                setPendingAttachment(attachment);\n                setIsRecordingAudio(false);\n            }\n        } catch (err) {\n            setError(err.message);\n        }\n    }, []);\n    const handleAudioSend = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (audioBlob)=>{\n        const file = new File([\n            audioBlob\n        ], \"voice-message.webm\", {\n            type: \"audio/webm\"\n        });\n        setError(\"\");\n        try {\n            const attachment = await (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.processFile)(file);\n            if (attachment) {\n                setPendingAttachment(attachment);\n                setIsRecordingAudio(false);\n                if (!activeChat || sending) return;\n                setSending(true);\n                setError(\"\");\n                try {\n                    const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendAttachment(activeChat, attachment, \"\", (sent, total)=>setSendProgress({\n                            sent,\n                            total\n                        }), replyTo || undefined);\n                    (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                    setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n                    setPendingAttachment(null);\n                } catch (err) {\n                    setError(err.message || \"Failed to send\");\n                } finally{\n                    setSending(false);\n                    setSendProgress(null);\n                }\n            }\n        } catch (err) {\n            setError(err.message);\n        }\n    }, [\n        activeChat,\n        sending,\n        replyTo\n    ]);\n    const handleCopy = async (text, id)=>{\n        await navigator.clipboard.writeText(text);\n        setCopied(id);\n        setTimeout(()=>setCopied(\"\"), 1400);\n    };\n    const handleDownload = async (msg)=>{\n        if (!msg.attachment) return;\n        if (msg.attachment.chunked && msg.attachment.transferId) {\n            await (0,_lib_chunkStore__WEBPACK_IMPORTED_MODULE_5__.downloadChunkedTransfer)(msg.attachment.transferId, msg.attachment.name, msg.attachment.mimeType);\n            return;\n        }\n        (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.downloadAttachment)(msg.attachment);\n    };\n    if (!activeChat) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex-1 flex items-center justify-center bg-bg\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-text mb-2\",\n                        style: {\n                            fontFamily: \"Space Grotesk\"\n                        },\n                        children: \"Anonymous Decentralized Messenger\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 265,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-text-secondary text-sm\",\n                        children: \"Choose contact or channel to start.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 266,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 264,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n            lineNumber: 263,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col bg-bg h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-b border-border bg-bg-secondary/50 backdrop-blur-sm flex items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: _lib_store__WEBPACK_IMPORTED_MODULE_4__.goBackToSidebar,\n                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary md:hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 276,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 275,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: _lib_store__WEBPACK_IMPORTED_MODULE_4__.toggleSidebar,\n                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hidden lg:block\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 279,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 9\n                    }, this),\n                    isChannel ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-8 h-8 rounded-full bg-cyan/15 border border-cyan/25 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            className: \"w-4 h-4 text-cyan\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 284,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        pubkey: activeChat,\n                        name: contact?.name,\n                        picture: contact?.picture,\n                        size: \"sm\",\n                        showBorder: true\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 287,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            initial: false,\n                            mode: \"wait\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: -10\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0,\n                                    y: 10\n                                },\n                                transition: {\n                                    duration: 0.2\n                                },\n                                className: \"w-full\",\n                                children: isSearchVisible ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-full\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 302,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: searchInputRef,\n                                            type: \"text\",\n                                            value: searchQuery,\n                                            onChange: (e)=>setSearchQuery(e.target.value),\n                                            placeholder: \"Search in chat...\",\n                                            className: \"w-full bg-bg-tertiary border border-border rounded-lg pl-8 pr-8 py-1 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 303,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setIsSearchVisible(false);\n                                                setSearchQuery(\"\");\n                                            },\n                                            className: \"absolute right-2 top-1/2 -translate-y-1/2 p-0.5 text-text-muted hover:text-text\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 312,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 311,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 301,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm font-medium text-text truncate\",\n                                            children: isChannel ? `# ${channel?.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(channelId)}` : contact?.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(activeChat)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 317,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[10px] text-text-muted\",\n                                            children: isChannel ? \"Public channel over relays\" : \"Encrypted DM over relays\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 320,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 316,\n                                    columnNumber: 17\n                                }, this)\n                            }, isSearchVisible ? \"search\" : \"title\", false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 292,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 291,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 290,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setIsSearchVisible(!isSearchVisible),\n                                className: `p-2 rounded-lg hover:bg-bg-hover transition-colors ${isSearchVisible ? \"bg-bg-tertiary text-accent\" : \"text-text-muted hover:text-text-secondary\"}`,\n                                title: \"Search\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 331,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 330,\n                                columnNumber: 11\n                            }, this),\n                            !isChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCall(\"audio\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-green transition-colors\",\n                                        title: \"Audio call\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 335,\n                                            columnNumber: 174\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 335,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCall(\"video\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                        title: \"Video call\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 336,\n                                            columnNumber: 175\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCopy(activeChat, \"header\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-text-secondary transition-colors\",\n                                        title: \"Copy key\",\n                                        children: copied === \"header\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                            className: \"w-4 h-4 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 338,\n                                            columnNumber: 40\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 338,\n                                            columnNumber: 83\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 329,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 274,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto px-4 py-4 space-y-2\",\n                children: [\n                    filteredMessages.map((msg)=>{\n                        const isMe = msg.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                            initial: {\n                                opacity: 0,\n                                y: 8\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            className: `flex ${isMe ? \"justify-end\" : \"justify-start\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `group relative max-w-[78%] rounded-2xl text-sm overflow-hidden ${isMe ? \"bg-accent text-white rounded-br-md\" : \"bg-bg-secondary border border-border text-text rounded-bl-md\"}`,\n                                children: [\n                                    msg.replyTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `mx-2 mt-2 px-2 py-1 rounded-md text-[11px] ${isMe ? \"bg-white/15 text-white/80\" : \"bg-bg-tertiary text-text-secondary\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium truncate\",\n                                                children: msg.replyTo.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey ? \"You\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(msg.replyTo.from)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 353,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"truncate\",\n                                                children: msg.replyTo.text\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 354,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 352,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.msgType === \"image\" && msg.attachment && !msg.attachment.chunked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"cursor-pointer\",\n                                        onClick: ()=>setPreviewImage(`data:${msg.attachment.mimeType};base64,${msg.attachment.data}`),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            src: `data:${msg.attachment.mimeType};base64,${msg.attachment.data}`,\n                                            alt: msg.attachment.name,\n                                            width: 300,\n                                            height: 200,\n                                            className: \"max-w-full max-h-64 rounded-t-2xl object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 360,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 359,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.msgType === \"audio\" && msg.attachment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-2 py-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AudioPlayer__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                            message: msg,\n                                            isMe: isMe\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 366,\n                                            columnNumber: 25\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 365,\n                                        columnNumber: 21\n                                    }, this),\n                                    msg.attachment && msg.msgType === \"file\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 px-3.5 pt-3 cursor-pointer\",\n                                        onClick: ()=>handleDownload(msg),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-10 h-10 rounded-xl flex items-center justify-center text-lg ${isMe ? \"bg-white/15\" : \"bg-bg-tertiary\"}`,\n                                                children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.getFileIcon)(msg.attachment.mimeType)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 372,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs font-medium truncate ${isMe ? \"text-white\" : \"text-text\"}`,\n                                                        children: msg.attachment.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 376,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-[10px] ${isMe ? \"text-white/60\" : \"text-text-muted\"}`,\n                                                        children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(msg.attachment.size)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 377,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 375,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: `w-4 h-4 shrink-0 ${isMe ? \"text-white/60\" : \"text-text-muted\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 379,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 371,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.attachment && msg.msgType === \"image\" && msg.attachment.chunked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 px-3.5 pt-3 cursor-pointer\",\n                                        onClick: ()=>handleDownload(msg),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-10 h-10 rounded-xl flex items-center justify-center text-lg ${isMe ? \"bg-white/15\" : \"bg-bg-tertiary\"}`,\n                                                children: \"\\uD83D\\uDDBC\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 385,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs font-medium truncate ${isMe ? \"text-white\" : \"text-text\"}`,\n                                                        children: msg.attachment.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 387,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-[10px] ${isMe ? \"text-white/60\" : \"text-text-muted\"}`,\n                                                        children: \"Chunked image, click to download\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 388,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 386,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: `w-4 h-4 shrink-0 ${isMe ? \"text-white/60\" : \"text-text-muted\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 390,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 384,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3.5 py-2.5\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"whitespace-pre-wrap break-words\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Highlight, {\n                                                text: msg.content,\n                                                highlight: searchQuery\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 397,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 396,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 395,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `flex items-center gap-1 px-3.5 pb-2 ${isMe ? \"justify-end\" : \"justify-start\"}`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-[10px] ${isMe ? \"text-white/50\" : \"text-text-muted\"}`,\n                                            children: new Date(msg.timestamp).toLocaleTimeString([], {\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 403,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 402,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `absolute top-1 ${isMe ? \"left-0 -translate-x-9\" : \"right-0 translate-x-9\"} flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity`,\n                                        children: [\n                                            msg.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleCopy(msg.content, msg.id),\n                                                className: \"p-1 rounded bg-bg-secondary border border-border\",\n                                                children: copied === msg.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                    className: \"w-3 h-3 text-green\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 411,\n                                                    columnNumber: 44\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                    className: \"w-3 h-3 text-text-muted\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 411,\n                                                    columnNumber: 87\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 410,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setReplyTo({\n                                                        id: msg.id,\n                                                        from: msg.from,\n                                                        text: msg.content || msg.attachment?.name || \"\"\n                                                    }),\n                                                className: \"p-1 rounded bg-bg-secondary border border-border\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    className: \"w-3 h-3 text-text-muted\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 415,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 414,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 408,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 350,\n                                columnNumber: 15\n                            }, this)\n                        }, msg.id, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 349,\n                            columnNumber: 13\n                        }, this);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 422,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 345,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: replyTo && !isRecordingAudio && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 py-2 border-t border-border bg-bg-secondary/40 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-start justify-between gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-[11px] text-text-muted\",\n                                        children: [\n                                            \"Reply to \",\n                                            replyTo.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey ? \"you\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(replyTo.from)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 430,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-text-secondary truncate\",\n                                        children: replyTo.text || \"(attachment)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 431,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 429,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setReplyTo(null),\n                                className: \"p-1.5 rounded hover:bg-bg-hover\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: \"w-3.5 h-3.5 text-text-muted\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 433,\n                                    columnNumber: 100\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 433,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 428,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 427,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 425,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: pendingAttachment && !isRecordingAudio && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 border-t border-border bg-bg-secondary/30 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-3 flex items-center gap-3\",\n                        children: [\n                            pendingAttachment.type === \"image\" && pendingAttachment.data ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 rounded-xl overflow-hidden border border-border shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: `data:${pendingAttachment.mimeType};base64,${pendingAttachment.data}`,\n                                    alt: \"Attachment preview\",\n                                    width: 64,\n                                    height: 64,\n                                    className: \"w-full h-full object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 rounded-xl bg-bg-tertiary border border-border flex items-center justify-center text-2xl shrink-0\",\n                                children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.getFileIcon)(pendingAttachment.mimeType)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 448,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-text truncate\",\n                                        children: pendingAttachment.name\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 451,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-text-muted\",\n                                        children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(pendingAttachment.size)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 450,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setPendingAttachment(null),\n                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-red transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 455,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 454,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 441,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 439,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: isRecordingAudio && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AudioRecorder__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    onSend: handleAudioSend,\n                    onCancel: ()=>setIsRecordingAudio(false)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 463,\n                    columnNumber: 32\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 462,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: sendProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 border-t border-border bg-bg-secondary/30 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between text-xs text-text-secondary mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                className: \"w-3 h-3 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 472,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Uploading...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 471,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            sendProgress.sent,\n                                            \"/\",\n                                            sendProgress.total,\n                                            \" chunks\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 475,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 470,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full h-1.5 bg-bg-tertiary rounded-full overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                                    className: \"h-full bg-accent rounded-full\",\n                                    initial: {\n                                        width: 0\n                                    },\n                                    animate: {\n                                        width: `${sendProgress.sent / sendProgress.total * 100}%`\n                                    },\n                                    transition: {\n                                        duration: 0.2\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 478,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 477,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 469,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 468,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 466,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 py-2 bg-red-dim border-t border-red/20\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-red\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 488,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 487,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 485,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-t border-border bg-bg-secondary/30\",\n                children: !isRecordingAudio && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-end gap-2\",\n                    children: [\n                        !isChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-0.5 pb-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>imageInputRef.current?.click(),\n                                    className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                    title: \"Send image\",\n                                    disabled: sending,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 499,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 498,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>fileInputRef.current?.click(),\n                                    className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                    title: \"Send file\",\n                                    disabled: sending,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 502,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 501,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 497,\n                            columnNumber: 17\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: imageInputRef,\n                            type: \"file\",\n                            accept: \"image/*\",\n                            className: \"hidden\",\n                            onChange: handleFileSelect\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: fileInputRef,\n                            type: \"file\",\n                            className: \"hidden\",\n                            onChange: handleFileSelect\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 508,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\" && !e.shiftKey) {\n                                    e.preventDefault();\n                                    handleSend();\n                                }\n                            },\n                            placeholder: pendingAttachment ? \"Add caption...\" : isChannel ? \"Post message to channel...\" : \"Write message...\",\n                            rows: 1,\n                            disabled: sending,\n                            className: \"flex-1 bg-bg-tertiary border border-border rounded-xl px-4 py-3 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none max-h-32 disabled:opacity-50\",\n                            style: {\n                                minHeight: \"44px\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 510,\n                            columnNumber: 13\n                        }, this),\n                        !input.trim() && !pendingAttachment && !isChannel ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.button, {\n                            whileHover: {\n                                scale: sending ? 1 : 1.05\n                            },\n                            whileTap: {\n                                scale: sending ? 1 : 0.95\n                            },\n                            onClick: ()=>setIsRecordingAudio(true),\n                            disabled: sending,\n                            className: \"p-3 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-colors shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 528,\n                                columnNumber: 21\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 527,\n                            columnNumber: 17\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.button, {\n                            whileHover: {\n                                scale: sending ? 1 : 1.05\n                            },\n                            whileTap: {\n                                scale: sending ? 1 : 0.95\n                            },\n                            onClick: handleSend,\n                            disabled: !input.trim() && !pendingAttachment || sending,\n                            className: \"p-3 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-colors shrink-0\",\n                            children: sending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                className: \"w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 532,\n                                columnNumber: 32\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 532,\n                                columnNumber: 79\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 531,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 495,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 493,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: previewImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                    initial: {\n                        opacity: 0\n                    },\n                    animate: {\n                        opacity: 1\n                    },\n                    exit: {\n                        opacity: 0\n                    },\n                    className: \"fixed inset-0 z-[90] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4\",\n                    onClick: ()=>setPreviewImage(null),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"absolute top-4 right-4 p-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors z-10\",\n                            onClick: ()=>setPreviewImage(null),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Mic_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                className: \"w-6 h-6\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 543,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 542,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {\n                            initial: {\n                                scale: 0.9\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            exit: {\n                                scale: 0.9\n                            },\n                            className: \"relative max-w-full max-h-full\",\n                            onClick: (e)=>e.stopPropagation(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                src: previewImage,\n                                alt: \"Image preview\",\n                                layout: \"fill\",\n                                objectFit: \"contain\",\n                                className: \"rounded-lg\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 546,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 545,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 541,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 539,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n        lineNumber: 273,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEIsQ0FBQUEsSUFBS0EsRUFBRXFFLGVBQWU7c0NBQzFKLDRFQUFDckwsa0RBQVNBO2dDQUFDNkosS0FBS3RHO2dDQUFjdUcsS0FBSTtnQ0FBZ0J3QixRQUFPO2dDQUFPQyxXQUFVO2dDQUFVdEosV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU81RyIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9DaGF0Vmlldy50c3g/NDFiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7XG4gIEFycm93TGVmdCxcbiAgQ2hlY2ssXG4gIENvcHksXG4gIERvd25sb2FkLFxuICBIYXNoLFxuICBJbWFnZSBhcyBJbWFnZUljb24sXG4gIExvYWRlcjIsXG4gIE1lbnUsXG4gIE1pYyxcbiAgUGFwZXJjbGlwLFxuICBQaG9uZSxcbiAgUmVwbHksXG4gIFNlbmQsXG4gIFNlYXJjaCxcbiAgVmlkZW8sXG4gIFgsXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgTmV4dEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQsIHR5cGUgQXR0YWNobWVudCwgdHlwZSBEaXJlY3RNZXNzYWdlLCB0eXBlIFJlcGx5UmVmIH0gZnJvbSAnLi4vbGliL25vc3RyJztcbmltcG9ydCB7XG4gIGFkZENoYW5uZWxNZXNzYWdlLFxuICBhZGRNZXNzYWdlLFxuICBnZXRDaGFubmVsTWVzc2FnZXMsXG4gIGdldE1lc3NhZ2VzLFxuICBnb0JhY2tUb1NpZGViYXIsXG4gIHRvZ2dsZVNpZGViYXIsXG4gIHVwZGF0ZUNvbnRhY3RQcm9maWxlLFxuICB1c2VBcHBTdGF0ZSxcbn0gZnJvbSAnLi4vbGliL3N0b3JlJztcbmltcG9ydCB7IGRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIH0gZnJvbSAnLi4vbGliL2NodW5rU3RvcmUnO1xuaW1wb3J0IHsgZG93bmxvYWRBdHRhY2htZW50LCBmb3JtYXRGaWxlU2l6ZSwgZ2V0RmlsZUljb24sIHByb2Nlc3NGaWxlIH0gZnJvbSAnLi4vbGliL2ZpbGVVdGlscyc7XG5pbXBvcnQgeyB3ZWJydGNNYW5hZ2VyIH0gZnJvbSAnLi4vbGliL3dlYnJ0Yyc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJy4vQXZhdGFyJztcbmltcG9ydCBBdWRpb1JlY29yZGVyIGZyb20gJy4vQXVkaW9SZWNvcmRlcic7XG5pbXBvcnQgQXVkaW9QbGF5ZXIgZnJvbSAnLi9BdWRpb1BsYXllcic7XG5cbmZ1bmN0aW9uIEhpZ2hsaWdodCh7IHRleHQsIGhpZ2hsaWdodCB9OiB7IHRleHQ6IHN0cmluZzsgaGlnaGxpZ2h0OiBzdHJpbmcgfSkge1xuICBpZiAoIWhpZ2hsaWdodC50cmltKCkpIHtcbiAgICByZXR1cm4gPHNwYW4+e3RleHR9PC9zcGFuPjtcbiAgfVxuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYCgke2hpZ2hsaWdodH0pYCwgJ2dpJyk7XG4gIGNvbnN0IHBhcnRzID0gdGV4dC5zcGxpdChyZWdleCk7XG5cbiAgcmV0dXJuIChcbiAgICA8c3Bhbj5cbiAgICAgIHtwYXJ0cy5tYXAoKHBhcnQsIGkpID0+XG4gICAgICAgIHJlZ2V4LnRlc3QocGFydCkgPyAoXG4gICAgICAgICAgPG1hcmsga2V5PXtpfSBjbGFzc05hbWU9XCJiZy15ZWxsb3ctMzAwIHRleHQtYmxhY2sgcm91bmRlZC1zbVwiPlxuICAgICAgICAgICAge3BhcnR9XG4gICAgICAgICAgPC9tYXJrPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxzcGFuIGtleT17aX0+e3BhcnR9PC9zcGFuPlxuICAgICAgICApLFxuICAgICAgKX1cbiAgICA8L3NwYW4+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRWaWV3KCkge1xuICBjb25zdCB7IGFjdGl2ZUNoYXQsIGNvbnRhY3RzLCBjaGFubmVscyB9ID0gdXNlQXBwU3RhdGUoKTtcbiAgY29uc3QgaXNDaGFubmVsID0gISFhY3RpdmVDaGF0ICYmIGFjdGl2ZUNoYXQuc3RhcnRzV2l0aCgnY2hhbm5lbDonKTtcbiAgY29uc3QgY2hhbm5lbElkID0gaXNDaGFubmVsID8gYWN0aXZlQ2hhdCEuc2xpY2UoJ2NoYW5uZWw6Jy5sZW5ndGgpIDogJyc7XG5cbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZW5kaW5nLCBzZXRTZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxEaXJlY3RNZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW3BlbmRpbmdBdHRhY2htZW50LCBzZXRQZW5kaW5nQXR0YWNobWVudF0gPSB1c2VTdGF0ZTxBdHRhY2htZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZW5kUHJvZ3Jlc3MsIHNldFNlbmRQcm9ncmVzc10gPSB1c2VTdGF0ZTx7IHNlbnQ6IG51bWJlcjsgdG90YWw6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtyZXBseVRvLCBzZXRSZXBseVRvXSA9IHVzZVN0YXRlPFJlcGx5UmVmIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwcmV2aWV3SW1hZ2UsIHNldFByZXZpZXdJbWFnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNTZWFyY2hWaXNpYmxlLCBzZXRJc1NlYXJjaFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNSZWNvcmRpbmdBdWRpbywgc2V0SXNSZWNvcmRpbmdBdWRpb10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbWFnZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNlYXJjaElucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IGNvbnRhY3QgPSB1c2VNZW1vKCgpID0+IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gYWN0aXZlQ2hhdCksIFtjb250YWN0cywgYWN0aXZlQ2hhdF0pO1xuICBjb25zdCBjaGFubmVsID0gdXNlTWVtbygoKSA9PiBjaGFubmVscy5maW5kKGMgPT4gYy5pZCA9PT0gY2hhbm5lbElkKSwgW2NoYW5uZWxzLCBjaGFubmVsSWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1NlYXJjaFZpc2libGUpIHtcbiAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbaXNTZWFyY2hWaXNpYmxlXSk7XG5cbiAgY29uc3QgZmlsdGVyZWRNZXNzYWdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VhcmNoUXVlcnkudHJpbSgpKSByZXR1cm4gbWVzc2FnZXM7XG4gICAgcmV0dXJuIG1lc3NhZ2VzLmZpbHRlcihtc2cgPT4gbXNnLmNvbnRlbnQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkpO1xuICB9LCBbbWVzc2FnZXMsIHNlYXJjaFF1ZXJ5XSk7XG5cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCkgcmV0dXJuO1xuICAgIGlmIChpc0NoYW5uZWwpIHtcbiAgICAgIHNldE1lc3NhZ2VzKGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUoYWN0aXZlQ2hhdCk7XG4gICAgfVxuICAgIHNldFBlbmRpbmdBdHRhY2htZW50KG51bGwpO1xuICAgIHNldFNlbmRQcm9ncmVzcyhudWxsKTtcbiAgICBzZXRSZXBseVRvKG51bGwpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRJc1JlY29yZGluZ0F1ZGlvKGZhbHNlKTtcbiAgfSwgW2FjdGl2ZUNoYXQsIGlzQ2hhbm5lbCwgY2hhbm5lbElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1Yk1zZyA9IG5vc3RyQ2xpZW50Lm9uTWVzc2FnZShtc2cgPT4ge1xuICAgICAgYWRkTWVzc2FnZShtc2cpO1xuICAgICAgaWYgKCFhY3RpdmVDaGF0IHx8IGlzQ2hhbm5lbCkgcmV0dXJuO1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVuc3ViQ2hhbm5lbCA9IG5vc3RyQ2xpZW50Lm9uQ2hhbm5lbE1lc3NhZ2UobXNnID0+IHtcbiAgICAgIGFkZENoYW5uZWxNZXNzYWdlKG1zZyk7XG4gICAgICBpZiAoIWNoYW5uZWxJZCB8fCAhaXNDaGFubmVsIHx8IG1zZy5jaGFubmVsSWQgIT09IGNoYW5uZWxJZCkgcmV0dXJuO1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWxJZCkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1Yk1zZygpO1xuICAgICAgdW5zdWJDaGFubmVsKCk7XG4gICAgfTtcbiAgfSwgW2FjdGl2ZUNoYXQsIGlzQ2hhbm5lbCwgY2hhbm5lbElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1YiA9IG5vc3RyQ2xpZW50Lm9uUHJvZmlsZSgocHVia2V5LCBwcm9maWxlKSA9PiB7XG4gICAgICB1cGRhdGVDb250YWN0UHJvZmlsZShwdWJrZXksIHByb2ZpbGUubmFtZSwgcHJvZmlsZS5waWN0dXJlLCBwcm9maWxlLmFib3V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5zdWI7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCkgcmV0dXJuO1xuICAgIHNldE1lc3NhZ2VzKGlzQ2hhbm5lbCA/IGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpIDogZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICB9LCBbYWN0aXZlQ2hhdCwgY29udGFjdHMsIGNoYW5uZWxzLCBpc0NoYW5uZWwsIGNoYW5uZWxJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlYXJjaFF1ZXJ5KSByZXR1cm47XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlcywgc2VhcmNoUXVlcnldKTtcblxuICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICgoIWlucHV0LnRyaW0oKSAmJiAhcGVuZGluZ0F0dGFjaG1lbnQpIHx8ICFhY3RpdmVDaGF0IHx8IHNlbmRpbmcpIHJldHVybjtcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXQudHJpbSgpO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRTZW5kUHJvZ3Jlc3MobnVsbCk7XG4gICAgc2V0SXNSZWNvcmRpbmdBdWRpbyhmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ2hhbm5lbCkge1xuICAgICAgICBpZiAocGVuZGluZ0F0dGFjaG1lbnQpIHRocm93IG5ldyBFcnJvcignQXR0YWNobWVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gcHVibGljIGNoYW5uZWxzLicpO1xuICAgICAgICBjb25zdCBtc2cgPSBhd2FpdCBub3N0ckNsaWVudC5zZW5kQ2hhbm5lbE1lc3NhZ2UoY2hhbm5lbElkLCB0ZXh0LCByZXBseVRvIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgIGFkZENoYW5uZWxNZXNzYWdlKG1zZyk7XG4gICAgICAgIHNldE1lc3NhZ2VzKGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpKTtcbiAgICAgIH0gZWxzZSBpZiAocGVuZGluZ0F0dGFjaG1lbnQpIHtcbiAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgbm9zdHJDbGllbnQuc2VuZEF0dGFjaG1lbnQoXG4gICAgICAgICAgYWN0aXZlQ2hhdCxcbiAgICAgICAgICBwZW5kaW5nQXR0YWNobWVudCxcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIChzZW50LCB0b3RhbCkgPT4gc2V0U2VuZFByb2dyZXNzKHsgc2VudCwgdG90YWwgfSksXG4gICAgICAgICAgcmVwbHlUbyB8fCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICAgIGFkZE1lc3NhZ2UobXNnKTtcbiAgICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgICBzZXRQZW5kaW5nQXR0YWNobWVudChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IG5vc3RyQ2xpZW50LnNlbmREaXJlY3RNZXNzYWdlKGFjdGl2ZUNoYXQsIHRleHQsIHJlcGx5VG8gfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgYWRkTWVzc2FnZShtc2cpO1xuICAgICAgICBzZXRNZXNzYWdlcyhnZXRNZXNzYWdlcyhhY3RpdmVDaGF0KSk7XG4gICAgICB9XG4gICAgICBzZXRSZXBseVRvKG51bGwpO1xuICAgICAgc2V0U2VuZFByb2dyZXNzKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoKGVyciBhcyBFcnJvcikubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2VuZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbGwgPSB1c2VDYWxsYmFjaygodHlwZTogJ2F1ZGlvJyB8ICd2aWRlbycpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUNoYXQgfHwgaXNDaGFubmVsKSByZXR1cm47XG4gICAgd2VicnRjTWFuYWdlci5pbml0aWF0ZUNhbGwoYWN0aXZlQ2hhdCwgdHlwZSk7XG4gIH0sIFthY3RpdmVDaGF0LCBpc0NoYW5uZWxdKTtcblxuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgZS50YXJnZXQudmFsdWUgPSAnJztcbiAgICBzZXRFcnJvcignJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBhd2FpdCBwcm9jZXNzRmlsZShmaWxlKTtcbiAgICAgIGlmIChhdHRhY2htZW50KSB7XG4gICAgICAgICAgc2V0UGVuZGluZ0F0dGFjaG1lbnQoYXR0YWNobWVudCk7XG4gICAgICAgICAgc2V0SXNSZWNvcmRpbmdBdWRpbyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcigoZXJyIGFzIEVycm9yKS5tZXNzYWdlKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVBdWRpb1NlbmQgPSB1c2VDYWxsYmFjayhhc3luYyAoYXVkaW9CbG9iOiBCbG9iKSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFthdWRpb0Jsb2JdLCAndm9pY2UtbWVzc2FnZS53ZWJtJywgeyB0eXBlOiAnYXVkaW8vd2VibScgfSk7XG4gICAgc2V0RXJyb3IoJycpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdHRhY2htZW50ID0gYXdhaXQgcHJvY2Vzc0ZpbGUoZmlsZSk7XG4gICAgICBpZiAoYXR0YWNobWVudCkge1xuICAgICAgICBzZXRQZW5kaW5nQXR0YWNobWVudChhdHRhY2htZW50KTtcbiAgICAgICAgc2V0SXNSZWNvcmRpbmdBdWRpbyhmYWxzZSk7XG5cbiAgICAgICAgaWYgKCFhY3RpdmVDaGF0IHx8IHNlbmRpbmcpIHJldHVybjtcbiAgICAgICAgc2V0U2VuZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IoJycpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtc2cgPSBhd2FpdCBub3N0ckNsaWVudC5zZW5kQXR0YWNobWVudChcbiAgICAgICAgICAgIGFjdGl2ZUNoYXQsXG4gICAgICAgICAgICBhdHRhY2htZW50LFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAoc2VudCwgdG90YWwpID0+IHNldFNlbmRQcm9ncmVzcyh7IHNlbnQsIHRvdGFsIH0pLFxuICAgICAgICAgICAgcmVwbHlUbyB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhZGRNZXNzYWdlKG1zZyk7XG4gICAgICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgICAgIHNldFBlbmRpbmdBdHRhY2htZW50KG51bGwpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBzZXRFcnJvcigoZXJyIGFzIEVycm9yKS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2VuZCcpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldFNlbmRpbmcoZmFsc2UpO1xuICAgICAgICAgIHNldFNlbmRQcm9ncmVzcyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoKGVyciBhcyBFcnJvcikubWVzc2FnZSk7XG4gICAgfVxufSwgW2FjdGl2ZUNoYXQsIHNlbmRpbmcsIHJlcGx5VG9dKTtcblxuICBjb25zdCBoYW5kbGVDb3B5ID0gYXN5bmMgKHRleHQ6IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgIHNldENvcGllZChpZCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoJycpLCAxNDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IGFzeW5jIChtc2c6IERpcmVjdE1lc3NhZ2UpID0+IHtcbiAgICBpZiAoIW1zZy5hdHRhY2htZW50KSByZXR1cm47XG4gICAgaWYgKG1zZy5hdHRhY2htZW50LmNodW5rZWQgJiYgbXNnLmF0dGFjaG1lbnQudHJhbnNmZXJJZCkge1xuICAgICAgYXdhaXQgZG93bmxvYWRDaHVua2VkVHJhbnNmZXIobXNnLmF0dGFjaG1lbnQudHJhbnNmZXJJZCwgbXNnLmF0dGFjaG1lbnQubmFtZSwgbXNnLmF0dGFjaG1lbnQubWltZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb3dubG9hZEF0dGFjaG1lbnQobXNnLmF0dGFjaG1lbnQpO1xuICB9O1xuXG4gIGlmICghYWN0aXZlQ2hhdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1iZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB4LTRcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtdGV4dCBtYi0yXCIgc3R5bGU9e3sgZm9udEZhbWlseTogJ1NwYWNlIEdyb3Rlc2snIH19PkFub255bW91cyBEZWNlbnRyYWxpemVkIE1lc3NlbmdlcjwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXNtXCI+Q2hvb3NlIGNvbnRhY3Qgb3IgY2hhbm5lbCB0byBzdGFydC48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBiZy1iZyBoLWZ1bGxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJvcmRlci1iIGJvcmRlci1ib3JkZXIgYmctYmctc2Vjb25kYXJ5LzUwIGJhY2tkcm9wLWJsdXItc20gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtnb0JhY2tUb1NpZGViYXJ9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgbWQ6aGlkZGVuXCI+XG4gICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlU2lkZWJhcn0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBoaWRkZW4gbGc6YmxvY2tcIj5cbiAgICAgICAgICA8TWVudSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAge2lzQ2hhbm5lbCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWN5YW4vMTUgYm9yZGVyIGJvcmRlci1jeWFuLzI1IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8SGFzaCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtY3lhblwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPEF2YXRhciBwdWJrZXk9e2FjdGl2ZUNoYXR9IG5hbWU9e2NvbnRhY3Q/Lm5hbWV9IHBpY3R1cmU9e2NvbnRhY3Q/LnBpY3R1cmV9IHNpemU9XCJzbVwiIHNob3dCb3JkZXIgLz5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBpbml0aWFsPXtmYWxzZX0gbW9kZT1cIndhaXRcIj5cbiAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgIGtleT17aXNTZWFyY2hWaXNpYmxlID8gJ3NlYXJjaCcgOiAndGl0bGUnfVxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IC0xMCB9fVxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCB5OiAxMCB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjIgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzU2VhcmNoVmlzaWJsZSA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTIgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHctNCBoLTQgdGV4dC10ZXh0LW11dGVkXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICByZWY9e3NlYXJjaElucHV0UmVmfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBpbiBjaGF0Li4uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcGwtOCBwci04IHB5LTEgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0SXNTZWFyY2hWaXNpYmxlKGZhbHNlKTsgc2V0U2VhcmNoUXVlcnkoJycpOyB9fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTAuNSB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXRleHQgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAge2lzQ2hhbm5lbCA/IGAjICR7Y2hhbm5lbD8ubmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KGNoYW5uZWxJZCl9YCA6IChjb250YWN0Py5uYW1lIHx8IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkoYWN0aXZlQ2hhdCkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICB7aXNDaGFubmVsID8gJ1B1YmxpYyBjaGFubmVsIG92ZXIgcmVsYXlzJyA6ICdFbmNyeXB0ZWQgRE0gb3ZlciByZWxheXMnfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldElzU2VhcmNoVmlzaWJsZSghaXNTZWFyY2hWaXNpYmxlKX0gY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtpc1NlYXJjaFZpc2libGUgPyAnYmctYmctdGVydGlhcnkgdGV4dC1hY2NlbnQnIDogJ3RleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfSB0aXRsZT1cIlNlYXJjaFwiPlxuICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB7IWlzQ2hhbm5lbCAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNhbGwoJ2F1ZGlvJyl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LWdyZWVuIHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJBdWRpbyBjYWxsXCI+PFBob25lIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNhbGwoJ3ZpZGVvJyl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiVmlkZW8gY2FsbFwiPjxWaWRlbyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDb3B5KGFjdGl2ZUNoYXQsICdoZWFkZXInKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtdGV4dC1zZWNvbmRhcnkgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIkNvcHkga2V5XCI+XG4gICAgICAgICAgICAgICAge2NvcGllZCA9PT0gJ2hlYWRlcicgPyA8Q2hlY2sgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyZWVuXCIgLz4gOiA8Q29weSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz59XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHB4LTQgcHktNCBzcGFjZS15LTJcIj5cbiAgICAgICAge2ZpbHRlcmVkTWVzc2FnZXMubWFwKG1zZyA9PiB7XG4gICAgICAgICAgY29uc3QgaXNNZSA9IG1zZy5mcm9tID09PSBub3N0ckNsaWVudC5wdWJsaWNLZXk7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxtb3Rpb24uZGl2IGtleT17bXNnLmlkfSBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDggfX0gYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19IGNsYXNzTmFtZT17YGZsZXggJHtpc01lID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bncm91cCByZWxhdGl2ZSBtYXgtdy1bNzglXSByb3VuZGVkLTJ4bCB0ZXh0LXNtIG92ZXJmbG93LWhpZGRlbiAke2lzTWUgPyAnYmctYWNjZW50IHRleHQtd2hpdGUgcm91bmRlZC1ici1tZCcgOiAnYmctYmctc2Vjb25kYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHRleHQtdGV4dCByb3VuZGVkLWJsLW1kJ31gfT5cbiAgICAgICAgICAgICAgICB7bXNnLnJlcGx5VG8gJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BteC0yIG10LTIgcHgtMiBweS0xIHJvdW5kZWQtbWQgdGV4dC1bMTFweF0gJHtpc01lID8gJ2JnLXdoaXRlLzE1IHRleHQtd2hpdGUvODAnIDogJ2JnLWJnLXRlcnRpYXJ5IHRleHQtdGV4dC1zZWNvbmRhcnknfWB9PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0cnVuY2F0ZVwiPnttc2cucmVwbHlUby5mcm9tID09PSBub3N0ckNsaWVudC5wdWJsaWNLZXkgPyAnWW91JyA6IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkobXNnLnJlcGx5VG8uZnJvbSl9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiPnttc2cucmVwbHlUby50ZXh0fTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7bXNnLm1zZ1R5cGUgPT09ICdpbWFnZScgJiYgbXNnLmF0dGFjaG1lbnQgJiYgIW1zZy5hdHRhY2htZW50LmNodW5rZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9eygpID0+IHNldFByZXZpZXdJbWFnZShgZGF0YToke21zZy5hdHRhY2htZW50IS5taW1lVHlwZX07YmFzZTY0LCR7bXNnLmF0dGFjaG1lbnQhLmRhdGF9YCl9PlxuICAgICAgICAgICAgICAgICAgICA8TmV4dEltYWdlIHNyYz17YGRhdGE6JHttc2cuYXR0YWNobWVudC5taW1lVHlwZX07YmFzZTY0LCR7bXNnLmF0dGFjaG1lbnQuZGF0YX1gfSBhbHQ9e21zZy5hdHRhY2htZW50Lm5hbWV9IHdpZHRoPXszMDB9IGhlaWdodD17MjAwfSBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLTY0IHJvdW5kZWQtdC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge21zZy5tc2dUeXBlID09PSAnYXVkaW8nICYmIG1zZy5hdHRhY2htZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBdWRpb1BsYXllciBtZXNzYWdlPXttc2d9IGlzTWU9e2lzTWV9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7bXNnLmF0dGFjaG1lbnQgJiYgbXNnLm1zZ1R5cGUgPT09ICdmaWxlJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMuNSBwdC0zIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KCkgPT4gaGFuZGxlRG93bmxvYWQobXNnKX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0xMCBoLTEwIHJvdW5kZWQteGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1sZyAke2lzTWUgPyAnYmctd2hpdGUvMTUnIDogJ2JnLWJnLXRlcnRpYXJ5J31gfT5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0RmlsZUljb24obXNnLmF0dGFjaG1lbnQubWltZVR5cGUpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1tZWRpdW0gdHJ1bmNhdGUgJHtpc01lID8gJ3RleHQtd2hpdGUnIDogJ3RleHQtdGV4dCd9YH0+e21zZy5hdHRhY2htZW50Lm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQtWzEwcHhdICR7aXNNZSA/ICd0ZXh0LXdoaXRlLzYwJyA6ICd0ZXh0LXRleHQtbXV0ZWQnfWB9Pntmb3JtYXRGaWxlU2l6ZShtc2cuYXR0YWNobWVudC5zaXplKX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPXtgdy00IGgtNCBzaHJpbmstMCAke2lzTWUgPyAndGV4dC13aGl0ZS82MCcgOiAndGV4dC10ZXh0LW11dGVkJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHttc2cuYXR0YWNobWVudCAmJiBtc2cubXNnVHlwZSA9PT0gJ2ltYWdlJyAmJiBtc2cuYXR0YWNobWVudC5jaHVua2VkICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMy41IHB0LTMgY3Vyc29yLXBvaW50ZXJcIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEb3dubG9hZChtc2cpfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEwIGgtMTAgcm91bmRlZC14bCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWxnICR7aXNNZSA/ICdiZy13aGl0ZS8xNScgOiAnYmctYmctdGVydGlhcnknfWB9PvCflrzvuI88L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1tZWRpdW0gdHJ1bmNhdGUgJHtpc01lID8gJ3RleHQtd2hpdGUnIDogJ3RleHQtdGV4dCd9YH0+e21zZy5hdHRhY2htZW50Lm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQtWzEwcHhdICR7aXNNZSA/ICd0ZXh0LXdoaXRlLzYwJyA6ICd0ZXh0LXRleHQtbXV0ZWQnfWB9PkNodW5rZWQgaW1hZ2UsIGNsaWNrIHRvIGRvd25sb2FkPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT17YHctNCBoLTQgc2hyaW5rLTAgJHtpc01lID8gJ3RleHQtd2hpdGUvNjAnIDogJ3RleHQtdGV4dC1tdXRlZCd9YH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0zLjUgcHktMi41XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgYnJlYWstd29yZHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0IHRleHQ9e21zZy5jb250ZW50fSBoaWdobGlnaHQ9e3NlYXJjaFF1ZXJ5fSAvPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBweC0zLjUgcGItMiAke2lzTWUgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1bMTBweF0gJHtpc01lID8gJ3RleHQtd2hpdGUvNTAnIDogJ3RleHQtdGV4dC1tdXRlZCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShtc2cudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgdG9wLTEgJHtpc01lID8gJ2xlZnQtMCAtdHJhbnNsYXRlLXgtOScgOiAncmlnaHQtMCB0cmFuc2xhdGUteC05J30gZmxleCBmbGV4LWNvbCBnYXAtMSBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5YH0+XG4gICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNvcHkobXNnLmNvbnRlbnQsIG1zZy5pZCl9IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb3BpZWQgPT09IG1zZy5pZCA/IDxDaGVjayBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtZ3JlZW5cIiAvPiA6IDxDb3B5IGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC10ZXh0LW11dGVkXCIgLz59XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0UmVwbHlUbyh7IGlkOiBtc2cuaWQsIGZyb206IG1zZy5mcm9tLCB0ZXh0OiBtc2cuY29udGVudCB8fCBtc2cuYXR0YWNobWVudD8ubmFtZSB8fCAnJyB9KX0gY2xhc3NOYW1lPVwicC0xIHJvdW5kZWQgYmctYmctc2Vjb25kYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxSZXBseSBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtdGV4dC1tdXRlZFwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7cmVwbHlUbyAmJiAhaXNSZWNvcmRpbmdBdWRpbyAmJiAoXG4gICAgICAgICAgPG1vdGlvbi5kaXYgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBoZWlnaHQ6ICdhdXRvJywgb3BhY2l0eTogMSB9fSBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJweC00IHB5LTIgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvNDAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtdGV4dC1tdXRlZFwiPlJlcGx5IHRvIHtyZXBseVRvLmZyb20gPT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleSA/ICd5b3UnIDogbm9zdHJDbGllbnQuc2hvcnRlbktleShyZXBseVRvLmZyb20pfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1zZWNvbmRhcnkgdHJ1bmNhdGVcIj57cmVwbHlUby50ZXh0IHx8ICcoYXR0YWNobWVudCknfTwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0UmVwbHlUbyhudWxsKX0gY2xhc3NOYW1lPVwicC0xLjUgcm91bmRlZCBob3ZlcjpiZy1iZy1ob3ZlclwiPjxYIGNsYXNzTmFtZT1cInctMy41IGgtMy41IHRleHQtdGV4dC1tdXRlZFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3BlbmRpbmdBdHRhY2htZW50ICYmICFpc1JlY29yZGluZ0F1ZGlvICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGNsYXNzTmFtZT1cInB4LTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvMzAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAge3BlbmRpbmdBdHRhY2htZW50LnR5cGUgPT09ICdpbWFnZScgJiYgcGVuZGluZ0F0dGFjaG1lbnQuZGF0YSA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLXhsIG92ZXJmbG93LWhpZGRlbiBib3JkZXIgYm9yZGVyLWJvcmRlciBzaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgPE5leHRJbWFnZSBzcmM9e2BkYXRhOiR7cGVuZGluZ0F0dGFjaG1lbnQubWltZVR5cGV9O2Jhc2U2NCwke3BlbmRpbmdBdHRhY2htZW50LmRhdGF9YH0gYWx0PVwiQXR0YWNobWVudCBwcmV2aWV3XCIgd2lkdGg9ezY0fSBoZWlnaHQ9ezY0fSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC14bCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTJ4bCBzaHJpbmstMFwiPntnZXRGaWxlSWNvbihwZW5kaW5nQXR0YWNobWVudC5taW1lVHlwZSl9PC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dCB0cnVuY2F0ZVwiPntwZW5kaW5nQXR0YWNobWVudC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZFwiPntmb3JtYXRGaWxlU2l6ZShwZW5kaW5nQXR0YWNobWVudC5zaXplKX08L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFBlbmRpbmdBdHRhY2htZW50KG51bGwpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC1yZWQgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgIFxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICB7aXNSZWNvcmRpbmdBdWRpbyAmJiA8QXVkaW9SZWNvcmRlciBvblNlbmQ9e2hhbmRsZUF1ZGlvU2VuZH0gb25DYW5jZWw9eygpID0+IHNldElzUmVjb3JkaW5nQXVkaW8oZmFsc2UpfSAvPn1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2VuZFByb2dyZXNzICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGNsYXNzTmFtZT1cInB4LTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvMzAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IG1iLTFcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTMgaC0zIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICBVcGxvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+e3NlbmRQcm9ncmVzcy5zZW50fS97c2VuZFByb2dyZXNzLnRvdGFsfSBjaHVua3M8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTEuNSBiZy1iZy10ZXJ0aWFyeSByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPG1vdGlvbi5kaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWFjY2VudCByb3VuZGVkLWZ1bGxcIiBpbml0aWFsPXt7IHdpZHRoOiAwIH19IGFuaW1hdGU9e3sgd2lkdGg6IGAkeyhzZW5kUHJvZ3Jlc3Muc2VudCAvIHNlbmRQcm9ncmVzcy50b3RhbCkgKiAxMDB9JWAgfX0gdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4yIH19IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICApfVxuICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPG1vdGlvbi5kaXYgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBoZWlnaHQ6ICdhdXRvJywgb3BhY2l0eTogMSB9fSBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcmVkLWRpbSBib3JkZXItdCBib3JkZXItcmVkLzIwXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvMzBcIj5cbiAgICAgICAgICB7IWlzUmVjb3JkaW5nQXVkaW8gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBnYXAtMlwiPlxuICAgICAgICAgICAgeyFpc0NoYW5uZWwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTAuNSBwYi0xXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBpbWFnZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiU2VuZCBpbWFnZVwiIGRpc2FibGVkPXtzZW5kaW5nfT5cbiAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIlNlbmQgZmlsZVwiIGRpc2FibGVkPXtzZW5kaW5nfT5cbiAgICAgICAgICAgICAgICAgICAgPFBhcGVyY2xpcCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIDxpbnB1dCByZWY9e2ltYWdlSW5wdXRSZWZ9IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIGNsYXNzTmFtZT1cImhpZGRlblwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fSAvPlxuICAgICAgICAgICAgPGlucHV0IHJlZj17ZmlsZUlucHV0UmVmfSB0eXBlPVwiZmlsZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fSAvPlxuXG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2VuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtwZW5kaW5nQXR0YWNobWVudCA/ICdBZGQgY2FwdGlvbi4uLicgOiAoaXNDaGFubmVsID8gJ1Bvc3QgbWVzc2FnZSB0byBjaGFubmVsLi4uJyA6ICdXcml0ZSBtZXNzYWdlLi4uJyl9XG4gICAgICAgICAgICAgICAgcm93cz17MX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC14bCBweC00IHB5LTMgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwIHJlc2l6ZS1ub25lIG1heC1oLTMyIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogJzQ0cHgnIH19XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7IWlucHV0LnRyaW0oKSAmJiAhcGVuZGluZ0F0dGFjaG1lbnQgJiYgIWlzQ2hhbm5lbCA/IChcbiAgICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvbiB3aGlsZUhvdmVyPXt7IHNjYWxlOiBzZW5kaW5nID8gMSA6IDEuMDUgfX0gd2hpbGVUYXA9e3sgc2NhbGU6IHNlbmRpbmcgPyAxIDogMC45NSB9fSBvbkNsaWNrPXsoKSA9PiBzZXRJc1JlY29yZGluZ0F1ZGlvKHRydWUpfSBkaXNhYmxlZD17c2VuZGluZ30gY2xhc3NOYW1lPVwicC0zIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgZGlzYWJsZWQ6b3BhY2l0eS0zMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC13aGl0ZSByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxNaWMgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvbiB3aGlsZUhvdmVyPXt7IHNjYWxlOiBzZW5kaW5nID8gMSA6IDEuMDUgfX0gd2hpbGVUYXA9e3sgc2NhbGU6IHNlbmRpbmcgPyAxIDogMC45NSB9fSBvbkNsaWNrPXtoYW5kbGVTZW5kfSBkaXNhYmxlZD17KCFpbnB1dC50cmltKCkgJiYgIXBlbmRpbmdBdHRhY2htZW50KSB8fCBzZW5kaW5nfSBjbGFzc05hbWU9XCJwLTMgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAge3NlbmRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTUgaC01IGFuaW1hdGUtc3BpblwiIC8+IDogPFNlbmQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+fVxuICAgICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7cHJldmlld0ltYWdlICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotWzkwXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay85MCBiYWNrZHJvcC1ibHVyLXNtIHAtNFwiIG9uQ2xpY2s9eygpID0+IHNldFByZXZpZXdJbWFnZShudWxsKX0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgcC0yIHJvdW5kZWQtbGcgYmctd2hpdGUvMTAgdGV4dC13aGl0ZSBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9ycyB6LTEwXCIgb25DbGljaz17KCkgPT4gc2V0UHJldmlld0ltYWdlKG51bGwpfT5cbiAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgc2NhbGU6IDAuOSB9fSBhbmltYXRlPXt7IHNjYWxlOiAxIH19IGV4aXQ9e3sgc2NhbGU6IDAuOSB9fSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtdy1mdWxsIG1heC1oLWZ1bGxcIiBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PlxuICAgICAgICAgICAgICA8TmV4dEltYWdlIHNyYz17cHJldmlld0ltYWdlfSBhbHQ9XCJJbWFnZSBwcmV2aWV3XCIgbGF5b3V0PVwiZmlsbFwiIG9iamVjdEZpdD1cImNvbnRhaW5cIiBjbGFzc05hbWU9XCJyb3VuZGVkLWxnXCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFuaW1hdGVQcmVzZW5jZSIsIm1vdGlvbiIsIkFycm93TGVmdCIsIkNoZWNrIiwiQ29weSIsIkRvd25sb2FkIiwiSGFzaCIsIkltYWdlIiwiSW1hZ2VJY29uIiwiTG9hZGVyMiIsIk1lbnUiLCJNaWMiLCJQYXBlcmNsaXAiLCJQaG9uZSIsIlJlcGx5IiwiU2VuZCIsIlNlYXJjaCIsIlZpZGVvIiwiWCIsIk5leHRJbWFnZSIsIm5vc3RyQ2xpZW50IiwiYWRkQ2hhbm5lbE1lc3NhZ2UiLCJhZGRNZXNzYWdlIiwiZ2V0Q2hhbm5lbE1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXMiLCJnb0JhY2tUb1NpZGViYXIiLCJ0b2dnbGVTaWRlYmFyIiwidXBkYXRlQ29udGFjdFByb2ZpbGUiLCJ1c2VBcHBTdGF0ZSIsImRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIiwiZG93bmxvYWRBdHRhY2htZW50IiwiZm9ybWF0RmlsZVNpemUiLCJnZXRGaWxlSWNvbiIsInByb2Nlc3NGaWxlIiwid2VicnRjTWFuYWdlciIsIkF2YXRhciIsIkF1ZGlvUmVjb3JkZXIiLCJBdWRpb1BsYXllciIsIkhpZ2hsaWdodCIsInRleHQiLCJoaWdobGlnaHQiLCJ0cmltIiwic3BhbiIsInJlZ2V4IiwiUmVnRXhwIiwicGFydHMiLCJzcGxpdCIsIm1hcCIsInBhcnQiLCJpIiwidGVzdCIsIm1hcmsiLCJjbGFzc05hbWUiLCJDaGF0VmlldyIsImFjdGl2ZUNoYXQiLCJjb250YWN0cyIsImNoYW5uZWxzIiwiaXNDaGFubmVsIiwic3RhcnRzV2l0aCIsImNoYW5uZWxJZCIsInNsaWNlIiwibGVuZ3RoIiwiaW5wdXQiLCJzZXRJbnB1dCIsInNlbmRpbmciLCJzZXRTZW5kaW5nIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsInBlbmRpbmdBdHRhY2htZW50Iiwic2V0UGVuZGluZ0F0dGFjaG1lbnQiLCJzZW5kUHJvZ3Jlc3MiLCJzZXRTZW5kUHJvZ3Jlc3MiLCJyZXBseVRvIiwic2V0UmVwbHlUbyIsInByZXZpZXdJbWFnZSIsInNldFByZXZpZXdJbWFnZSIsImVycm9yIiwic2V0RXJyb3IiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwiaXNTZWFyY2hWaXNpYmxlIiwic2V0SXNTZWFyY2hWaXNpYmxlIiwiaXNSZWNvcmRpbmdBdWRpbyIsInNldElzUmVjb3JkaW5nQXVkaW8iLCJtZXNzYWdlc0VuZFJlZiIsImltYWdlSW5wdXRSZWYiLCJmaWxlSW5wdXRSZWYiLCJzZWFyY2hJbnB1dFJlZiIsImNvbnRhY3QiLCJmaW5kIiwiYyIsInB1YmtleSIsImNoYW5uZWwiLCJpZCIsImN1cnJlbnQiLCJmb2N1cyIsImZpbHRlcmVkTWVzc2FnZXMiLCJmaWx0ZXIiLCJtc2ciLCJjb250ZW50IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInJlcXVlc3RQcm9maWxlIiwidW5zdWJNc2ciLCJvbk1lc3NhZ2UiLCJ1bnN1YkNoYW5uZWwiLCJvbkNoYW5uZWxNZXNzYWdlIiwidW5zdWIiLCJvblByb2ZpbGUiLCJwcm9maWxlIiwibmFtZSIsInBpY3R1cmUiLCJhYm91dCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVTZW5kIiwiRXJyb3IiLCJzZW5kQ2hhbm5lbE1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJzZW5kQXR0YWNobWVudCIsInNlbnQiLCJ0b3RhbCIsInNlbmREaXJlY3RNZXNzYWdlIiwiZXJyIiwibWVzc2FnZSIsImhhbmRsZUNhbGwiLCJ0eXBlIiwiaW5pdGlhdGVDYWxsIiwiaGFuZGxlRmlsZVNlbGVjdCIsImUiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJ2YWx1ZSIsImF0dGFjaG1lbnQiLCJoYW5kbGVBdWRpb1NlbmQiLCJhdWRpb0Jsb2IiLCJGaWxlIiwiaGFuZGxlQ29weSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInNldFRpbWVvdXQiLCJoYW5kbGVEb3dubG9hZCIsImNodW5rZWQiLCJ0cmFuc2ZlcklkIiwibWltZVR5cGUiLCJkaXYiLCJoMiIsInN0eWxlIiwiZm9udEZhbWlseSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsInNob3dCb3JkZXIiLCJpbml0aWFsIiwibW9kZSIsIm9wYWNpdHkiLCJ5IiwiYW5pbWF0ZSIsImV4aXQiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJyZWYiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwic2hvcnRlbktleSIsInRpdGxlIiwiaXNNZSIsImZyb20iLCJwdWJsaWNLZXkiLCJtc2dUeXBlIiwiZGF0YSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwiRGF0ZSIsInRpbWVzdGFtcCIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJvblNlbmQiLCJvbkNhbmNlbCIsImNsaWNrIiwiZGlzYWJsZWQiLCJhY2NlcHQiLCJ0ZXh0YXJlYSIsIm9uS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJyb3dzIiwibWluSGVpZ2h0Iiwid2hpbGVIb3ZlciIsInNjYWxlIiwid2hpbGVUYXAiLCJzdG9wUHJvcGFnYXRpb24iLCJsYXlvdXQiLCJvYmplY3RGaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatView.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/LoginScreen.tsx":
/*!****************************************!*\
  !*** ./src/components/LoginScreen.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/shield.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/log-in.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/key.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n\n\n\n\n\n\nfunction LoginScreen() {\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"choice\");\n    const [generatedKeys, setGeneratedKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [importKey, setImportKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [savedKey, setSavedKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleGenerate = ()=>{\n        const keys = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.generateKeys();\n        setGeneratedKeys(keys);\n        setMode(\"generate\");\n    };\n    const handleCopyKey = async ()=>{\n        if (!generatedKeys) return;\n        await navigator.clipboard.writeText(generatedKeys.privateKey);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 2000);\n    };\n    const handleConfirmGenerated = ()=>{\n        if (!generatedKeys) return;\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.login(generatedKeys.privateKey);\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectToRelays();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadContacts)();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadChannels)();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(true);\n    };\n    const handleImport = ()=>{\n        setError(\"\");\n        const key = importKey.trim().replace(/^nsec1/, \"\");\n        if (!_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.isValidHexKey(key)) {\n            setError(\"Invalid private key. Must be 64 hex characters.\");\n            return;\n        }\n        try {\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.login(key);\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectToRelays();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadContacts)();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadChannels)();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(true);\n        } catch  {\n            setError(\"Failed to login with this key.\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex items-center justify-center bg-bg p-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 overflow-hidden pointer-events-none\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-1/4 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan/5 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                lineNumber: 57,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: 20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                className: \"relative z-10 w-full max-w-md\",\n                children: [\n                    mode === \"choice\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                                initial: {\n                                    scale: 0.8\n                                },\n                                animate: {\n                                    scale: 1\n                                },\n                                transition: {\n                                    type: \"spring\",\n                                    stiffness: 200\n                                },\n                                className: \"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-accent/10 border border-accent/20 mb-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-10 h-10 text-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                    lineNumber: 75,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-3xl font-bold text-text mb-2\",\n                                style: {\n                                    fontFamily: \"Space Grotesk\"\n                                },\n                                children: \"NOSTR P2P\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-text-secondary text-sm mb-2\",\n                                children: \"Decentralized. Encrypted. Censorship-resistant.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 81,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center gap-4 text-xs text-text-muted mb-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 85,\n                                                columnNumber: 57\n                                            }, this),\n                                            \" E2E Encrypted\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 86,\n                                                columnNumber: 57\n                                            }, this),\n                                            \" No Central Server\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 86,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleGenerate,\n                                        className: \"w-full flex items-center gap-3 px-5 py-4 bg-accent hover:bg-accent-hover text-white rounded-xl transition-colors text-sm font-medium\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-5 h-5\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 96,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Generate New Identity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 98,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs opacity-70\",\n                                                        children: \"Create a new keypair\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 99,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 97,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 90,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: ()=>setMode(\"import\"),\n                                        className: \"w-full flex items-center gap-3 px-5 py-4 bg-bg-tertiary hover:bg-bg-hover border border-border rounded-xl transition-colors text-sm font-medium text-text\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-5 h-5 text-text-secondary\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 109,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Import Private Key\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 111,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-muted\",\n                                                        children: \"Use existing Nostr identity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 112,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 110,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 103,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 89,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"generate\" && generatedKeys && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMode(\"choice\"),\n                                className: \"text-text-secondary hover:text-text text-sm mb-4 flex items-center gap-1\",\n                                children: \" Back\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green/10 border border-green/20 mb-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                            className: \"w-7 h-7 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 127,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 126,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-text\",\n                                        style: {\n                                            fontFamily: \"Space Grotesk\"\n                                        },\n                                        children: \"Your New Identity\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary text-xs mt-1\",\n                                        children: \"Save your private key securely!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 130,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 125,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                                children: \"Public Key\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 135,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-bg-tertiary border border-border rounded-lg p-3 text-xs text-text-secondary font-mono break-all\",\n                                                children: generatedKeys.publicKey\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 136,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                                children: \"Private Key (SECRET)\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 142,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-red-dim border border-red/20 rounded-lg p-3 text-xs text-red font-mono break-all\",\n                                                children: generatedKeys.privateKey\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 143,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleCopyKey,\n                                        className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-bg-tertiary hover:bg-bg-hover border border-border rounded-lg text-sm text-text transition-colors\",\n                                        children: [\n                                            copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-4 h-4 text-green\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 27\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 70\n                                            }, this),\n                                            copied ? \"Copied!\" : \"Copy Private Key\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-2 text-sm text-text-secondary cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: savedKey,\n                                                onChange: (e)=>setSavedKey(e.target.checked),\n                                                className: \"rounded accent-accent\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"I have saved my private key securely\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 156,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleConfirmGenerated,\n                                        disabled: !savedKey,\n                                        className: \"w-full px-5 py-4 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-all text-sm font-medium\",\n                                        children: \"Enter Messenger\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 166,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 120,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"import\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMode(\"choice\"),\n                                className: \"text-text-secondary hover:text-text text-sm mb-4 flex items-center gap-1\",\n                                children: \" Back\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-accent/10 border border-accent/20 mb-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-7 h-7 text-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 187,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-text\",\n                                        style: {\n                                            fontFamily: \"Space Grotesk\"\n                                        },\n                                        children: \"Import Key\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 189,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary text-xs mt-1\",\n                                        children: \"Enter your Nostr private key (hex)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 185,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            value: importKey,\n                                            onChange: (e)=>setImportKey(e.target.value),\n                                            placeholder: \"Enter 64-character hex private key...\",\n                                            rows: 3,\n                                            className: \"w-full bg-bg-tertiary border border-border rounded-lg p-3 text-sm text-text font-mono resize-none focus:outline-none focus:border-accent placeholder:text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 195,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 194,\n                                        columnNumber: 15\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red text-xs\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 205,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleImport,\n                                        className: \"w-full px-5 py-4 bg-accent hover:bg-accent-hover text-white rounded-xl transition-colors text-sm font-medium\",\n                                        children: \"Login\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n        lineNumber: 56,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7OzBDQUkvSCw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTtrREFDYiw0RUFBQ3pDLHNIQUFLQTs0Q0FBQ3lDLFdBQVU7Ozs7Ozs7Ozs7O2tEQUVuQiw4REFBQ2tCO3dDQUFHbEIsV0FBVTt3Q0FBOEJVLE9BQU87NENBQUVDLFlBQVk7d0NBQWdCO2tEQUFHOzs7Ozs7a0RBQ3BGLDhEQUFDQzt3Q0FBRVosV0FBVTtrREFBbUM7Ozs7Ozs7Ozs7OzswQ0FHbEQsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0Q7a0RBQ0MsNEVBQUM0Qjs0Q0FDQ0MsT0FBT3REOzRDQUNQaUQsVUFBVUMsQ0FBQUEsSUFBS2pELGFBQWFpRCxFQUFFQyxNQUFNLENBQUNHLEtBQUs7NENBQzFDQyxhQUFZOzRDQUNaQyxNQUFNOzRDQUNOOUIsV0FBVTs7Ozs7Ozs7Ozs7b0NBSWJ4Qix1QkFDQyw4REFBQ29DO3dDQUFFWixXQUFVO2tEQUFvQnhCOzs7Ozs7a0RBR25DLDhEQUFDcEIsaURBQU1BLENBQUMwRCxNQUFNO3dDQUNaQyxZQUFZOzRDQUFFVixPQUFPO3dDQUFLO3dDQUMxQlcsVUFBVTs0Q0FBRVgsT0FBTzt3Q0FBSzt3Q0FDeEJZLFNBQVN2Qjt3Q0FDVE0sV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4PzgxN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IEtleSwgUGx1cywgTG9nSW4sIENvcHksIENoZWNrLCBTaGllbGQsIFphcCwgR2xvYmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHsgc2V0TG9nZ2VkSW4sIGxvYWRDb250YWN0cywgbG9hZENoYW5uZWxzIH0gZnJvbSAnLi4vbGliL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW5TY3JlZW4oKSB7XG4gIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IHVzZVN0YXRlPCdjaG9pY2UnIHwgJ2dlbmVyYXRlJyB8ICdpbXBvcnQnPignY2hvaWNlJyk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRLZXlzLCBzZXRHZW5lcmF0ZWRLZXlzXSA9IHVzZVN0YXRlPHsgcHJpdmF0ZUtleTogc3RyaW5nOyBwdWJsaWNLZXk6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbXBvcnRLZXksIHNldEltcG9ydEtleV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2F2ZWRLZXksIHNldFNhdmVkS2V5XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBrZXlzID0gbm9zdHJDbGllbnQuZ2VuZXJhdGVLZXlzKCk7XG4gICAgc2V0R2VuZXJhdGVkS2V5cyhrZXlzKTtcbiAgICBzZXRNb2RlKCdnZW5lcmF0ZScpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvcHlLZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFnZW5lcmF0ZWRLZXlzKSByZXR1cm47XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoZ2VuZXJhdGVkS2V5cy5wcml2YXRlS2V5KTtcbiAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb25maXJtR2VuZXJhdGVkID0gKCkgPT4ge1xuICAgIGlmICghZ2VuZXJhdGVkS2V5cykgcmV0dXJuO1xuICAgIG5vc3RyQ2xpZW50LmxvZ2luKGdlbmVyYXRlZEtleXMucHJpdmF0ZUtleSk7XG4gICAgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgbG9hZENvbnRhY3RzKCk7XG4gICAgbG9hZENoYW5uZWxzKCk7XG4gICAgc2V0TG9nZ2VkSW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1wb3J0ID0gKCkgPT4ge1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBjb25zdCBrZXkgPSBpbXBvcnRLZXkudHJpbSgpLnJlcGxhY2UoL15uc2VjMS8sICcnKTtcbiAgICBpZiAoIW5vc3RyQ2xpZW50LmlzVmFsaWRIZXhLZXkoa2V5KSkge1xuICAgICAgc2V0RXJyb3IoJ0ludmFsaWQgcHJpdmF0ZSBrZXkuIE11c3QgYmUgNjQgaGV4IGNoYXJhY3RlcnMuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBub3N0ckNsaWVudC5sb2dpbihrZXkpO1xuICAgICAgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgICBsb2FkQ29udGFjdHMoKTtcbiAgICAgIGxvYWRDaGFubmVscygpO1xuICAgICAgc2V0TG9nZ2VkSW4odHJ1ZSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvZ2luIHdpdGggdGhpcyBrZXkuJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmcgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgb3ZlcmZsb3ctaGlkZGVuIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMS80IGxlZnQtMS80IHctOTYgaC05NiBiZy1hY2NlbnQvNSByb3VuZGVkLWZ1bGwgYmx1ci0zeGxcIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0xLzQgcmlnaHQtMS80IHctOTYgaC05NiBiZy1jeWFuLzUgcm91bmRlZC1mdWxsIGJsdXItM3hsXCIgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwIHctZnVsbCBtYXgtdy1tZFwiXG4gICAgICA+XG4gICAgICAgIHttb2RlID09PSAnY2hvaWNlJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBzY2FsZTogMC44IH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyB0eXBlOiAnc3ByaW5nJywgc3RpZmZuZXNzOiAyMDAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjAgaC0yMCByb3VuZGVkLTJ4bCBiZy1hY2NlbnQvMTAgYm9yZGVyIGJvcmRlci1hY2NlbnQvMjAgbWItNlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHRleHQtYWNjZW50XCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXRleHQgbWItMlwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5cbiAgICAgICAgICAgICAgTk9TVFIgUDJQXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXNtIG1iLTJcIj5cbiAgICAgICAgICAgICAgRGVjZW50cmFsaXplZC4gRW5jcnlwdGVkLiBDZW5zb3JzaGlwLXJlc2lzdGFudC5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTQgdGV4dC14cyB0ZXh0LXRleHQtbXV0ZWQgbWItOFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxTaGllbGQgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEUyRSBFbmNyeXB0ZWQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBObyBDZW50cmFsIFNlcnZlcjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDIgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45OCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC01IHB5LTQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5HZW5lcmF0ZSBOZXcgSWRlbnRpdHk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTcwXCI+Q3JlYXRlIGEgbmV3IGtleXBhaXI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TW9kZSgnaW1wb3J0Jyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTUgcHktNCBiZy1iZy10ZXJ0aWFyeSBob3ZlcjpiZy1iZy1ob3ZlciBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMb2dJbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtdGV4dC1zZWNvbmRhcnlcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PkltcG9ydCBQcml2YXRlIEtleTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZFwiPlVzZSBleGlzdGluZyBOb3N0ciBpZGVudGl0eTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7bW9kZSA9PT0gJ2dlbmVyYXRlJyAmJiBnZW5lcmF0ZWRLZXlzICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdjaG9pY2UnKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdGV4dC1zbSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLXhsIGJnLWdyZWVuLzEwIGJvcmRlciBib3JkZXItZ3JlZW4vMjAgbWItNFwiPlxuICAgICAgICAgICAgICAgIDxLZXkgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWdyZWVuXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXRleHRcIiBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX0+WW91ciBOZXcgSWRlbnRpdHk8L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IHRleHQteHMgbXQtMVwiPlNhdmUgeW91ciBwcml2YXRlIGtleSBzZWN1cmVseSE8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtbXV0ZWQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIG1iLTEgYmxvY2tcIj5QdWJsaWMgS2V5PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIHRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBmb250LW1vbm8gYnJlYWstYWxsXCI+XG4gICAgICAgICAgICAgICAgICB7Z2VuZXJhdGVkS2V5cy5wdWJsaWNLZXl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBtYi0xIGJsb2NrXCI+UHJpdmF0ZSBLZXkgKFNFQ1JFVCk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLWRpbSBib3JkZXIgYm9yZGVyLXJlZC8yMCByb3VuZGVkLWxnIHAtMyB0ZXh0LXhzIHRleHQtcmVkIGZvbnQtbW9ubyBicmVhay1hbGxcIj5cbiAgICAgICAgICAgICAgICAgIHtnZW5lcmF0ZWRLZXlzLnByaXZhdGVLZXl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb3B5S2V5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBweC00IHB5LTMgYmctYmctdGVydGlhcnkgaG92ZXI6YmctYmctaG92ZXIgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXNtIHRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y29waWVkID8gPENoZWNrIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlblwiIC8+IDogPENvcHkgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+fVxuICAgICAgICAgICAgICAgIHtjb3BpZWQgPyAnQ29waWVkIScgOiAnQ29weSBQcml2YXRlIEtleSd9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtzYXZlZEtleX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNhdmVkS2V5KGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBhY2NlbnQtYWNjZW50XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIEkgaGF2ZSBzYXZlZCBteSBwcml2YXRlIGtleSBzZWN1cmVseVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybUdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNhdmVkS2V5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC01IHB5LTQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFbnRlciBNZXNzZW5nZXJcbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge21vZGUgPT09ICdpbXBvcnQnICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdjaG9pY2UnKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdGV4dC1zbSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLXhsIGJnLWFjY2VudC8xMCBib3JkZXIgYm9yZGVyLWFjY2VudC8yMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgPExvZ0luIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5JbXBvcnQgS2V5PC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXhzIG10LTFcIj5FbnRlciB5b3VyIE5vc3RyIHByaXZhdGUga2V5IChoZXgpPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17aW1wb3J0S2V5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0SW1wb3J0S2V5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgNjQtY2hhcmFjdGVyIGhleCBwcml2YXRlIGtleS4uLlwiXG4gICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIHRleHQtc20gdGV4dC10ZXh0IGZvbnQtbW9ubyByZXNpemUtbm9uZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQgdGV4dC14c1wiPntlcnJvcn08L3A+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAyIH19XG4gICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTggfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVJbXBvcnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTUgcHktNCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIExvZ2luXG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9tb3Rpb24uZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwibW90aW9uIiwiS2V5IiwiUGx1cyIsIkxvZ0luIiwiQ29weSIsIkNoZWNrIiwiU2hpZWxkIiwiWmFwIiwiR2xvYmUiLCJub3N0ckNsaWVudCIsInNldExvZ2dlZEluIiwibG9hZENvbnRhY3RzIiwibG9hZENoYW5uZWxzIiwiTG9naW5TY3JlZW4iLCJtb2RlIiwic2V0TW9kZSIsImdlbmVyYXRlZEtleXMiLCJzZXRHZW5lcmF0ZWRLZXlzIiwiaW1wb3J0S2V5Iiwic2V0SW1wb3J0S2V5IiwiZXJyb3IiLCJzZXRFcnJvciIsImNvcGllZCIsInNldENvcGllZCIsInNhdmVkS2V5Iiwic2V0U2F2ZWRLZXkiLCJoYW5kbGVHZW5lcmF0ZSIsImtleXMiLCJnZW5lcmF0ZUtleXMiLCJoYW5kbGVDb3B5S2V5IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwicHJpdmF0ZUtleSIsInNldFRpbWVvdXQiLCJoYW5kbGVDb25maXJtR2VuZXJhdGVkIiwibG9naW4iLCJjb25uZWN0VG9SZWxheXMiLCJoYW5kbGVJbXBvcnQiLCJrZXkiLCJ0cmltIiwicmVwbGFjZSIsImlzVmFsaWRIZXhLZXkiLCJkaXYiLCJjbGFzc05hbWUiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwic2NhbGUiLCJ0cmFuc2l0aW9uIiwidHlwZSIsInN0aWZmbmVzcyIsImgxIiwic3R5bGUiLCJmb250RmFtaWx5IiwicCIsInNwYW4iLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJvbkNsaWNrIiwiaDIiLCJsYWJlbCIsInB1YmxpY0tleSIsImlucHV0IiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwidGV4dGFyZWEiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwicm93cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/LoginScreen.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Sidebar.tsx":
/*!************************************!*\
  !*** ./src/components/Sidebar.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/radio.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/user-plus.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/camera.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/wifi.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\nfunction Sidebar() {\n    const { contacts, channels, activeChat, showSidebar } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useAppState)();\n    const [showAddContact, setShowAddContact] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showProfile, setShowProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCreateChannel, setShowCreateChannel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newContactKey, setNewContactKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newContactName, setNewContactName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChannelName, setNewChannelName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChannelAbout, setNewChannelAbout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [joinChannelId, setJoinChannelId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newRelay, setNewRelay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [profileName, setProfileName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileAbout, setProfileAbout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profilePicture, setProfilePicture] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileSaving, setProfileSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [addError, setAddError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const u1 = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onConnection(()=>setTick((t)=>t + 1));\n        const u2 = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onChannel((channel)=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(channel));\n        return ()=>{\n            u1();\n            u2();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsub = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onProfile((pubkey, profile)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.updateContactProfile)(pubkey, profile.name, profile.picture, profile.about);\n            if (pubkey === _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey) {\n                setProfileName(profile.name || \"\");\n                setProfileAbout(profile.about || \"\");\n                setProfilePicture(profile.picture || \"\");\n            }\n        });\n        return unsub;\n    }, []);\n    const handleAddContact = ()=>{\n        setAddError(\"\");\n        const key = newContactKey.trim();\n        if (!_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.isValidHexKey(key)) {\n            setAddError(\"Invalid public key. Expected 64-char hex.\");\n            return;\n        }\n        if (key === _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey) {\n            setAddError(\"You cannot add yourself.\");\n            return;\n        }\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addContact)(key, newContactName.trim() || undefined);\n        setNewContactKey(\"\");\n        setNewContactName(\"\");\n        setShowAddContact(false);\n    };\n    const handleCreateChannel = async ()=>{\n        const name = newChannelName.trim();\n        if (!name) return;\n        try {\n            const channel = await _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.createChannel(name, newChannelAbout.trim());\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(channel);\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channel.id}`);\n            setNewChannelName(\"\");\n            setNewChannelAbout(\"\");\n            setShowCreateChannel(false);\n        } catch  {\n        // ignore\n        }\n    };\n    const handleJoinChannel = ()=>{\n        const channelId = joinChannelId.trim();\n        if (!channelId) return;\n        const known = channels.find((c)=>c.id === channelId);\n        if (!known) {\n            const localChannel = {\n                id: channelId,\n                name: `channel-${channelId.slice(0, 8)}`,\n                createdBy: \"\",\n                createdAt: Date.now()\n            };\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(localChannel);\n        }\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channelId}`);\n        setJoinChannelId(\"\");\n    };\n    const handleCopyPubkey = async ()=>{\n        await navigator.clipboard.writeText(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 1800);\n    };\n    const handleOpenProfile = ()=>{\n        const p = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getProfile(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey);\n        setProfileName(p?.name || \"\");\n        setProfileAbout(p?.about || \"\");\n        setProfilePicture(p?.picture || \"\");\n        setShowProfile(true);\n    };\n    const handleSaveProfile = async ()=>{\n        setProfileSaving(true);\n        try {\n            await _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.updateProfile({\n                name: profileName,\n                about: profileAbout,\n                picture: profilePicture\n            });\n        } catch  {\n        // ignore\n        }\n        setProfileSaving(false);\n        setShowProfile(false);\n    };\n    const handleAvatarUpload = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        if (file.size > 200 * 1024) return;\n        const reader = new FileReader();\n        reader.onload = ()=>setProfilePicture(reader.result);\n        reader.readAsDataURL(file);\n    };\n    const handleAddRelay = ()=>{\n        let url = newRelay.trim();\n        if (!url) return;\n        if (!url.startsWith(\"wss://\") && !url.startsWith(\"ws://\")) url = `wss://${url}`;\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.addRelay(url);\n        setNewRelay(\"\");\n        setTick((t)=>t + 1);\n    };\n    const handleLogout = ()=>{\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.logout();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(false);\n    };\n    const filteredContacts = contacts.filter((c)=>{\n        if (!searchQuery) return true;\n        const q = searchQuery.toLowerCase();\n        return c.name?.toLowerCase().includes(q) || c.pubkey.includes(q);\n    }).sort((a, b)=>(b.lastMessageTime || 0) - (a.lastMessageTime || 0));\n    const filteredChannels = channels.filter((c)=>{\n        if (!searchQuery) return true;\n        const q = searchQuery.toLowerCase();\n        return c.name.toLowerCase().includes(q) || c.id.includes(q);\n    });\n    const connectedCount = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectedRelayCount;\n    if (!showSidebar) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: _lib_store__WEBPACK_IMPORTED_MODULE_3__.toggleSidebar,\n            className: \"fixed top-4 left-4 z-50 lg:hidden bg-bg-secondary border border-border rounded-lg p-2 text-text-secondary hover:text-text\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                className: \"w-5 h-5\"\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n            lineNumber: 174,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                initial: {\n                    x: -320\n                },\n                animate: {\n                    x: 0\n                },\n                className: \"w-full md:w-80 h-full bg-bg-secondary border-r border-border flex flex-col shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 border-b border-border\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                className: \"text-lg font-bold text-text\",\n                                                style: {\n                                                    fontFamily: \"Space Grotesk\"\n                                                },\n                                                children: \"NOSTR MESH\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 189,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                        className: `w-3 h-3 ${connectedCount > 0 ? \"text-green\" : \"text-red\"}`\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 191,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: connectedCount > 0 ? \"text-green\" : \"text-red\",\n                                                        children: connectedCount\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 192,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 190,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowAddContact(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Add contact\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 196,\n                                                    columnNumber: 182\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 196,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowCreateChannel(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Create channel\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 197,\n                                                    columnNumber: 188\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 197,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowSettings(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Settings\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 198,\n                                                    columnNumber: 177\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 198,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 195,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: handleOpenProfile,\n                                className: \"w-full flex items-center gap-2.5 px-2 py-2 bg-bg-tertiary hover:bg-bg-hover rounded-lg transition-colors cursor-pointer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        pubkey: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey,\n                                        name: profileName,\n                                        picture: profilePicture,\n                                        size: \"sm\",\n                                        showBorder: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 203,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-w-0 text-left\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-medium text-text truncate\",\n                                                children: profileName || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 205,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-[10px] text-text-muted font-mono truncate\",\n                                                children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 204,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            handleCopyPubkey();\n                                        },\n                                        className: \"p-1 rounded hover:bg-bg-active transition-colors\",\n                                        title: \"Copy key\",\n                                        children: copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-3 h-3 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 25\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-3 h-3 text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 68\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 202,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative mt-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 214,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: searchQuery,\n                                        onChange: (e)=>setSearchQuery(e.target.value),\n                                        placeholder: \"Search chats/channels...\",\n                                        className: \"w-full pl-9 pr-3 py-2 bg-bg-tertiary border border-border rounded-lg text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 213,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pt-3 pb-1 text-[10px] uppercase tracking-wider text-text-muted\",\n                                children: \"Contacts\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 220,\n                                columnNumber: 11\n                            }, this),\n                            filteredContacts.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 text-xs text-text-muted\",\n                                children: \"No contacts yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 222,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: filteredContacts.map((contact)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContactItem, {\n                                        contact: contact,\n                                        isActive: activeChat === contact.pubkey,\n                                        onClick: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(contact.pubkey),\n                                        onRemove: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.removeContact)(contact.pubkey)\n                                    }, contact.pubkey, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 226,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 224,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pt-4 pb-1 text-[10px] uppercase tracking-wider text-text-muted\",\n                                children: \"Channels\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 237,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pb-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: joinChannelId,\n                                            onChange: (e)=>setJoinChannelId(e.target.value),\n                                            placeholder: \"Channel ID\",\n                                            className: \"flex-1 bg-bg-tertiary border border-border rounded-lg px-2.5 py-2 text-xs text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 240,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleJoinChannel,\n                                            className: \"px-2.5 py-2 bg-accent hover:bg-accent-hover rounded-lg text-xs text-white\",\n                                            children: \"Join\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                    lineNumber: 239,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 238,\n                                columnNumber: 11\n                            }, this),\n                            filteredChannels.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 text-xs text-text-muted\",\n                                children: \"No channels yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 245,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: filteredChannels.map((channel)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channel.id}`),\n                                        className: `w-full flex items-center gap-2 px-4 py-2.5 text-left transition-colors ${activeChat === `channel:${channel.id}` ? \"bg-accent/10 border-r-2 border-accent\" : \"hover:bg-bg-hover\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4 text-cyan shrink-0\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 254,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-text truncate\",\n                                                        children: channel.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 256,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-[10px] text-text-muted font-mono truncate\",\n                                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(channel.id)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 257,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 255,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, channel.id, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 249,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 219,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 185,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showAddContact && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowAddContact(false),\n                    title: \"Add Contact\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newContactKey,\n                                onChange: (e)=>setNewContactKey(e.target.value),\n                                placeholder: \"Public key (64 hex)\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 270,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newContactName,\n                                onChange: (e)=>setNewContactName(e.target.value),\n                                placeholder: \"Display name (optional)\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 15\n                            }, this),\n                            addError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-red text-xs\",\n                                children: addError\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 272,\n                                columnNumber: 28\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleAddContact,\n                                className: \"w-full px-4 py-3 bg-accent hover:bg-accent-hover text-white rounded-lg text-sm font-medium transition-colors\",\n                                children: \"Add\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 273,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 268,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 266,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showCreateChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowCreateChannel(false),\n                    title: \"Create Channel\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newChannelName,\n                                onChange: (e)=>setNewChannelName(e.target.value),\n                                placeholder: \"Channel name\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: newChannelAbout,\n                                onChange: (e)=>setNewChannelAbout(e.target.value),\n                                rows: 3,\n                                placeholder: \"About channel\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleCreateChannel,\n                                className: \"w-full px-4 py-3 bg-cyan/20 hover:bg-cyan/30 text-cyan rounded-lg text-sm font-medium transition-colors\",\n                                children: \"Create\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 281,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 279,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showProfile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowProfile(false),\n                    title: \"My Profile\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative group\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            pubkey: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey,\n                                            name: profileName,\n                                            picture: profilePicture,\n                                            size: \"xl\",\n                                            showBorder: true\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"w-6 h-6 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 299,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    accept: \"image/*\",\n                                                    className: \"hidden\",\n                                                    onChange: handleAvatarUpload\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 300,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 298,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                    lineNumber: 296,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: profileName,\n                                onChange: (e)=>setProfileName(e.target.value),\n                                placeholder: \"Name\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: profileAbout,\n                                onChange: (e)=>setProfileAbout(e.target.value),\n                                rows: 2,\n                                placeholder: \"About\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: profilePicture,\n                                onChange: (e)=>setProfilePicture(e.target.value),\n                                placeholder: \"Avatar URL\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 306,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSaveProfile,\n                                disabled: profileSaving,\n                                className: \"w-full px-4 py-3 bg-accent hover:bg-accent-hover disabled:opacity-50 text-white rounded-lg text-sm font-medium transition-colors\",\n                                children: profileSaving ? \"Saving...\" : \"Save\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 307,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 293,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 291,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowSettings(false),\n                    title: \"Settings\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4 max-h-[70vh] overflow-y-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-text-muted uppercase tracking-wider mb-2 block flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 318,\n                                                columnNumber: 122\n                                            }, this),\n                                            \" Relays\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 318,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-1 mb-2\",\n                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.relays.map((relay)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between px-3 py-2 bg-bg-tertiary rounded-lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: `w-2 h-2 rounded-full ${_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getRelayStatus(relay) === \"connected\" ? \"bg-green\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getRelayStatus(relay) === \"connecting\" ? \"bg-yellow\" : \"bg-red\"}`\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                                lineNumber: 323,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-text-secondary font-mono\",\n                                                                children: relay.replace(\"wss://\", \"\")\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                                lineNumber: 324,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 322,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.removeRelay(relay);\n                                                            setTick((t)=>t + 1);\n                                                        },\n                                                        className: \"text-text-muted hover:text-red transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                            lineNumber: 326,\n                                                            columnNumber: 165\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 326,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, relay, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 321,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 319,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: newRelay,\n                                                onChange: (e)=>setNewRelay(e.target.value),\n                                                onKeyDown: (e)=>e.key === \"Enter\" && handleAddRelay(),\n                                                placeholder: \"wss://relay.example.com\",\n                                                className: \"flex-1 bg-bg-tertiary border border-border rounded-lg px-3 py-2 text-xs text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 331,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleAddRelay,\n                                                className: \"px-3 py-2 bg-accent hover:bg-accent-hover text-white rounded-lg text-xs transition-colors\",\n                                                children: \"+\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 332,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 330,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 317,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                        children: \"Public key\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-bg-tertiary rounded-lg p-3 text-xs text-text-secondary font-mono break-all\",\n                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 338,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleLogout,\n                                className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-dim hover:bg-red/20 border border-red/20 text-red rounded-lg text-sm transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 341,\n                                        columnNumber: 208\n                                    }, this),\n                                    \" Logout\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 341,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 316,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 315,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 313,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction ContactItem({ contact, isActive, onClick, onRemove }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `group flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors relative ${isActive ? \"bg-accent/10 border-r-2 border-accent\" : \"hover:bg-bg-hover\"}`,\n        onClick: onClick,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                pubkey: contact.pubkey,\n                name: contact.name,\n                picture: contact.picture,\n                size: \"md\",\n                showBorder: true\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 353,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium text-text truncate\",\n                                children: contact.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(contact.pubkey)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 356,\n                                columnNumber: 11\n                            }, this),\n                            contact.lastMessageTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] text-text-muted shrink-0 ml-2\",\n                                children: formatTime(contact.lastMessageTime)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 357,\n                                columnNumber: 39\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 355,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-text-muted truncate\",\n                                children: contact.lastMessage || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(contact.pubkey)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 11\n                            }, this),\n                            (contact.unread || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 shrink-0 bg-accent text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center\",\n                                children: contact.unread\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 361,\n                                columnNumber: 41\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 359,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 354,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onRemove();\n                },\n                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-lg bg-red-dim text-red opacity-0 group-hover:opacity-100 hover:bg-red/20 transition-all\",\n                title: \"Remove\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                    className: \"w-3 h-3\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 364,\n                    columnNumber: 238\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 364,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n        lineNumber: 352,\n        columnNumber: 5\n    }, this);\n}\nfunction Modal({ children, onClose, title }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n        initial: {\n            opacity: 0\n        },\n        animate: {\n            opacity: 1\n        },\n        exit: {\n            opacity: 0\n        },\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n            initial: {\n                scale: 0.95,\n                opacity: 0\n            },\n            animate: {\n                scale: 1,\n                opacity: 1\n            },\n            exit: {\n                scale: 0.95,\n                opacity: 0\n            },\n            onClick: (e)=>e.stopPropagation(),\n            className: \"w-full max-w-md bg-bg-secondary border border-border rounded-xl p-5\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-bold text-text\",\n                            style: {\n                                fontFamily: \"Space Grotesk\"\n                            },\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                            lineNumber: 374,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-1 rounded-lg hover:bg-bg-hover text-text-secondary\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 375,\n                                columnNumber: 102\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                            lineNumber: 375,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 373,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n            lineNumber: 372,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n        lineNumber: 371,\n        columnNumber: 5\n    }, this);\n}\nfunction formatTime(ts) {\n    const d = new Date(ts);\n    const now = new Date();\n    const diff = now.getTime() - d.getTime();\n    if (diff < 86400000 && d.getDate() === now.getDate()) return d.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n    });\n    if (diff < 604800000) return d.toLocaleDateString(\"en-US\", {\n        weekday: \"short\"\n    });\n    return d.toLocaleDateString(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUl6RixLQUFLd0Y7SUFDbkIsTUFBTXZGLE1BQU0sSUFBSUQ7SUFDaEIsTUFBTTBGLE9BQU96RixJQUFJMEYsT0FBTyxLQUFLRixFQUFFRSxPQUFPO0lBQ3RDLElBQUlELE9BQU8sWUFBWUQsRUFBRUcsT0FBTyxPQUFPM0YsSUFBSTJGLE9BQU8sSUFBSSxPQUFPSCxFQUFFSSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUU7UUFBRUMsTUFBTTtRQUFXQyxRQUFRO0lBQVU7SUFDM0gsSUFBSUwsT0FBTyxXQUFXLE9BQU9ELEVBQUVPLGtCQUFrQixDQUFDLFNBQVM7UUFBRUMsU0FBUztJQUFRO0lBQzlFLE9BQU9SLEVBQUVPLGtCQUFrQixDQUFDLFNBQVM7UUFBRUUsT0FBTztRQUFTQyxLQUFLO0lBQVU7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3g/NTU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IENhbWVyYSwgQ2hlY2ssIENvcHksIEhhc2gsIExvZ091dCwgTWVzc2FnZUNpcmNsZSwgUmFkaW8sIFNlYXJjaCwgU2V0dGluZ3MsIFRyYXNoMiwgVXNlclBsdXMsIFdpZmksIFggfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQsIHR5cGUgQ2hhbm5lbCwgdHlwZSBDb250YWN0IH0gZnJvbSAnLi4vbGliL25vc3RyJztcbmltcG9ydCB7XG4gIGFkZENoYW5uZWwsXG4gIGFkZENvbnRhY3QsXG4gIHJlbW92ZUNvbnRhY3QsXG4gIHNldEFjdGl2ZUNoYXQsXG4gIHNldExvZ2dlZEluLFxuICB0b2dnbGVTaWRlYmFyLFxuICB1cGRhdGVDb250YWN0UHJvZmlsZSxcbiAgdXNlQXBwU3RhdGUsXG59IGZyb20gJy4uL2xpYi9zdG9yZSc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJy4vQXZhdGFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2lkZWJhcigpIHtcbiAgY29uc3QgeyBjb250YWN0cywgY2hhbm5lbHMsIGFjdGl2ZUNoYXQsIHNob3dTaWRlYmFyIH0gPSB1c2VBcHBTdGF0ZSgpO1xuICBjb25zdCBbc2hvd0FkZENvbnRhY3QsIHNldFNob3dBZGRDb250YWN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQcm9maWxlLCBzZXRTaG93UHJvZmlsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q3JlYXRlQ2hhbm5lbCwgc2V0U2hvd0NyZWF0ZUNoYW5uZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3Q29udGFjdEtleSwgc2V0TmV3Q29udGFjdEtleV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDb250YWN0TmFtZSwgc2V0TmV3Q29udGFjdE5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Q2hhbm5lbE5hbWUsIHNldE5ld0NoYW5uZWxOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0NoYW5uZWxBYm91dCwgc2V0TmV3Q2hhbm5lbEFib3V0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2pvaW5DaGFubmVsSWQsIHNldEpvaW5DaGFubmVsSWRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld1JlbGF5LCBzZXROZXdSZWxheV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9maWxlTmFtZSwgc2V0UHJvZmlsZU5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbcHJvZmlsZUFib3V0LCBzZXRQcm9maWxlQWJvdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbcHJvZmlsZVBpY3R1cmUsIHNldFByb2ZpbGVQaWN0dXJlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Byb2ZpbGVTYXZpbmcsIHNldFByb2ZpbGVTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkRXJyb3IsIHNldEFkZEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgWywgc2V0VGlja10gPSB1c2VTdGF0ZSgwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHUxID0gbm9zdHJDbGllbnQub25Db25uZWN0aW9uKCgpID0+IHNldFRpY2sodCA9PiB0ICsgMSkpO1xuICAgIGNvbnN0IHUyID0gbm9zdHJDbGllbnQub25DaGFubmVsKGNoYW5uZWwgPT4gYWRkQ2hhbm5lbChjaGFubmVsKSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHUxKCk7XG4gICAgICB1MigpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3ViID0gbm9zdHJDbGllbnQub25Qcm9maWxlKChwdWJrZXksIHByb2ZpbGUpID0+IHtcbiAgICAgIHVwZGF0ZUNvbnRhY3RQcm9maWxlKHB1YmtleSwgcHJvZmlsZS5uYW1lLCBwcm9maWxlLnBpY3R1cmUsIHByb2ZpbGUuYWJvdXQpO1xuICAgICAgaWYgKHB1YmtleSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5KSB7XG4gICAgICAgIHNldFByb2ZpbGVOYW1lKHByb2ZpbGUubmFtZSB8fCAnJyk7XG4gICAgICAgIHNldFByb2ZpbGVBYm91dChwcm9maWxlLmFib3V0IHx8ICcnKTtcbiAgICAgICAgc2V0UHJvZmlsZVBpY3R1cmUocHJvZmlsZS5waWN0dXJlIHx8ICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdW5zdWI7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVBZGRDb250YWN0ID0gKCkgPT4ge1xuICAgIHNldEFkZEVycm9yKCcnKTtcbiAgICBjb25zdCBrZXkgPSBuZXdDb250YWN0S2V5LnRyaW0oKTtcbiAgICBpZiAoIW5vc3RyQ2xpZW50LmlzVmFsaWRIZXhLZXkoa2V5KSkge1xuICAgICAgc2V0QWRkRXJyb3IoJ0ludmFsaWQgcHVibGljIGtleS4gRXhwZWN0ZWQgNjQtY2hhciBoZXguJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleSkge1xuICAgICAgc2V0QWRkRXJyb3IoJ1lvdSBjYW5ub3QgYWRkIHlvdXJzZWxmLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZGRDb250YWN0KGtleSwgbmV3Q29udGFjdE5hbWUudHJpbSgpIHx8IHVuZGVmaW5lZCk7XG4gICAgc2V0TmV3Q29udGFjdEtleSgnJyk7XG4gICAgc2V0TmV3Q29udGFjdE5hbWUoJycpO1xuICAgIHNldFNob3dBZGRDb250YWN0KGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDcmVhdGVDaGFubmVsID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdDaGFubmVsTmFtZS50cmltKCk7XG4gICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNoYW5uZWwgPSBhd2FpdCBub3N0ckNsaWVudC5jcmVhdGVDaGFubmVsKG5hbWUsIG5ld0NoYW5uZWxBYm91dC50cmltKCkpO1xuICAgICAgYWRkQ2hhbm5lbChjaGFubmVsKTtcbiAgICAgIHNldEFjdGl2ZUNoYXQoYGNoYW5uZWw6JHtjaGFubmVsLmlkfWApO1xuICAgICAgc2V0TmV3Q2hhbm5lbE5hbWUoJycpO1xuICAgICAgc2V0TmV3Q2hhbm5lbEFib3V0KCcnKTtcbiAgICAgIHNldFNob3dDcmVhdGVDaGFubmVsKGZhbHNlKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVKb2luQ2hhbm5lbCA9ICgpID0+IHtcbiAgICBjb25zdCBjaGFubmVsSWQgPSBqb2luQ2hhbm5lbElkLnRyaW0oKTtcbiAgICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGtub3duID0gY2hhbm5lbHMuZmluZChjID0+IGMuaWQgPT09IGNoYW5uZWxJZCk7XG4gICAgaWYgKCFrbm93bikge1xuICAgICAgY29uc3QgbG9jYWxDaGFubmVsOiBDaGFubmVsID0ge1xuICAgICAgICBpZDogY2hhbm5lbElkLFxuICAgICAgICBuYW1lOiBgY2hhbm5lbC0ke2NoYW5uZWxJZC5zbGljZSgwLCA4KX1gLFxuICAgICAgICBjcmVhdGVkQnk6ICcnLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICB9O1xuICAgICAgYWRkQ2hhbm5lbChsb2NhbENoYW5uZWwpO1xuICAgIH1cbiAgICBzZXRBY3RpdmVDaGF0KGBjaGFubmVsOiR7Y2hhbm5lbElkfWApO1xuICAgIHNldEpvaW5DaGFubmVsSWQoJycpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvcHlQdWJrZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQobm9zdHJDbGllbnQucHVibGljS2V5KTtcbiAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAxODAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVPcGVuUHJvZmlsZSA9ICgpID0+IHtcbiAgICBjb25zdCBwID0gbm9zdHJDbGllbnQuZ2V0UHJvZmlsZShub3N0ckNsaWVudC5wdWJsaWNLZXkpO1xuICAgIHNldFByb2ZpbGVOYW1lKHA/Lm5hbWUgfHwgJycpO1xuICAgIHNldFByb2ZpbGVBYm91dChwPy5hYm91dCB8fCAnJyk7XG4gICAgc2V0UHJvZmlsZVBpY3R1cmUocD8ucGljdHVyZSB8fCAnJyk7XG4gICAgc2V0U2hvd1Byb2ZpbGUodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZVByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0UHJvZmlsZVNhdmluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbm9zdHJDbGllbnQudXBkYXRlUHJvZmlsZSh7IG5hbWU6IHByb2ZpbGVOYW1lLCBhYm91dDogcHJvZmlsZUFib3V0LCBwaWN0dXJlOiBwcm9maWxlUGljdHVyZSB9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgICBzZXRQcm9maWxlU2F2aW5nKGZhbHNlKTtcbiAgICBzZXRTaG93UHJvZmlsZShmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXZhdGFyVXBsb2FkID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgaWYgKGZpbGUuc2l6ZSA+IDIwMCAqIDEwMjQpIHJldHVybjtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiBzZXRQcm9maWxlUGljdHVyZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkUmVsYXkgPSAoKSA9PiB7XG4gICAgbGV0IHVybCA9IG5ld1JlbGF5LnRyaW0oKTtcbiAgICBpZiAoIXVybCkgcmV0dXJuO1xuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoJ3dzczovLycpICYmICF1cmwuc3RhcnRzV2l0aCgnd3M6Ly8nKSkgdXJsID0gYHdzczovLyR7dXJsfWA7XG4gICAgbm9zdHJDbGllbnQuYWRkUmVsYXkodXJsKTtcbiAgICBzZXROZXdSZWxheSgnJyk7XG4gICAgc2V0VGljayh0ID0+IHQgKyAxKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVMb2dvdXQgPSAoKSA9PiB7XG4gICAgbm9zdHJDbGllbnQubG9nb3V0KCk7XG4gICAgc2V0TG9nZ2VkSW4oZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGZpbHRlcmVkQ29udGFjdHMgPSBjb250YWN0c1xuICAgIC5maWx0ZXIoYyA9PiB7XG4gICAgICBpZiAoIXNlYXJjaFF1ZXJ5KSByZXR1cm4gdHJ1ZTtcbiAgICAgIGNvbnN0IHEgPSBzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIGMubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fCBjLnB1YmtleS5pbmNsdWRlcyhxKTtcbiAgICB9KVxuICAgIC5zb3J0KChhLCBiKSA9PiAoYi5sYXN0TWVzc2FnZVRpbWUgfHwgMCkgLSAoYS5sYXN0TWVzc2FnZVRpbWUgfHwgMCkpO1xuXG4gIGNvbnN0IGZpbHRlcmVkQ2hhbm5lbHMgPSBjaGFubmVscy5maWx0ZXIoYyA9PiB7XG4gICAgaWYgKCFzZWFyY2hRdWVyeSkgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgcSA9IHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGMubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8IGMuaWQuaW5jbHVkZXMocSk7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbm5lY3RlZENvdW50ID0gbm9zdHJDbGllbnQuY29ubmVjdGVkUmVsYXlDb3VudDtcblxuICBpZiAoIXNob3dTaWRlYmFyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17dG9nZ2xlU2lkZWJhcn1cbiAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgbGVmdC00IHotNTAgbGc6aGlkZGVuIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHAtMiB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dFwiXG4gICAgICA+XG4gICAgICAgIDxNZXNzYWdlQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgeDogLTMyMCB9fSBhbmltYXRlPXt7IHg6IDAgfX0gY2xhc3NOYW1lPVwidy1mdWxsIG1kOnctODAgaC1mdWxsIGJnLWJnLXNlY29uZGFyeSBib3JkZXItciBib3JkZXItYm9yZGVyIGZsZXggZmxleC1jb2wgc2hyaW5rLTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5OT1NUUiBNRVNIPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgPFJhZGlvIGNsYXNzTmFtZT17YHctMyBoLTMgJHtjb25uZWN0ZWRDb3VudCA+IDAgPyAndGV4dC1ncmVlbicgOiAndGV4dC1yZWQnfWB9IC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjb25uZWN0ZWRDb3VudCA+IDAgPyAndGV4dC1ncmVlbicgOiAndGV4dC1yZWQnfT57Y29ubmVjdGVkQ291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZGRDb250YWN0KHRydWUpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiQWRkIGNvbnRhY3RcIj48VXNlclBsdXMgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0NyZWF0ZUNoYW5uZWwodHJ1ZSl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJDcmVhdGUgY2hhbm5lbFwiPjxIYXNoIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dTZXR0aW5ncyh0cnVlKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIlNldHRpbmdzXCI+PFNldHRpbmdzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e2hhbmRsZU9wZW5Qcm9maWxlfSBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIuNSBweC0yIHB5LTIgYmctYmctdGVydGlhcnkgaG92ZXI6YmctYmctaG92ZXIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgPEF2YXRhciBwdWJrZXk9e25vc3RyQ2xpZW50LnB1YmxpY0tleX0gbmFtZT17cHJvZmlsZU5hbWV9IHBpY3R1cmU9e3Byb2ZpbGVQaWN0dXJlfSBzaXplPVwic21cIiBzaG93Qm9yZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dCB0cnVuY2F0ZVwiPntwcm9maWxlTmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KG5vc3RyQ2xpZW50LnB1YmxpY0tleSl9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXRleHQtbXV0ZWQgZm9udC1tb25vIHRydW5jYXRlXCI+e25vc3RyQ2xpZW50LnNob3J0ZW5LZXkobm9zdHJDbGllbnQucHVibGljS2V5KX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaGFuZGxlQ29weVB1YmtleSgpOyB9fSBjbGFzc05hbWU9XCJwLTEgcm91bmRlZCBob3ZlcjpiZy1iZy1hY3RpdmUgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIkNvcHkga2V5XCI+XG4gICAgICAgICAgICAgIHtjb3BpZWQgPyA8Q2hlY2sgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWdyZWVuXCIgLz4gOiA8Q29weSBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtdGV4dC1tdXRlZFwiIC8+fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG10LTNcIj5cbiAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB3LTQgaC00IHRleHQtdGV4dC1tdXRlZFwiIC8+XG4gICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3NlYXJjaFF1ZXJ5fSBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNoYXRzL2NoYW5uZWxzLi4uXCIgY2xhc3NOYW1lPVwidy1mdWxsIHBsLTkgcHItMyBweS0yIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB0LTMgcGItMSB0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgdGV4dC10ZXh0LW11dGVkXCI+Q29udGFjdHM8L2Rpdj5cbiAgICAgICAgICB7ZmlsdGVyZWRDb250YWN0cy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZFwiPk5vIGNvbnRhY3RzIHlldC48L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0xXCI+XG4gICAgICAgICAgICAgIHtmaWx0ZXJlZENvbnRhY3RzLm1hcChjb250YWN0ID0+IChcbiAgICAgICAgICAgICAgICA8Q29udGFjdEl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT17Y29udGFjdC5wdWJrZXl9XG4gICAgICAgICAgICAgICAgICBjb250YWN0PXtjb250YWN0fVxuICAgICAgICAgICAgICAgICAgaXNBY3RpdmU9e2FjdGl2ZUNoYXQgPT09IGNvbnRhY3QucHVia2V5fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlQ2hhdChjb250YWN0LnB1YmtleSl9XG4gICAgICAgICAgICAgICAgICBvblJlbW92ZT17KCkgPT4gcmVtb3ZlQ29udGFjdChjb250YWN0LnB1YmtleSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB0LTQgcGItMSB0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgdGV4dC10ZXh0LW11dGVkXCI+Q2hhbm5lbHM8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcGItMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17am9pbkNoYW5uZWxJZH0gb25DaGFuZ2U9e2UgPT4gc2V0Sm9pbkNoYW5uZWxJZChlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiQ2hhbm5lbCBJRFwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTIuNSBweS0yIHRleHQteHMgdGV4dC10ZXh0IGZvbnQtbW9ubyBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUpvaW5DaGFubmVsfSBjbGFzc05hbWU9XCJweC0yLjUgcHktMiBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHJvdW5kZWQtbGcgdGV4dC14cyB0ZXh0LXdoaXRlXCI+Sm9pbjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2ZpbHRlcmVkQ2hhbm5lbHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC14cyB0ZXh0LXRleHQtbXV0ZWRcIj5ObyBjaGFubmVscyB5ZXQuPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMVwiPlxuICAgICAgICAgICAgICB7ZmlsdGVyZWRDaGFubmVscy5tYXAoY2hhbm5lbCA9PiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtjaGFubmVsLmlkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlQ2hhdChgY2hhbm5lbDoke2NoYW5uZWwuaWR9YCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yLjUgdGV4dC1sZWZ0IHRyYW5zaXRpb24tY29sb3JzICR7YWN0aXZlQ2hhdCA9PT0gYGNoYW5uZWw6JHtjaGFubmVsLmlkfWAgPyAnYmctYWNjZW50LzEwIGJvcmRlci1yLTIgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEhhc2ggY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWN5YW4gc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0IHRydW5jYXRlXCI+e2NoYW5uZWwubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBmb250LW1vbm8gdHJ1bmNhdGVcIj57bm9zdHJDbGllbnQuc2hvcnRlbktleShjaGFubmVsLmlkKX08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3Nob3dBZGRDb250YWN0ICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0FkZENvbnRhY3QoZmFsc2UpfSB0aXRsZT1cIkFkZCBDb250YWN0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NvbnRhY3RLZXl9IG9uQ2hhbmdlPXtlID0+IHNldE5ld0NvbnRhY3RLZXkoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlB1YmxpYyBrZXkgKDY0IGhleClcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdDb250YWN0TmFtZX0gb25DaGFuZ2U9e2UgPT4gc2V0TmV3Q29udGFjdE5hbWUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkRpc3BsYXkgbmFtZSAob3B0aW9uYWwpXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAge2FkZEVycm9yICYmIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkIHRleHQteHNcIj57YWRkRXJyb3J9PC9wPn1cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBZGRDb250YWN0fSBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIj5BZGQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3Nob3dDcmVhdGVDaGFubmVsICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0NyZWF0ZUNoYW5uZWwoZmFsc2UpfSB0aXRsZT1cIkNyZWF0ZSBDaGFubmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NoYW5uZWxOYW1lfSBvbkNoYW5nZT17ZSA9PiBzZXROZXdDaGFubmVsTmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiQ2hhbm5lbCBuYW1lXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtuZXdDaGFubmVsQWJvdXR9IG9uQ2hhbmdlPXtlID0+IHNldE5ld0NoYW5uZWxBYm91dChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezN9IHBsYWNlaG9sZGVyPVwiQWJvdXQgY2hhbm5lbFwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMi41IHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MCByZXNpemUtbm9uZVwiIC8+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ3JlYXRlQ2hhbm5lbH0gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1jeWFuLzIwIGhvdmVyOmJnLWN5YW4vMzAgdGV4dC1jeWFuIHJvdW5kZWQtbGcgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1wiPkNyZWF0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2hvd1Byb2ZpbGUgJiYgKFxuICAgICAgICAgIDxNb2RhbCBvbkNsb3NlPXsoKSA9PiBzZXRTaG93UHJvZmlsZShmYWxzZSl9IHRpdGxlPVwiTXkgUHJvZmlsZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgcHVia2V5PXtub3N0ckNsaWVudC5wdWJsaWNLZXl9IG5hbWU9e3Byb2ZpbGVOYW1lfSBwaWN0dXJlPXtwcm9maWxlUGljdHVyZX0gc2l6ZT1cInhsXCIgc2hvd0JvcmRlciAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNTAgcm91bmRlZC1mdWxsIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPENhbWVyYSBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgY2xhc3NOYW1lPVwiaGlkZGVuXCIgb25DaGFuZ2U9e2hhbmRsZUF2YXRhclVwbG9hZH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3Byb2ZpbGVOYW1lfSBvbkNoYW5nZT17ZSA9PiBzZXRQcm9maWxlTmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiTmFtZVwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMi41IHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MFwiIC8+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17cHJvZmlsZUFib3V0fSBvbkNoYW5nZT17ZSA9PiBzZXRQcm9maWxlQWJvdXQoZS50YXJnZXQudmFsdWUpfSByb3dzPXsyfSBwbGFjZWhvbGRlcj1cIkFib3V0XCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwIHJlc2l6ZS1ub25lXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtwcm9maWxlUGljdHVyZX0gb25DaGFuZ2U9e2UgPT4gc2V0UHJvZmlsZVBpY3R1cmUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkF2YXRhciBVUkxcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNhdmVQcm9maWxlfSBkaXNhYmxlZD17cHJvZmlsZVNhdmluZ30gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIj57cHJvZmlsZVNhdmluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2hvd1NldHRpbmdzICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd1NldHRpbmdzKGZhbHNlKX0gdGl0bGU9XCJTZXR0aW5nc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgbWF4LWgtWzcwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMiBibG9jayBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+PFdpZmkgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IFJlbGF5czwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTEgbWItMlwiPlxuICAgICAgICAgICAgICAgICAge25vc3RyQ2xpZW50LnJlbGF5cy5tYXAocmVsYXkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cmVsYXl9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTIgYmctYmctdGVydGlhcnkgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0yIGgtMiByb3VuZGVkLWZ1bGwgJHtub3N0ckNsaWVudC5nZXRSZWxheVN0YXR1cyhyZWxheSkgPT09ICdjb25uZWN0ZWQnID8gJ2JnLWdyZWVuJyA6IG5vc3RyQ2xpZW50LmdldFJlbGF5U3RhdHVzKHJlbGF5KSA9PT0gJ2Nvbm5lY3RpbmcnID8gJ2JnLXllbGxvdycgOiAnYmctcmVkJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGZvbnQtbW9ub1wiPntyZWxheS5yZXBsYWNlKCd3c3M6Ly8nLCAnJyl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBub3N0ckNsaWVudC5yZW1vdmVSZWxheShyZWxheSk7IHNldFRpY2sodCA9PiB0ICsgMSk7IH19IGNsYXNzTmFtZT1cInRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXJlZCB0cmFuc2l0aW9uLWNvbG9yc1wiPjxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdSZWxheX0gb25DaGFuZ2U9e2UgPT4gc2V0TmV3UmVsYXkoZS50YXJnZXQudmFsdWUpfSBvbktleURvd249e2UgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgaGFuZGxlQWRkUmVsYXkoKX0gcGxhY2Vob2xkZXI9XCJ3c3M6Ly9yZWxheS5leGFtcGxlLmNvbVwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXhzIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQWRkUmVsYXl9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC1sZyB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMSBibG9ja1wiPlB1YmxpYyBrZXk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmctdGVydGlhcnkgcm91bmRlZC1sZyBwLTMgdGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGZvbnQtbW9ubyBicmVhay1hbGxcIj57bm9zdHJDbGllbnQucHVibGljS2V5fTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHB4LTQgcHktMyBiZy1yZWQtZGltIGhvdmVyOmJnLXJlZC8yMCBib3JkZXIgYm9yZGVyLXJlZC8yMCB0ZXh0LXJlZCByb3VuZGVkLWxnIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIj48TG9nT3V0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiBMb2dvdXQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICA8Lz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ29udGFjdEl0ZW0oeyBjb250YWN0LCBpc0FjdGl2ZSwgb25DbGljaywgb25SZW1vdmUgfTogeyBjb250YWN0OiBDb250YWN0OyBpc0FjdGl2ZTogYm9vbGVhbjsgb25DbGljazogKCkgPT4gdm9pZDsgb25SZW1vdmU6ICgpID0+IHZvaWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBweS0zIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHJlbGF0aXZlICR7aXNBY3RpdmUgPyAnYmctYWNjZW50LzEwIGJvcmRlci1yLTIgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9IG9uQ2xpY2s9e29uQ2xpY2t9PlxuICAgICAgPEF2YXRhciBwdWJrZXk9e2NvbnRhY3QucHVia2V5fSBuYW1lPXtjb250YWN0Lm5hbWV9IHBpY3R1cmU9e2NvbnRhY3QucGljdHVyZX0gc2l6ZT1cIm1kXCIgc2hvd0JvcmRlciAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0IHRydW5jYXRlXCI+e2NvbnRhY3QubmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KGNvbnRhY3QucHVia2V5KX08L3NwYW4+XG4gICAgICAgICAge2NvbnRhY3QubGFzdE1lc3NhZ2VUaW1lICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBzaHJpbmstMCBtbC0yXCI+e2Zvcm1hdFRpbWUoY29udGFjdC5sYXN0TWVzc2FnZVRpbWUpfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkIHRydW5jYXRlXCI+e2NvbnRhY3QubGFzdE1lc3NhZ2UgfHwgbm9zdHJDbGllbnQuc2hvcnRlbktleShjb250YWN0LnB1YmtleSl9PC9zcGFuPlxuICAgICAgICAgIHsoY29udGFjdC51bnJlYWQgfHwgMCkgPiAwICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgc2hyaW5rLTAgYmctYWNjZW50IHRleHQtd2hpdGUgdGV4dC1bMTBweF0gZm9udC1ib2xkIHJvdW5kZWQtZnVsbCB3LTUgaC01IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+e2NvbnRhY3QudW5yZWFkfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e2UgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBvblJlbW92ZSgpOyB9fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTEuNSByb3VuZGVkLWxnIGJnLXJlZC1kaW0gdGV4dC1yZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOmJnLXJlZC8yMCB0cmFuc2l0aW9uLWFsbFwiIHRpdGxlPVwiUmVtb3ZlXCI+PFRyYXNoMiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz48L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gTW9kYWwoeyBjaGlsZHJlbiwgb25DbG9zZSwgdGl0bGUgfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBvbkNsb3NlOiAoKSA9PiB2b2lkOyB0aXRsZTogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNjAgYmFja2Ryb3AtYmx1ci1zbSBwLTRcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgc2NhbGU6IDAuOTUsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBzY2FsZTogMSwgb3BhY2l0eTogMSB9fSBleGl0PXt7IHNjYWxlOiAwLjk1LCBvcGFjaXR5OiAwIH19IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHAtNVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT57dGl0bGV9PC9oMz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnlcIj48WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbW90aW9uLmRpdj5cbiAgICA8L21vdGlvbi5kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUodHM6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSh0cyk7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gZC5nZXRUaW1lKCk7XG4gIGlmIChkaWZmIDwgODY0MDAwMDAgJiYgZC5nZXREYXRlKCkgPT09IG5vdy5nZXREYXRlKCkpIHJldHVybiBkLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICBpZiAoZGlmZiA8IDYwNDgwMDAwMCkgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgd2Vla2RheTogJ3Nob3J0JyB9KTtcbiAgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiQW5pbWF0ZVByZXNlbmNlIiwibW90aW9uIiwiQ2FtZXJhIiwiQ2hlY2siLCJDb3B5IiwiSGFzaCIsIkxvZ091dCIsIk1lc3NhZ2VDaXJjbGUiLCJSYWRpbyIsIlNlYXJjaCIsIlNldHRpbmdzIiwiVHJhc2gyIiwiVXNlclBsdXMiLCJXaWZpIiwiWCIsIm5vc3RyQ2xpZW50IiwiYWRkQ2hhbm5lbCIsImFkZENvbnRhY3QiLCJyZW1vdmVDb250YWN0Iiwic2V0QWN0aXZlQ2hhdCIsInNldExvZ2dlZEluIiwidG9nZ2xlU2lkZWJhciIsInVwZGF0ZUNvbnRhY3RQcm9maWxlIiwidXNlQXBwU3RhdGUiLCJBdmF0YXIiLCJTaWRlYmFyIiwiY29udGFjdHMiLCJjaGFubmVscyIsImFjdGl2ZUNoYXQiLCJzaG93U2lkZWJhciIsInNob3dBZGRDb250YWN0Iiwic2V0U2hvd0FkZENvbnRhY3QiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJzaG93UHJvZmlsZSIsInNldFNob3dQcm9maWxlIiwic2hvd0NyZWF0ZUNoYW5uZWwiLCJzZXRTaG93Q3JlYXRlQ2hhbm5lbCIsIm5ld0NvbnRhY3RLZXkiLCJzZXROZXdDb250YWN0S2V5IiwibmV3Q29udGFjdE5hbWUiLCJzZXROZXdDb250YWN0TmFtZSIsIm5ld0NoYW5uZWxOYW1lIiwic2V0TmV3Q2hhbm5lbE5hbWUiLCJuZXdDaGFubmVsQWJvdXQiLCJzZXROZXdDaGFubmVsQWJvdXQiLCJqb2luQ2hhbm5lbElkIiwic2V0Sm9pbkNoYW5uZWxJZCIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJuZXdSZWxheSIsInNldE5ld1JlbGF5IiwiY29waWVkIiwic2V0Q29waWVkIiwicHJvZmlsZU5hbWUiLCJzZXRQcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dCIsInNldFByb2ZpbGVBYm91dCIsInByb2ZpbGVQaWN0dXJlIiwic2V0UHJvZmlsZVBpY3R1cmUiLCJwcm9maWxlU2F2aW5nIiwic2V0UHJvZmlsZVNhdmluZyIsImFkZEVycm9yIiwic2V0QWRkRXJyb3IiLCJzZXRUaWNrIiwidTEiLCJvbkNvbm5lY3Rpb24iLCJ0IiwidTIiLCJvbkNoYW5uZWwiLCJjaGFubmVsIiwidW5zdWIiLCJvblByb2ZpbGUiLCJwdWJrZXkiLCJwcm9maWxlIiwibmFtZSIsInBpY3R1cmUiLCJhYm91dCIsInB1YmxpY0tleSIsImhhbmRsZUFkZENvbnRhY3QiLCJrZXkiLCJ0cmltIiwiaXNWYWxpZEhleEtleSIsInVuZGVmaW5lZCIsImhhbmRsZUNyZWF0ZUNoYW5uZWwiLCJjcmVhdGVDaGFubmVsIiwiaWQiLCJoYW5kbGVKb2luQ2hhbm5lbCIsImNoYW5uZWxJZCIsImtub3duIiwiZmluZCIsImMiLCJsb2NhbENoYW5uZWwiLCJzbGljZSIsImNyZWF0ZWRCeSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJoYW5kbGVDb3B5UHVia2V5IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2V0VGltZW91dCIsImhhbmRsZU9wZW5Qcm9maWxlIiwicCIsImdldFByb2ZpbGUiLCJoYW5kbGVTYXZlUHJvZmlsZSIsInVwZGF0ZVByb2ZpbGUiLCJoYW5kbGVBdmF0YXJVcGxvYWQiLCJlIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwic2l6ZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiaGFuZGxlQWRkUmVsYXkiLCJ1cmwiLCJzdGFydHNXaXRoIiwiYWRkUmVsYXkiLCJoYW5kbGVMb2dvdXQiLCJsb2dvdXQiLCJmaWx0ZXJlZENvbnRhY3RzIiwiZmlsdGVyIiwicSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzb3J0IiwiYSIsImIiLCJsYXN0TWVzc2FnZVRpbWUiLCJmaWx0ZXJlZENoYW5uZWxzIiwiY29ubmVjdGVkQ291bnQiLCJjb25uZWN0ZWRSZWxheUNvdW50IiwiYnV0dG9uIiwib25DbGljayIsImNsYXNzTmFtZSIsImRpdiIsImluaXRpYWwiLCJ4IiwiYW5pbWF0ZSIsImgxIiwic3R5bGUiLCJmb250RmFtaWx5Iiwic3BhbiIsInRpdGxlIiwic2hvd0JvcmRlciIsInNob3J0ZW5LZXkiLCJzdG9wUHJvcGFnYXRpb24iLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImxlbmd0aCIsIm1hcCIsImNvbnRhY3QiLCJDb250YWN0SXRlbSIsImlzQWN0aXZlIiwib25SZW1vdmUiLCJNb2RhbCIsIm9uQ2xvc2UiLCJ0ZXh0YXJlYSIsInJvd3MiLCJsYWJlbCIsInR5cGUiLCJhY2NlcHQiLCJkaXNhYmxlZCIsInJlbGF5cyIsInJlbGF5IiwiZ2V0UmVsYXlTdGF0dXMiLCJyZXBsYWNlIiwicmVtb3ZlUmVsYXkiLCJvbktleURvd24iLCJmb3JtYXRUaW1lIiwibGFzdE1lc3NhZ2UiLCJ1bnJlYWQiLCJjaGlsZHJlbiIsIm9wYWNpdHkiLCJleGl0Iiwic2NhbGUiLCJoMyIsInRzIiwiZCIsImRpZmYiLCJnZXRUaW1lIiwiZ2V0RGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwibW9udGgiLCJkYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Sidebar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ThemeProvider.tsx":
/*!******************************************!*\
  !*** ./src/components/ThemeProvider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ ThemeProvider auto */ \n\nfunction ThemeProvider({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_1__.ThemeProvider, {\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/ThemeProvider.tsx\",\n        lineNumber: 7,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVrRTtBQUczRCxTQUFTQSxjQUFjLEVBQUVFLFFBQVEsRUFBRSxHQUFHQyxPQUEyQjtJQUN0RSxxQkFBTyw4REFBQ0Ysc0RBQWtCQTtRQUFFLEdBQUdFLEtBQUs7a0JBQUdEOzs7Ozs7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvVGhlbWVQcm92aWRlci50c3g/NmY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgVGhlbWVQcm92aWRlciBhcyBOZXh0VGhlbWVzUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCB0eXBlIHsgVGhlbWVQcm92aWRlclByb3BzIH0gZnJvbSBcIm5leHQtdGhlbWVzL2Rpc3QvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogVGhlbWVQcm92aWRlclByb3BzKSB7XG4gIHJldHVybiA8TmV4dFRoZW1lc1Byb3ZpZGVyIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvTmV4dFRoZW1lc1Byb3ZpZGVyPjtcbn1cbiJdLCJuYW1lcyI6WyJUaGVtZVByb3ZpZGVyIiwiTmV4dFRoZW1lc1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJwcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ThemeProvider.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Welcome.tsx":
/*!************************************!*\
  !*** ./src/components/Welcome.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Welcome: () => (/* binding */ Welcome)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sun.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/moon.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/at-sign.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ Welcome auto */ \n\n\n\nfunction FeatureCard({ icon, title, children, color }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-bg-secondary p-6 rounded-2xl border border-border transform hover:-translate-y-1 transition-transform duration-300 ease-in-out\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-start gap-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `p-2 rounded-lg`,\n                    style: {\n                        backgroundColor: `${color}1A`\n                    },\n                    children: icon\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 17,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"font-bold text-text text-lg\",\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 21,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-text-secondary mt-1\",\n                            children: children\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 22,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\nfunction ThemeToggle() {\n    const { theme, setTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: \"p-2 rounded-full text-text-secondary hover:text-text hover:bg-bg-tertiary transition-colors\",\n        onClick: ()=>setTheme(theme === \"dark\" ? \"light\" : \"dark\"),\n        children: theme === \"dark\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            size: 20\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 37,\n            columnNumber: 27\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            size: 20\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 37,\n            columnNumber: 47\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 33,\n        columnNumber: 5\n    }, this);\n}\nfunction Welcome() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen w-full flex items-center justify-center bg-bg p-4 relative overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-accent/10 via-bg/0 to-bg/0 opacity-70\"\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-4xl bg-bg-secondary/50 backdrop-blur-2xl border border-border rounded-3xl shadow-glow p-8 md:p-12 z-10\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 bg-gradient-to-br from-accent to-blue-500 rounded-full mb-6 shadow-lg\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                size: 32,\n                                className: \"text-white\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                lineNumber: 50,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 49,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-text to-text-secondary\",\n                            children: [\n                                \"Welcome to \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"bg-clip-text text-transparent bg-gradient-to-r from-accent to-blue-500\",\n                                    children: \"Nostr\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 54,\n                                    columnNumber: 24\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 53,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-text-secondary text-lg md:text-xl max-w-2xl mb-10\",\n                            children: \"A new kind of social network. Decentralized, open, and free.\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 57,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full grid grid-cols-1 md:grid-cols-3 gap-6 text-left mb-10\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Direct Messages\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-accent\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 62,\n                                        columnNumber: 56\n                                    }, void 0),\n                                    color: \"#7C3AED\",\n                                    children: \"Encrypted, peer-to-peer conversations.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 62,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Public Channels\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-cyan\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 56\n                                    }, void 0),\n                                    color: \"#22D3EE\",\n                                    children: \"Join communities and discussions.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 65,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Your Identity\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-green\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 68,\n                                        columnNumber: 54\n                                    }, void 0),\n                                    color: \"#4ADE80\",\n                                    children: \"Controlled by you, not a corporation.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 68,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeToggle, {}, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 73,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 48,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                lineNumber: 46,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 44,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9XZWxjb21lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQzRFO0FBQ3JDO0FBQ2I7QUFTMUIsU0FBU1EsWUFBWSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQW9CO0lBQ3JFLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVcsQ0FBQyxjQUFjLENBQUM7b0JBQUVDLE9BQU87d0JBQUVDLGlCQUFpQixDQUFDLEVBQUVKLE1BQU0sRUFBRSxDQUFDO29CQUFBOzhCQUNyRUg7Ozs7Ozs4QkFFSCw4REFBQ0k7O3NDQUNDLDhEQUFDSTs0QkFBR0gsV0FBVTtzQ0FBK0JKOzs7Ozs7c0NBQzdDLDhEQUFDUTs0QkFBRUosV0FBVTtzQ0FBb0NIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLFNBQVNRO0lBQ1AsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHZixxREFBUUE7SUFFcEMscUJBQ0UsOERBQUNnQjtRQUNDUixXQUFVO1FBQ1ZTLFNBQVMsSUFBTUYsU0FBU0QsVUFBVSxTQUFTLFVBQVU7a0JBRXBEQSxVQUFVLHVCQUFTLDhEQUFDaEIsbUhBQUdBO1lBQUNvQixNQUFNOzs7OztpQ0FBUyw4REFBQ25CLG1IQUFJQTtZQUFDbUIsTUFBTTs7Ozs7Ozs7Ozs7QUFHMUQ7QUFFTyxTQUFTQztJQUNkLHFCQUNFLDhEQUFDWjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7Ozs7OzswQkFDZiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBRWIsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNkLG1IQUFHQTtnQ0FBQ3dCLE1BQU07Z0NBQUlWLFdBQVU7Ozs7Ozs7Ozs7O3NDQUczQiw4REFBQ1k7NEJBQUdaLFdBQVU7O2dDQUFpSDs4Q0FDbEgsOERBQUNhO29DQUFLYixXQUFVOzhDQUF5RTs7Ozs7Ozs7Ozs7O3NDQUd0Ryw4REFBQ0k7NEJBQUVKLFdBQVU7c0NBQXlEOzs7Ozs7c0NBSXRFLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNOO29DQUFZRSxPQUFNO29DQUFrQkQsb0JBQU0sOERBQUNQLG1IQUFhQTt3Q0FBQ3NCLE1BQU07d0NBQUlWLFdBQVU7Ozs7OztvQ0FBaUJGLE9BQU07OENBQVU7Ozs7Ozs4Q0FHL0csOERBQUNKO29DQUFZRSxPQUFNO29DQUFrQkQsb0JBQU0sOERBQUNSLG1IQUFLQTt3Q0FBQ3VCLE1BQU07d0NBQUlWLFdBQVU7Ozs7OztvQ0FBZUYsT0FBTTs4Q0FBVTs7Ozs7OzhDQUdyRyw4REFBQ0o7b0NBQVlFLE9BQU07b0NBQWdCRCxvQkFBTSw4REFBQ04sbUhBQU1BO3dDQUFDcUIsTUFBTTt3Q0FBSVYsV0FBVTs7Ozs7O29DQUFnQkYsT0FBTTs4Q0FBVTs7Ozs7Ozs7Ozs7O3NDQUt2Ryw4REFBQ087Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9XZWxjb21lLnRzeD81M2Q2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgWmFwLCBVc2VycywgTWVzc2FnZVNxdWFyZSwgQXRTaWduLCBTdW4sIE1vb24gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBGZWF0dXJlQ2FyZFByb3BzIHtcbiAgaWNvbjogUmVhY3QuUmVhY3ROb2RlO1xuICB0aXRsZTogc3RyaW5nO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICBjb2xvcjogc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBGZWF0dXJlQ2FyZCh7IGljb24sIHRpdGxlLCBjaGlsZHJlbiwgY29sb3IgfTogRmVhdHVyZUNhcmRQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmctc2Vjb25kYXJ5IHAtNiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlciB0cmFuc2Zvcm0gaG92ZXI6LXRyYW5zbGF0ZS15LTEgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZ2B9IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogYCR7Y29sb3J9MUFgfX0+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC10ZXh0IHRleHQtbGdcIj57dGl0bGV9PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgbXQtMVwiPntjaGlsZHJlbn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRoZW1lVG9nZ2xlKCkge1xuICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWZ1bGwgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgaG92ZXI6YmctYmctdGVydGlhcnkgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgb25DbGljaz17KCkgPT4gc2V0VGhlbWUodGhlbWUgPT09IFwiZGFya1wiID8gXCJsaWdodFwiIDogXCJkYXJrXCIpfVxuICAgID5cbiAgICAgIHt0aGVtZSA9PT0gXCJkYXJrXCIgPyA8U3VuIHNpemU9ezIwfSAvPiA6IDxNb29uIHNpemU9ezIwfSAvPn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFdlbGNvbWUoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJnIHAtNCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZV9hdF9jZW50ZXIsX3ZhcigtLXR3LWdyYWRpZW50LXN0b3BzKSldIGZyb20tYWNjZW50LzEwIHZpYS1iZy8wIHRvLWJnLzAgb3BhY2l0eS03MFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctNHhsIGJnLWJnLXNlY29uZGFyeS81MCBiYWNrZHJvcC1ibHVyLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLTN4bCBzaGFkb3ctZ2xvdyBwLTggbWQ6cC0xMiB6LTEwXCI+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1hY2NlbnQgdG8tYmx1ZS01MDAgcm91bmRlZC1mdWxsIG1iLTYgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICA8WmFwIHNpemU9ezMyfSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTV4bCBtZDp0ZXh0LTZ4bCBmb250LWJvbGQgbWItNCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20tdGV4dCB0by10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgV2VsY29tZSB0byA8c3BhbiBjbGFzc05hbWU9XCJiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20tYWNjZW50IHRvLWJsdWUtNTAwXCI+Tm9zdHI8L3NwYW4+XG4gICAgICAgICAgPC9oMT5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtdGV4dC1zZWNvbmRhcnkgdGV4dC1sZyBtZDp0ZXh0LXhsIG1heC13LTJ4bCBtYi0xMFwiPlxuICAgICAgICAgICAgQSBuZXcga2luZCBvZiBzb2NpYWwgbmV0d29yay4gRGVjZW50cmFsaXplZCwgb3BlbiwgYW5kIGZyZWUuXG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNiB0ZXh0LWxlZnQgbWItMTBcIj5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIkRpcmVjdCBNZXNzYWdlc1wiIGljb249ezxNZXNzYWdlU3F1YXJlIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LWFjY2VudFwiLz59IGNvbG9yPVwiIzdDM0FFRFwiPlxuICAgICAgICAgICAgICBFbmNyeXB0ZWQsIHBlZXItdG8tcGVlciBjb252ZXJzYXRpb25zLlxuICAgICAgICAgICAgPC9GZWF0dXJlQ2FyZD5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIlB1YmxpYyBDaGFubmVsc1wiIGljb249ezxVc2VycyBzaXplPXsyNH0gY2xhc3NOYW1lPVwidGV4dC1jeWFuXCIvPn0gY29sb3I9XCIjMjJEM0VFXCI+XG4gICAgICAgICAgICAgIEpvaW4gY29tbXVuaXRpZXMgYW5kIGRpc2N1c3Npb25zLlxuICAgICAgICAgICAgPC9GZWF0dXJlQ2FyZD5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIllvdXIgSWRlbnRpdHlcIiBpY29uPXs8QXRTaWduIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuXCIvPn0gY29sb3I9XCIjNEFERTgwXCI+XG4gICAgICAgICAgICAgIENvbnRyb2xsZWQgYnkgeW91LCBub3QgYSBjb3Jwb3JhdGlvbi5cbiAgICAgICAgICAgIDwvRmVhdHVyZUNhcmQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8VGhlbWVUb2dnbGUgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJaYXAiLCJVc2VycyIsIk1lc3NhZ2VTcXVhcmUiLCJBdFNpZ24iLCJTdW4iLCJNb29uIiwidXNlVGhlbWUiLCJSZWFjdCIsIkZlYXR1cmVDYXJkIiwiaWNvbiIsInRpdGxlIiwiY2hpbGRyZW4iLCJjb2xvciIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaDMiLCJwIiwiVGhlbWVUb2dnbGUiLCJ0aGVtZSIsInNldFRoZW1lIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJXZWxjb21lIiwiaDEiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Welcome.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/chunkStore.ts":
/*!*******************************!*\
  !*** ./src/lib/chunkStore.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   downloadChunkedTransfer: () => (/* binding */ downloadChunkedTransfer),\n/* harmony export */   ensureTransfer: () => (/* binding */ ensureTransfer),\n/* harmony export */   getTransfer: () => (/* binding */ getTransfer),\n/* harmony export */   isTransferComplete: () => (/* binding */ isTransferComplete),\n/* harmony export */   storeChunk: () => (/* binding */ storeChunk)\n/* harmony export */ });\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb */ \"(ssr)/./node_modules/idb/build/index.js\");\n\nconst DB_NAME = \"nostr-p2p-files\";\nconst DB_VERSION = 1;\nlet dbPromise = null;\nconst getDb = ()=>{\n    if (true) {\n        return null;\n    }\n    if (!dbPromise) {\n        dbPromise = (0,idb__WEBPACK_IMPORTED_MODULE_0__.openDB)(DB_NAME, DB_VERSION, {\n            upgrade (db) {\n                if (!db.objectStoreNames.contains(\"transfers\")) {\n                    db.createObjectStore(\"transfers\", {\n                        keyPath: \"transferId\"\n                    });\n                }\n                if (!db.objectStoreNames.contains(\"chunks\")) {\n                    db.createObjectStore(\"chunks\", {\n                        keyPath: [\n                            \"transferId\",\n                            \"index\"\n                        ]\n                    });\n                }\n            }\n        });\n    }\n    return dbPromise;\n};\nfunction base64ToBytes(base64) {\n    const bin = atob(base64);\n    const out = new Uint8Array(bin.length);\n    for(let i = 0; i < bin.length; i++)out[i] = bin.charCodeAt(i);\n    return out;\n}\nasync function ensureTransfer(meta) {\n    const db = await getDb();\n    if (!db) return null;\n    const existing = await db.get(\"transfers\", meta.transferId);\n    const row = {\n        ...meta,\n        receivedChunks: existing?.receivedChunks ?? meta.receivedChunks ?? 0\n    };\n    await db.put(\"transfers\", row);\n    return row;\n}\nasync function storeChunk(transferId, index, totalChunks, data) {\n    const db = await getDb();\n    if (!db) return;\n    const tx = db.transaction([\n        \"chunks\",\n        \"transfers\"\n    ], \"readwrite\");\n    const key = [\n        transferId,\n        index\n    ];\n    const existing = await tx.objectStore(\"chunks\").get(key);\n    if (!existing) {\n        await tx.objectStore(\"chunks\").put({\n            transferId,\n            index,\n            data\n        });\n        const transfer = await tx.objectStore(\"transfers\").get(transferId);\n        if (transfer) {\n            transfer.receivedChunks = Math.min(transfer.totalChunks, transfer.receivedChunks + 1);\n            await tx.objectStore(\"transfers\").put(transfer);\n        } else {\n            await tx.objectStore(\"transfers\").put({\n                transferId,\n                fileName: \"file\",\n                mimeType: \"application/octet-stream\",\n                fileType: \"file\",\n                size: 0,\n                totalChunks,\n                receivedChunks: 1\n            });\n        }\n    }\n    await tx.done;\n}\nasync function getTransfer(transferId) {\n    const db = await getDb();\n    if (!db) return undefined;\n    return await db.get(\"transfers\", transferId);\n}\nasync function isTransferComplete(transferId) {\n    if (true) {\n        return false;\n    }\n    const transfer = await getTransfer(transferId);\n    if (!transfer) return false;\n    return transfer.totalChunks > 0 && transfer.receivedChunks >= transfer.totalChunks;\n}\nasync function downloadChunkedTransfer(transferId, fallbackName, fallbackMime, returnBlob = false) {\n    const db = await getDb();\n    if (!db) return returnBlob ? null : undefined;\n    const transfer = await db.get(\"transfers\", transferId);\n    if (!transfer) {\n        console.error(\"Transfer not found:\", transferId);\n        return returnBlob ? null : undefined;\n    }\n    const fileName = fallbackName || transfer.fileName || \"file\";\n    const mimeType = fallbackMime || transfer.mimeType || \"application/octet-stream\";\n    const range = IDBKeyRange.bound([\n        transferId,\n        0\n    ], [\n        transferId,\n        Number.MAX_SAFE_INTEGER\n    ]);\n    const store = db.transaction(\"chunks\", \"readonly\").objectStore(\"chunks\");\n    const parts = [];\n    let cursor = await store.openCursor(range);\n    while(cursor){\n        const row = cursor.value;\n        parts.push(base64ToBytes(row.data));\n        cursor = await cursor.continue();\n    }\n    if (parts.length === 0) {\n        console.error(\"No chunks found for transfer:\", transferId);\n        return returnBlob ? null : undefined;\n    }\n    const blob = new Blob(parts, {\n        type: mimeType\n    });\n    if (returnBlob) {\n        return blob;\n    }\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNMUMsTUFBTSxLQUFLLEdBQUc7UUFDdEJrQyxRQUFRQyxLQUFLLENBQUMsaUNBQWlDNUI7UUFDL0MsT0FBTzBCLGFBQWEsT0FBT0w7SUFDN0I7SUFFQSxNQUFNb0IsT0FBTyxJQUFJQyxLQUFLUCxPQUFPO1FBQUVRLE1BQU0zQjtJQUFTO0lBRTlDLElBQUlVLFlBQVk7UUFDZCxPQUFPZTtJQUNUO0lBRUEsTUFBTUcsTUFBTUMsSUFBSUMsZUFBZSxDQUFDTDtJQUNoQyxNQUFNTSxJQUFJQyxTQUFTQyxhQUFhLENBQUM7SUFDakNGLEVBQUVHLElBQUksR0FBR047SUFDVEcsRUFBRUksUUFBUSxHQUFHcEM7SUFDYmlDLFNBQVNJLElBQUksQ0FBQ0MsV0FBVyxDQUFDTjtJQUMxQkEsRUFBRU8sS0FBSztJQUNQTixTQUFTSSxJQUFJLENBQUNHLFdBQVcsQ0FBQ1I7SUFDMUJGLElBQUlXLGVBQWUsQ0FBQ1o7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2xpYi9jaHVua1N0b3JlLnRzP2ViN2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb3BlbkRCLCB0eXBlIElEQlBEYXRhYmFzZSB9IGZyb20gJ2lkYic7XG5cbmludGVyZmFjZSBDaHVua1JvdyB7XG4gIHRyYW5zZmVySWQ6IHN0cmluZztcbiAgaW5kZXg6IG51bWJlcjtcbiAgZGF0YTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVHJhbnNmZXJSb3cge1xuICB0cmFuc2ZlcklkOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG4gIG1pbWVUeXBlOiBzdHJpbmc7XG4gIGZpbGVUeXBlOiAnaW1hZ2UnIHwgJ2ZpbGUnIHwgJ2F1ZGlvJztcbiAgc2l6ZTogbnVtYmVyO1xuICB0b3RhbENodW5rczogbnVtYmVyO1xuICByZWNlaXZlZENodW5rczogbnVtYmVyO1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG5jb25zdCBEQl9OQU1FID0gJ25vc3RyLXAycC1maWxlcyc7XG5jb25zdCBEQl9WRVJTSU9OID0gMTtcblxubGV0IGRiUHJvbWlzZTogUHJvbWlzZTxJREJQRGF0YWJhc2U+IHwgbnVsbCA9IG51bGw7XG5cbmNvbnN0IGdldERiID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5pbmRleGVkREIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIWRiUHJvbWlzZSkge1xuICAgIGRiUHJvbWlzZSA9IG9wZW5EQihEQl9OQU1FLCBEQl9WRVJTSU9OLCB7XG4gICAgICB1cGdyYWRlKGRiKSB7XG4gICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygndHJhbnNmZXJzJykpIHtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgndHJhbnNmZXJzJywgeyBrZXlQYXRoOiAndHJhbnNmZXJJZCcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdjaHVua3MnKSkge1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdjaHVua3MnLCB7IGtleVBhdGg6IFsndHJhbnNmZXJJZCcsICdpbmRleCddIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYlByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzKGJhc2U2NDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGNvbnN0IGJpbiA9IGF0b2IoYmFzZTY0KTtcbiAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgaSsrKSBvdXRbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZVRyYW5zZmVyKG1ldGE6IE9taXQ8VHJhbnNmZXJSb3csICdyZWNlaXZlZENodW5rcyc+ICYgeyByZWNlaXZlZENodW5rcz86IG51bWJlciB9KSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGIoKTtcbiAgaWYgKCFkYikgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGV4aXN0aW5nID0gKGF3YWl0IGRiLmdldCgndHJhbnNmZXJzJywgbWV0YS50cmFuc2ZlcklkKSkgYXMgVHJhbnNmZXJSb3cgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHJvdzogVHJhbnNmZXJSb3cgPSB7XG4gICAgLi4ubWV0YSxcbiAgICByZWNlaXZlZENodW5rczogZXhpc3Rpbmc/LnJlY2VpdmVkQ2h1bmtzID8/IG1ldGEucmVjZWl2ZWRDaHVua3MgPz8gMCxcbiAgfTtcbiAgYXdhaXQgZGIucHV0KCd0cmFuc2ZlcnMnLCByb3cpO1xuICByZXR1cm4gcm93O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcmVDaHVuayh0cmFuc2ZlcklkOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHRvdGFsQ2h1bmtzOiBudW1iZXIsIGRhdGE6IHN0cmluZykge1xuICBjb25zdCBkYiA9IGF3YWl0IGdldERiKCk7XG4gIGlmICghZGIpIHJldHVybjtcbiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ2NodW5rcycsICd0cmFuc2ZlcnMnXSwgJ3JlYWR3cml0ZScpO1xuICBjb25zdCBrZXkgPSBbdHJhbnNmZXJJZCwgaW5kZXhdIGFzIFtzdHJpbmcsIG51bWJlcl07XG4gIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ2NodW5rcycpLmdldChrZXkpO1xuICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgYXdhaXQgdHgub2JqZWN0U3RvcmUoJ2NodW5rcycpLnB1dCh7IHRyYW5zZmVySWQsIGluZGV4LCBkYXRhIH0gYXMgQ2h1bmtSb3cpO1xuICAgIGNvbnN0IHRyYW5zZmVyID0gKGF3YWl0IHR4Lm9iamVjdFN0b3JlKCd0cmFuc2ZlcnMnKS5nZXQodHJhbnNmZXJJZCkpIGFzIFRyYW5zZmVyUm93IHwgdW5kZWZpbmVkO1xuICAgIGlmICh0cmFuc2Zlcikge1xuICAgICAgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgPSBNYXRoLm1pbih0cmFuc2Zlci50b3RhbENodW5rcywgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgKyAxKTtcbiAgICAgIGF3YWl0IHR4Lm9iamVjdFN0b3JlKCd0cmFuc2ZlcnMnKS5wdXQodHJhbnNmZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0eC5vYmplY3RTdG9yZSgndHJhbnNmZXJzJykucHV0KHtcbiAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgZmlsZU5hbWU6ICdmaWxlJyxcbiAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICBmaWxlVHlwZTogJ2ZpbGUnLFxuICAgICAgICBzaXplOiAwLFxuICAgICAgICB0b3RhbENodW5rcyxcbiAgICAgICAgcmVjZWl2ZWRDaHVua3M6IDEsXG4gICAgICB9IGFzIFRyYW5zZmVyUm93KTtcbiAgICB9XG4gIH1cbiAgYXdhaXQgdHguZG9uZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRyYW5zZmVyKHRyYW5zZmVySWQ6IHN0cmluZykge1xuICBjb25zdCBkYiA9IGF3YWl0IGdldERiKCk7XG4gIGlmICghZGIpIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiAoYXdhaXQgZGIuZ2V0KCd0cmFuc2ZlcnMnLCB0cmFuc2ZlcklkKSkgYXMgVHJhbnNmZXJSb3cgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc1RyYW5zZmVyQ29tcGxldGUodHJhbnNmZXJJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93LmluZGV4ZWREQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0cmFuc2ZlciA9IGF3YWl0IGdldFRyYW5zZmVyKHRyYW5zZmVySWQpO1xuICBpZiAoIXRyYW5zZmVyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cmFuc2Zlci50b3RhbENodW5rcyA+IDAgJiYgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgPj0gdHJhbnNmZXIudG90YWxDaHVua3M7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkb3dubG9hZENodW5rZWRUcmFuc2ZlcihcbiAgdHJhbnNmZXJJZDogc3RyaW5nLFxuICBmYWxsYmFja05hbWU/OiBzdHJpbmcsXG4gIGZhbGxiYWNrTWltZT86IHN0cmluZyxcbik6IFByb21pc2U8dm9pZD47XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRDaHVua2VkVHJhbnNmZXIoXG4gIHRyYW5zZmVySWQ6IHN0cmluZyxcbiAgZmFsbGJhY2tOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIGZhbGxiYWNrTWltZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICByZXR1cm5CbG9iOiB0cnVlLFxuKTogUHJvbWlzZTxCbG9iIHwgbnVsbD47XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRDaHVua2VkVHJhbnNmZXIoXG4gIHRyYW5zZmVySWQ6IHN0cmluZyxcbiAgZmFsbGJhY2tOYW1lPzogc3RyaW5nLFxuICBmYWxsYmFja01pbWU/OiBzdHJpbmcsXG4gIHJldHVybkJsb2IgPSBmYWxzZSxcbik6IFByb21pc2U8QmxvYiB8IG51bGwgfCB2b2lkPiB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGIoKTtcbiAgaWYgKCFkYikgcmV0dXJuIHJldHVybkJsb2IgPyBudWxsIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHRyYW5zZmVyID0gKGF3YWl0IGRiLmdldCgndHJhbnNmZXJzJywgdHJhbnNmZXJJZCkpIGFzIFRyYW5zZmVyUm93IHwgdW5kZWZpbmVkO1xuICBpZiAoIXRyYW5zZmVyKSB7XG4gICAgY29uc29sZS5lcnJvcignVHJhbnNmZXIgbm90IGZvdW5kOicsIHRyYW5zZmVySWQpO1xuICAgIHJldHVybiByZXR1cm5CbG9iID8gbnVsbCA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IGZpbGVOYW1lID0gZmFsbGJhY2tOYW1lIHx8IHRyYW5zZmVyLmZpbGVOYW1lIHx8ICdmaWxlJztcbiAgY29uc3QgbWltZVR5cGUgPSBmYWxsYmFja01pbWUgfHwgdHJhbnNmZXIubWltZVR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG5cbiAgY29uc3QgcmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChbdHJhbnNmZXJJZCwgMF0sIFt0cmFuc2ZlcklkLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUl0pO1xuICBjb25zdCBzdG9yZSA9IGRiLnRyYW5zYWN0aW9uKCdjaHVua3MnLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZSgnY2h1bmtzJyk7XG5cbiAgY29uc3QgcGFydHM6IFVpbnQ4QXJyYXlbXSA9IFtdO1xuICBsZXQgY3Vyc29yID0gYXdhaXQgc3RvcmUub3BlbkN1cnNvcihyYW5nZSk7XG4gIHdoaWxlIChjdXJzb3IpIHtcbiAgICBjb25zdCByb3cgPSBjdXJzb3IudmFsdWUgYXMgQ2h1bmtSb3c7XG4gICAgcGFydHMucHVzaChiYXNlNjRUb0J5dGVzKHJvdy5kYXRhKSk7XG4gICAgY3Vyc29yID0gYXdhaXQgY3Vyc29yLmNvbnRpbnVlKCk7XG4gIH1cblxuICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5lcnJvcignTm8gY2h1bmtzIGZvdW5kIGZvciB0cmFuc2ZlcjonLCB0cmFuc2ZlcklkKTtcbiAgICByZXR1cm4gcmV0dXJuQmxvYiA/IG51bGwgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBibG9iID0gbmV3IEJsb2IocGFydHMsIHsgdHlwZTogbWltZVR5cGUgfSk7XG5cbiAgaWYgKHJldHVybkJsb2IpIHtcbiAgICByZXR1cm4gYmxvYjtcbiAgfVxuXG4gIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICBhLmNsaWNrKCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbn1cblxuIl0sIm5hbWVzIjpbIm9wZW5EQiIsIkRCX05BTUUiLCJEQl9WRVJTSU9OIiwiZGJQcm9taXNlIiwiZ2V0RGIiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJ1cGdyYWRlIiwiZGIiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJiYXNlNjRUb0J5dGVzIiwiYmFzZTY0IiwiYmluIiwiYXRvYiIsIm91dCIsIlVpbnQ4QXJyYXkiLCJsZW5ndGgiLCJpIiwiY2hhckNvZGVBdCIsImVuc3VyZVRyYW5zZmVyIiwibWV0YSIsImV4aXN0aW5nIiwiZ2V0IiwidHJhbnNmZXJJZCIsInJvdyIsInJlY2VpdmVkQ2h1bmtzIiwicHV0Iiwic3RvcmVDaHVuayIsImluZGV4IiwidG90YWxDaHVua3MiLCJkYXRhIiwidHgiLCJ0cmFuc2FjdGlvbiIsImtleSIsIm9iamVjdFN0b3JlIiwidHJhbnNmZXIiLCJNYXRoIiwibWluIiwiZmlsZU5hbWUiLCJtaW1lVHlwZSIsImZpbGVUeXBlIiwic2l6ZSIsImRvbmUiLCJnZXRUcmFuc2ZlciIsInVuZGVmaW5lZCIsImlzVHJhbnNmZXJDb21wbGV0ZSIsImRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIiwiZmFsbGJhY2tOYW1lIiwiZmFsbGJhY2tNaW1lIiwicmV0dXJuQmxvYiIsImNvbnNvbGUiLCJlcnJvciIsInJhbmdlIiwiSURCS2V5UmFuZ2UiLCJib3VuZCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJzdG9yZSIsInBhcnRzIiwiY3Vyc29yIiwib3BlbkN1cnNvciIsInZhbHVlIiwicHVzaCIsImNvbnRpbnVlIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/chunkStore.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/fileUtils.ts":
/*!******************************!*\
  !*** ./src/lib/fileUtils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBlob: () => (/* binding */ base64ToBlob),\n/* harmony export */   downloadAttachment: () => (/* binding */ downloadAttachment),\n/* harmony export */   fileToBase64: () => (/* binding */ fileToBase64),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getFileIcon: () => (/* binding */ getFileIcon),\n/* harmony export */   isAudioType: () => (/* binding */ isAudioType),\n/* harmony export */   isImageType: () => (/* binding */ isImageType),\n/* harmony export */   processFile: () => (/* binding */ processFile)\n/* harmony export */ });\nconst MAX_FILE_SIZE = 2 * 1024 * 1024 * 1024;\nconst INLINE_LIMIT = 8 * 1024 * 1024;\nconst IMAGE_TYPES = [\n    \"image/jpeg\",\n    \"image/png\",\n    \"image/gif\",\n    \"image/webp\",\n    \"image/svg+xml\"\n];\nconst AUDIO_TYPES = [\n    \"audio/webm\",\n    \"audio/mpeg\",\n    \"audio/ogg\",\n    \"audio/wav\",\n    \"audio/aac\"\n];\nfunction isImageType(mimeType) {\n    return IMAGE_TYPES.includes(mimeType);\n}\nfunction isAudioType(mimeType) {\n    return AUDIO_TYPES.includes(mimeType) || mimeType.startsWith(\"audio/\");\n}\nfunction formatFileSize(bytes) {\n    if (bytes < 1024) return `${bytes} B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n    if (bytes < 1024 * 1024 * 1024) return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n    return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`;\n}\nfunction fileToBase64(file) {\n    return new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>{\n            const result = reader.result;\n            const base64 = result.split(\",\")[1];\n            resolve(base64);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n    });\n}\nfunction compressImage(file, maxWidth, maxHeight, quality) {\n    return new Promise((resolve, reject)=>{\n        const img = new window.Image();\n        const url = URL.createObjectURL(file);\n        img.onload = ()=>{\n            URL.revokeObjectURL(url);\n            let w = img.width;\n            let h = img.height;\n            if (w > maxWidth || h > maxHeight) {\n                const ratio = Math.min(maxWidth / w, maxHeight / h);\n                w = Math.round(w * ratio);\n                h = Math.round(h * ratio);\n            }\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return reject(new Error(\"Canvas context unavailable\"));\n            ctx.drawImage(img, 0, 0, w, h);\n            const dataUrl = canvas.toDataURL(\"image/jpeg\", quality);\n            resolve(dataUrl.split(\",\")[1]);\n        };\n        img.onerror = reject;\n        img.src = url;\n    });\n}\nasync function processFile(file) {\n    if (file.size > MAX_FILE_SIZE) {\n        throw new Error(`File is too large. Maximum: ${formatFileSize(MAX_FILE_SIZE)}.`);\n    }\n    const isImage = isImageType(file.type);\n    const isAudio = isAudioType(file.type);\n    let mimeType = file.type || \"application/octet-stream\";\n    let attachmentType = \"file\";\n    if (isImage) {\n        attachmentType = \"image\";\n        mimeType = \"image/jpeg\";\n    } else if (isAudio) {\n        attachmentType = \"audio\";\n    }\n    if (file.size > INLINE_LIMIT) {\n        return {\n            type: attachmentType,\n            name: file.name,\n            mimeType,\n            data: \"\",\n            size: file.size,\n            file,\n            chunked: true\n        };\n    }\n    const base64 = isImage && file.size > 200 * 1024 ? await compressImage(file, 2048, 2048, 0.82) : await fileToBase64(file);\n    return {\n        type: attachmentType,\n        name: file.name,\n        mimeType,\n        data: base64,\n        size: file.size,\n        file\n    };\n}\nfunction base64ToBlob(base64, mimeType) {\n    const byteChars = atob(base64);\n    const byteNumbers = new Uint8Array(byteChars.length);\n    for(let i = 0; i < byteChars.length; i++)byteNumbers[i] = byteChars.charCodeAt(i);\n    return new Blob([\n        byteNumbers.buffer\n    ], {\n        type: mimeType\n    });\n}\nfunction downloadAttachment(attachment) {\n    const blob = base64ToBlob(attachment.data, attachment.mimeType);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = attachment.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\nfunction getFileIcon(mimeType) {\n    if (mimeType.startsWith(\"image/\")) return \"\\uD83D\\uDDBC\";\n    if (mimeType.startsWith(\"video/\")) return \"\\uD83C\\uDFAC\";\n    if (mimeType.startsWith(\"audio/\")) return \"\\uD83C\\uDFB5\";\n    if (mimeType.includes(\"pdf\")) return \"\\uD83D\\uDCC4\";\n    if (mimeType.includes(\"zip\") || mimeType.includes(\"rar\") || mimeType.includes(\"tar\")) return \"\\uD83D\\uDCE6\";\n    if (mimeType.includes(\"text\")) return \"\\uD83D\\uDCDD\";\n    if (mimeType.includes(\"json\") || mimeType.includes(\"xml\")) return \"\";\n    return \"\\uD83D\\uDCCE\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJRSxLQUFLO1FBQUNMLFlBQVlNLE1BQU07S0FBZ0IsRUFBRTtRQUFFZixNQUFNcEQ7SUFBUztBQUN4RTtBQUVPLFNBQVNvRSxtQkFBbUJDLFVBQXNCO0lBQ3ZELE1BQU1DLE9BQU9aLGFBQWFXLFdBQVdiLElBQUksRUFBRWEsV0FBV3JFLFFBQVE7SUFDOUQsTUFBTTJCLE1BQU1DLElBQUlDLGVBQWUsQ0FBQ3lDO0lBQ2hDLE1BQU1DLElBQUkvQixTQUFTQyxhQUFhLENBQUM7SUFDakM4QixFQUFFQyxJQUFJLEdBQUc3QztJQUNUNEMsRUFBRUUsUUFBUSxHQUFHSixXQUFXZCxJQUFJO0lBQzVCZixTQUFTa0MsSUFBSSxDQUFDQyxXQUFXLENBQUNKO0lBQzFCQSxFQUFFSyxLQUFLO0lBQ1BwQyxTQUFTa0MsSUFBSSxDQUFDRyxXQUFXLENBQUNOO0lBQzFCM0MsSUFBSUUsZUFBZSxDQUFDSDtBQUN0QjtBQUVPLFNBQVNtRCxZQUFZOUUsUUFBZ0I7SUFDMUMsSUFBSUEsU0FBU0csVUFBVSxDQUFDLFdBQVcsT0FBTztJQUMxQyxJQUFJSCxTQUFTRyxVQUFVLENBQUMsV0FBVyxPQUFPO0lBQzFDLElBQUlILFNBQVNHLFVBQVUsQ0FBQyxXQUFXLE9BQU87SUFDMUMsSUFBSUgsU0FBU0MsUUFBUSxDQUFDLFFBQVEsT0FBTztJQUNyQyxJQUFJRCxTQUFTQyxRQUFRLENBQUMsVUFBVUQsU0FBU0MsUUFBUSxDQUFDLFVBQVVELFNBQVNDLFFBQVEsQ0FBQyxRQUFRLE9BQU87SUFDN0YsSUFBSUQsU0FBU0MsUUFBUSxDQUFDLFNBQVMsT0FBTztJQUN0QyxJQUFJRCxTQUFTQyxRQUFRLENBQUMsV0FBV0QsU0FBU0MsUUFBUSxDQUFDLFFBQVEsT0FBTztJQUNsRSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2xpYi9maWxlVXRpbHMudHM/YzBiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEF0dGFjaG1lbnQgfSBmcm9tICcuL25vc3RyJztcblxuY29uc3QgTUFYX0ZJTEVfU0laRSA9IDIgKiAxMDI0ICogMTAyNCAqIDEwMjQ7XG5jb25zdCBJTkxJTkVfTElNSVQgPSA4ICogMTAyNCAqIDEwMjQ7XG5jb25zdCBJTUFHRV9UWVBFUyA9IFsnaW1hZ2UvanBlZycsICdpbWFnZS9wbmcnLCAnaW1hZ2UvZ2lmJywgJ2ltYWdlL3dlYnAnLCAnaW1hZ2Uvc3ZnK3htbCddO1xuY29uc3QgQVVESU9fVFlQRVMgPSBbJ2F1ZGlvL3dlYm0nLCAnYXVkaW8vbXBlZycsICdhdWRpby9vZ2cnLCAnYXVkaW8vd2F2JywgJ2F1ZGlvL2FhYyddO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNJbWFnZVR5cGUobWltZVR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gSU1BR0VfVFlQRVMuaW5jbHVkZXMobWltZVR5cGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBdWRpb1R5cGUobWltZVR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gQVVESU9fVFlQRVMuaW5jbHVkZXMobWltZVR5cGUpIHx8IG1pbWVUeXBlLnN0YXJ0c1dpdGgoJ2F1ZGlvLycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChieXRlcyA8IDEwMjQpIHJldHVybiBgJHtieXRlc30gQmA7XG4gIGlmIChieXRlcyA8IDEwMjQgKiAxMDI0KSByZXR1cm4gYCR7KGJ5dGVzIC8gMTAyNCkudG9GaXhlZCgxKX0gS0JgO1xuICBpZiAoYnl0ZXMgPCAxMDI0ICogMTAyNCAqIDEwMjQpIHJldHVybiBgJHsoYnl0ZXMgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNQmA7XG4gIHJldHVybiBgJHsoYnl0ZXMgLyAoMTAyNCAqIDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKX0gR0JgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZVRvQmFzZTY0KGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nO1xuICAgICAgY29uc3QgYmFzZTY0ID0gcmVzdWx0LnNwbGl0KCcsJylbMV07XG4gICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgfTtcbiAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbXByZXNzSW1hZ2UoZmlsZTogRmlsZSwgbWF4V2lkdGg6IG51bWJlciwgbWF4SGVpZ2h0OiBudW1iZXIsIHF1YWxpdHk6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgIGxldCB3ID0gaW1nLndpZHRoO1xuICAgICAgbGV0IGggPSBpbWcuaGVpZ2h0O1xuICAgICAgaWYgKHcgPiBtYXhXaWR0aCB8fCBoID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gTWF0aC5taW4obWF4V2lkdGggLyB3LCBtYXhIZWlnaHQgLyBoKTtcbiAgICAgICAgdyA9IE1hdGgucm91bmQodyAqIHJhdGlvKTtcbiAgICAgICAgaCA9IE1hdGgucm91bmQoaCAqIHJhdGlvKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgY2FudmFzLndpZHRoID0gdztcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZiAoIWN0eCkgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ0NhbnZhcyBjb250ZXh0IHVuYXZhaWxhYmxlJykpO1xuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHcsIGgpO1xuICAgICAgY29uc3QgZGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTtcbiAgICAgIHJlc29sdmUoZGF0YVVybC5zcGxpdCgnLCcpWzFdKTtcbiAgICB9O1xuICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICAgIGltZy5zcmMgPSB1cmw7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ZpbGUoZmlsZTogRmlsZSk6IFByb21pc2U8QXR0YWNobWVudD4ge1xuICBpZiAoZmlsZS5zaXplID4gTUFYX0ZJTEVfU0laRSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmlsZSBpcyB0b28gbGFyZ2UuIE1heGltdW06ICR7Zm9ybWF0RmlsZVNpemUoTUFYX0ZJTEVfU0laRSl9LmApO1xuICB9XG5cbiAgY29uc3QgaXNJbWFnZSA9IGlzSW1hZ2VUeXBlKGZpbGUudHlwZSk7XG4gIGNvbnN0IGlzQXVkaW8gPSBpc0F1ZGlvVHlwZShmaWxlLnR5cGUpO1xuICBsZXQgbWltZVR5cGUgPSBmaWxlLnR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gIGxldCBhdHRhY2htZW50VHlwZTogJ2ltYWdlJyB8ICdmaWxlJyB8ICdhdWRpbycgPSAnZmlsZSc7XG5cbiAgaWYgKGlzSW1hZ2UpIHtcbiAgICAgIGF0dGFjaG1lbnRUeXBlID0gJ2ltYWdlJztcbiAgICAgIG1pbWVUeXBlID0gJ2ltYWdlL2pwZWcnO1xuICB9IGVsc2UgaWYgKGlzQXVkaW8pIHtcbiAgICAgIGF0dGFjaG1lbnRUeXBlID0gJ2F1ZGlvJztcbiAgfVxuXG4gIGlmIChmaWxlLnNpemUgPiBJTkxJTkVfTElNSVQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYXR0YWNobWVudFR5cGUsXG4gICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICBtaW1lVHlwZSxcbiAgICAgIGRhdGE6ICcnLFxuICAgICAgc2l6ZTogZmlsZS5zaXplLFxuICAgICAgZmlsZSxcbiAgICAgIGNodW5rZWQ6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGJhc2U2NCA9IGlzSW1hZ2UgJiYgZmlsZS5zaXplID4gMjAwICogMTAyNFxuICAgID8gYXdhaXQgY29tcHJlc3NJbWFnZShmaWxlLCAyMDQ4LCAyMDQ4LCAwLjgyKVxuICAgIDogYXdhaXQgZmlsZVRvQmFzZTY0KGZpbGUpO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogYXR0YWNobWVudFR5cGUsXG4gICAgbmFtZTogZmlsZS5uYW1lLFxuICAgIG1pbWVUeXBlLFxuICAgIGRhdGE6IGJhc2U2NCxcbiAgICBzaXplOiBmaWxlLnNpemUsXG4gICAgZmlsZSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvQmxvYihiYXNlNjQ6IHN0cmluZywgbWltZVR5cGU6IHN0cmluZyk6IEJsb2Ige1xuICBjb25zdCBieXRlQ2hhcnMgPSBhdG9iKGJhc2U2NCk7XG4gIGNvbnN0IGJ5dGVOdW1iZXJzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUNoYXJzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZUNoYXJzLmxlbmd0aDsgaSsrKSBieXRlTnVtYmVyc1tpXSA9IGJ5dGVDaGFycy5jaGFyQ29kZUF0KGkpO1xuICByZXR1cm4gbmV3IEJsb2IoW2J5dGVOdW1iZXJzLmJ1ZmZlciBhcyBBcnJheUJ1ZmZlcl0sIHsgdHlwZTogbWltZVR5cGUgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEF0dGFjaG1lbnQoYXR0YWNobWVudDogQXR0YWNobWVudCkge1xuICBjb25zdCBibG9iID0gYmFzZTY0VG9CbG9iKGF0dGFjaG1lbnQuZGF0YSwgYXR0YWNobWVudC5taW1lVHlwZSk7XG4gIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IGF0dGFjaG1lbnQubmFtZTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgYS5jbGljaygpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlSWNvbihtaW1lVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKG1pbWVUeXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSByZXR1cm4gJ/CflrzvuI8nO1xuICBpZiAobWltZVR5cGUuc3RhcnRzV2l0aCgndmlkZW8vJykpIHJldHVybiAn8J+OrCc7XG4gIGlmIChtaW1lVHlwZS5zdGFydHNXaXRoKCdhdWRpby8nKSkgcmV0dXJuICfwn461JztcbiAgaWYgKG1pbWVUeXBlLmluY2x1ZGVzKCdwZGYnKSkgcmV0dXJuICfwn5OEJztcbiAgaWYgKG1pbWVUeXBlLmluY2x1ZGVzKCd6aXAnKSB8fCBtaW1lVHlwZS5pbmNsdWRlcygncmFyJykgfHwgbWltZVR5cGUuaW5jbHVkZXMoJ3RhcicpKSByZXR1cm4gJ/Cfk6YnO1xuICBpZiAobWltZVR5cGUuaW5jbHVkZXMoJ3RleHQnKSkgcmV0dXJuICfwn5OdJztcbiAgaWYgKG1pbWVUeXBlLmluY2x1ZGVzKCdqc29uJykgfHwgbWltZVR5cGUuaW5jbHVkZXMoJ3htbCcpKSByZXR1cm4gJ+Kame+4jyc7XG4gIHJldHVybiAn8J+Tjic7XG59XG4iXSwibmFtZXMiOlsiTUFYX0ZJTEVfU0laRSIsIklOTElORV9MSU1JVCIsIklNQUdFX1RZUEVTIiwiQVVESU9fVFlQRVMiLCJpc0ltYWdlVHlwZSIsIm1pbWVUeXBlIiwiaW5jbHVkZXMiLCJpc0F1ZGlvVHlwZSIsInN0YXJ0c1dpdGgiLCJmb3JtYXRGaWxlU2l6ZSIsImJ5dGVzIiwidG9GaXhlZCIsImZpbGVUb0Jhc2U2NCIsImZpbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJiYXNlNjQiLCJzcGxpdCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwiY29tcHJlc3NJbWFnZSIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwicXVhbGl0eSIsImltZyIsIndpbmRvdyIsIkltYWdlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwidyIsIndpZHRoIiwiaCIsImhlaWdodCIsInJhdGlvIiwiTWF0aCIsIm1pbiIsInJvdW5kIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsIkVycm9yIiwiZHJhd0ltYWdlIiwiZGF0YVVybCIsInRvRGF0YVVSTCIsInNyYyIsInByb2Nlc3NGaWxlIiwic2l6ZSIsImlzSW1hZ2UiLCJ0eXBlIiwiaXNBdWRpbyIsImF0dGFjaG1lbnRUeXBlIiwibmFtZSIsImRhdGEiLCJjaHVua2VkIiwiYmFzZTY0VG9CbG9iIiwiYnl0ZUNoYXJzIiwiYXRvYiIsImJ5dGVOdW1iZXJzIiwiVWludDhBcnJheSIsImxlbmd0aCIsImkiLCJjaGFyQ29kZUF0IiwiQmxvYiIsImJ1ZmZlciIsImRvd25sb2FkQXR0YWNobWVudCIsImF0dGFjaG1lbnQiLCJibG9iIiwiYSIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJnZXRGaWxlSWNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/fileUtils.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/nostr.ts":
/*!**************************!*\
  !*** ./src/lib/nostr.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_RELAYS: () => (/* binding */ DEFAULT_RELAYS),\n/* harmony export */   nostrClient: () => (/* binding */ nostrClient)\n/* harmony export */ });\n/* harmony import */ var nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nostr-tools/pure */ \"(ssr)/./node_modules/nostr-tools/lib/esm/pure.js\");\n/* harmony import */ var nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nostr-tools/nip04 */ \"(ssr)/./node_modules/nostr-tools/lib/esm/nip04.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _chunkStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n\n\n\n\nconst DEFAULT_RELAYS = [\n    \"wss://relay.damus.io\",\n    \"wss://nos.lol\",\n    \"wss://relay.snort.social\",\n    \"wss://relay.primal.net\",\n    \"wss://purplepag.es\",\n    \"wss://nostr.mom\",\n    \"wss://relay.nostr.bg\"\n];\nclass NostrClient {\n    get publicKey() {\n        return this._pk;\n    }\n    get privateKeyHex() {\n        return this._sk ? (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this._sk) : \"\";\n    }\n    get relays() {\n        return [\n            ...this._relays\n        ];\n    }\n    get channels() {\n        return [\n            ...this._channels\n        ];\n    }\n    get sk() {\n        return this._sk;\n    }\n    getRelayStatus(relay) {\n        return this.relayStatus.get(relay) || \"disconnected\";\n    }\n    get connectedRelayCount() {\n        let c = 0;\n        this.relayStatus.forEach((s)=>{\n            if (s === \"connected\") {\n                c++;\n            }\n        });\n        return c;\n    }\n    generateKeys() {\n        const sk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.generateSecretKey)();\n        const pk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.getPublicKey)(sk);\n        return {\n            privateKey: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(sk),\n            publicKey: pk\n        };\n    }\n    login(privateKeyHex) {\n        const sk = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)(privateKeyHex);\n        const pk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.getPublicKey)(sk);\n        this._sk = sk;\n        this._pk = pk;\n        this._stopped = false;\n        localStorage.setItem(\"nostr_sk\", privateKeyHex);\n        return pk;\n    }\n    logout() {\n        this._stopped = true;\n        this.disconnectAll();\n        this._sk = null;\n        this._pk = \"\";\n        localStorage.removeItem(\"nostr_sk\");\n        localStorage.removeItem(\"nostr_contacts\");\n    }\n    tryAutoLogin() {\n        const sk = localStorage.getItem(\"nostr_sk\");\n        if (sk?.length === 64) {\n            try {\n                this.login(sk);\n                return true;\n            } catch  {\n                localStorage.removeItem(\"nostr_sk\");\n            }\n        }\n        return false;\n    }\n    onMessage(cb) {\n        this.messageCallbacks.add(cb);\n        return ()=>{\n            this.messageCallbacks.delete(cb);\n        };\n    }\n    onChannel(cb) {\n        this.channelCallbacks.add(cb);\n        return ()=>{\n            this.channelCallbacks.delete(cb);\n        };\n    }\n    onChannelMessage(cb) {\n        this.channelMessageCallbacks.add(cb);\n        return ()=>{\n            this.channelMessageCallbacks.delete(cb);\n        };\n    }\n    onProfile(cb) {\n        this.profileCallbacks.add(cb);\n        return ()=>{\n            this.profileCallbacks.delete(cb);\n        };\n    }\n    onConnection(cb) {\n        this.connectionCallbacks.add(cb);\n        return ()=>{\n            this.connectionCallbacks.delete(cb);\n        };\n    }\n    onSignal(cb) {\n        this.signalCallbacks.add(cb);\n        return ()=>{\n            this.signalCallbacks.delete(cb);\n        };\n    }\n    async connectToRelays() {\n        for (const r of this._relays)this.connectToRelay(r);\n    }\n    setChannels(channelIds) {\n        this._channels = [\n            ...new Set(channelIds.filter(Boolean))\n        ];\n        for (const [relay, ws] of this.sockets){\n            if (ws.readyState === WebSocket.OPEN) this.subscribeToChannels(relay);\n        }\n    }\n    connectToRelay(url) {\n        if (this._stopped) return;\n        if (this.sockets.has(url)) {\n            const e = this.sockets.get(url);\n            if (e.readyState === WebSocket.OPEN || e.readyState === WebSocket.CONNECTING) return;\n        }\n        this.relayStatus.set(url, \"connecting\");\n        this.connectionCallbacks.forEach((cb)=>cb(url, \"disconnected\"));\n        try {\n            const ws = new WebSocket(url);\n            const ct = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) ws.close();\n            }, 8000);\n            this.sockets.set(url, ws);\n            ws.onopen = ()=>{\n                clearTimeout(ct);\n                this.reconnectAttempts.set(url, 0);\n                this.relayStatus.set(url, \"connected\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"connected\"));\n                this.subscribeToMessages(url);\n            };\n            ws.onclose = ()=>{\n                clearTimeout(ct);\n                this.relayStatus.set(url, \"disconnected\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"disconnected\"));\n                this.sockets.delete(url);\n                this.scheduleReconnect(url);\n            };\n            ws.onerror = ()=>{\n                this.relayStatus.set(url, \"error\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"error\"));\n            };\n            ws.onmessage = (e)=>{\n                try {\n                    this.handleRelayMessage(JSON.parse(e.data));\n                } catch  {}\n            };\n        } catch  {\n            this.relayStatus.set(url, \"error\");\n            this.scheduleReconnect(url);\n        }\n    }\n    scheduleReconnect(url) {\n        if (this._stopped) return;\n        const e = this.reconnectTimers.get(url);\n        if (e) clearTimeout(e);\n        const a = this.reconnectAttempts.get(url) || 0;\n        const d = Math.min(3000 * Math.pow(2, a), 60000);\n        this.reconnectAttempts.set(url, a + 1);\n        this.reconnectTimers.set(url, setTimeout(()=>{\n            if (!this._stopped && this._sk) this.connectToRelay(url);\n        }, d));\n    }\n    handleRelayMessage(data) {\n        if (!Array.isArray(data)) return;\n        if (data[0] === \"EVENT\") {\n            const ev = data[2];\n            if (!ev || this.seenEvents.has(ev.id)) return;\n            this.seenEvents.add(ev.id);\n            if (ev.kind === 4) this.handleEncryptedDM(ev);\n            else if (ev.kind === 0) this.handleProfileEvent(ev);\n            else if (ev.kind === 40) this.handleChannelEvent(ev);\n            else if (ev.kind === 42) this.handleChannelMessageEvent(ev);\n        }\n    }\n    async handleEncryptedDM(event) {\n        if (!this._sk) return;\n        const pTag = event.tags.find((t)=>t[0] === \"p\");\n        if (!pTag) return;\n        const isForMe = pTag[1] === this._pk, isFromMe = event.pubkey === this._pk;\n        if (!isForMe && !isFromMe) return;\n        const other = isFromMe ? pTag[1] : event.pubkey;\n        try {\n            const dec = await (0,nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__.decrypt)(this._sk, other, event.content);\n            try {\n                const p = JSON.parse(dec);\n                if (p?._nostr_msg_type) {\n                    const mt = p._nostr_msg_type;\n                    if (mt === \"text\") {\n                        this.messageCallbacks.forEach((cb)=>cb({\n                                id: event.id,\n                                from: event.pubkey,\n                                to: pTag[1],\n                                content: p.text || \"\",\n                                timestamp: event.created_at * 1000,\n                                msgType: \"text\",\n                                replyTo: p.replyTo\n                            }));\n                        return;\n                    }\n                    if ([\n                        \"webrtc-offer\",\n                        \"webrtc-answer\",\n                        \"webrtc-ice\",\n                        \"call-request\",\n                        \"call-accept\",\n                        \"call-reject\",\n                        \"call-end\"\n                    ].includes(mt)) {\n                        this.signalCallbacks.forEach((cb)=>cb(event.pubkey, {\n                                type: mt,\n                                sdp: p.sdp,\n                                candidate: p.candidate,\n                                callType: p.callType,\n                                callId: p.callId\n                            }));\n                        return;\n                    }\n                    if (mt === \"file-chunk\") {\n                        this.handleFileChunk(event.id, event.pubkey, pTag[1], event.created_at * 1000, p);\n                        return;\n                    }\n                    if (mt === \"file-meta\") {\n                        const transferId = p.transferId || \"\";\n                        if (!transferId) return;\n                        const fileType = [\n                            \"image\",\n                            \"audio\"\n                        ].includes(p.fileType) ? p.fileType : \"file\";\n                        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n                            transferId,\n                            fileName: p.fileName || \"file\",\n                            mimeType: p.mimeType || \"application/octet-stream\",\n                            fileType,\n                            size: p.size || 0,\n                            totalChunks: p.totalChunks || 0,\n                            text: p.text || \"\"\n                        });\n                        return;\n                    }\n                    if (mt === \"image\" || mt === \"file\" || mt === \"audio\") {\n                        this.messageCallbacks.forEach((cb)=>cb({\n                                id: event.id,\n                                from: event.pubkey,\n                                to: pTag[1],\n                                content: p.text || \"\",\n                                timestamp: event.created_at * 1000,\n                                msgType: mt,\n                                replyTo: p.replyTo,\n                                attachment: {\n                                    type: mt,\n                                    name: p.fileName || \"file\",\n                                    mimeType: p.mimeType || \"application/octet-stream\",\n                                    data: p.data || \"\",\n                                    size: p.size || 0\n                                }\n                            }));\n                        return;\n                    }\n                }\n            } catch  {}\n            this.messageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: pTag[1],\n                    content: dec,\n                    timestamp: event.created_at * 1000,\n                    msgType: \"text\"\n                }));\n        } catch  {}\n    }\n    async handleFileChunk(eventId, from, to, timestamp, p) {\n        const transferId = p.transferId;\n        const chunkIndex = p.chunkIndex;\n        const totalChunks = p.totalChunks;\n        const data = p.data;\n        if (!transferId || typeof chunkIndex !== \"number\" || typeof totalChunks !== \"number\" || typeof data !== \"string\") return;\n        const fileType = [\n            \"image\",\n            \"audio\"\n        ].includes(p.fileType) ? p.fileType : \"file\";\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n            transferId,\n            fileName: p.fileName || \"file\",\n            mimeType: p.mimeType || \"application/octet-stream\",\n            fileType,\n            size: p.size || 0,\n            totalChunks,\n            text: p.text || \"\"\n        });\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.storeChunk)(transferId, chunkIndex, totalChunks, data);\n        const done = await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.isTransferComplete)(transferId);\n        if (!done) return;\n        this.messageCallbacks.forEach((cb)=>cb({\n                id: `${eventId}-assembled-${transferId}`,\n                from,\n                to,\n                content: p.text || \"\",\n                timestamp,\n                msgType: fileType,\n                replyTo: p.replyTo,\n                attachment: {\n                    type: fileType,\n                    name: p.fileName || \"file\",\n                    mimeType: p.mimeType || \"application/octet-stream\",\n                    data: \"\",\n                    size: p.size || 0,\n                    transferId,\n                    totalChunks,\n                    chunked: true\n                }\n            }));\n    }\n    handleProfileEvent(event) {\n        try {\n            const p = JSON.parse(event.content);\n            this.profileCache.set(event.pubkey, p);\n            this.pendingProfiles.delete(event.pubkey);\n            this.profileCallbacks.forEach((cb)=>cb(event.pubkey, p));\n        } catch  {}\n    }\n    handleChannelEvent(event) {\n        try {\n            const payload = JSON.parse(event.content);\n            const channel = {\n                id: event.id,\n                name: payload.name?.trim() || `channel-${event.id.slice(0, 8)}`,\n                about: payload.about,\n                createdBy: event.pubkey,\n                createdAt: event.created_at * 1000\n            };\n            this.channelCallbacks.forEach((cb)=>cb(channel));\n        } catch  {}\n    }\n    handleChannelMessageEvent(event) {\n        const eTag = event.tags.find((t)=>t[0] === \"e\")?.[1];\n        if (!eTag) return;\n        try {\n            const payload = JSON.parse(event.content);\n            this.channelMessageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: \"\",\n                    content: payload.text || \"\",\n                    timestamp: event.created_at * 1000,\n                    msgType: \"channel\",\n                    channelId: eTag,\n                    replyTo: payload.replyTo\n                }));\n        } catch  {\n            this.channelMessageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: \"\",\n                    content: event.content || \"\",\n                    timestamp: event.created_at * 1000,\n                    msgType: \"channel\",\n                    channelId: eTag\n                }));\n        }\n    }\n    subscribeToMessages(relayUrl) {\n        if (!this._pk) return;\n        const ws = this.sockets.get(relayUrl);\n        if (!ws || ws.readyState !== WebSocket.OPEN) return;\n        const subId = \"dm-\" + Math.random().toString(36).slice(2, 8);\n        const since = Math.floor(Date.now() / 1000) - 86400 * 30;\n        ws.send(JSON.stringify([\n            \"REQ\",\n            subId,\n            {\n                kinds: [\n                    4\n                ],\n                \"#p\": [\n                    this._pk\n                ],\n                since\n            },\n            {\n                kinds: [\n                    4\n                ],\n                authors: [\n                    this._pk\n                ],\n                since\n            }\n        ]));\n        this.subscriptions.set(subId, {\n            filters: [],\n            relay: relayUrl\n        });\n        this.subscribeToChannels(relayUrl);\n    }\n    subscribeToChannels(relayUrl) {\n        const ws = this.sockets.get(relayUrl);\n        if (!ws || ws.readyState !== WebSocket.OPEN) return;\n        if (this._channels.length === 0) return; // Do not subscribe to global channels\n        const subId = \"ch-\" + Math.random().toString(36).slice(2, 8);\n        const since = Math.floor(Date.now() / 1000) - 86400 * 30;\n        // Only subscribe to channels the user has joined\n        ws.send(JSON.stringify([\n            \"REQ\",\n            subId,\n            {\n                kinds: [\n                    40\n                ],\n                ids: this._channels,\n                since\n            },\n            {\n                kinds: [\n                    42\n                ],\n                \"#e\": this._channels,\n                since\n            }\n        ]));\n        this.subscriptions.set(subId, {\n            filters: [],\n            relay: relayUrl\n        });\n    }\n    async sendEncryptedPayload(recipientPubkey, payload) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const encrypted = await (0,nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__.encrypt)(this._sk, recipientPubkey, payload);\n        const ev = {\n            kind: 4,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [\n                [\n                    \"p\",\n                    recipientPubkey\n                ]\n            ],\n            content: encrypted,\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        this.seenEvents.add(event.id);\n        const json = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        const open = [];\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) open.push(ws);\n        if (!open.length) throw new Error(\"No connected relays\");\n        open.forEach((ws)=>{\n            try {\n                ws.send(json);\n            } catch  {}\n        });\n        return event.id;\n    }\n    bytesToBase64(bytes) {\n        let bin = \"\";\n        const step = 0x8000;\n        for(let i = 0; i < bytes.length; i += step){\n            bin += String.fromCharCode(...bytes.subarray(i, i + step));\n        }\n        return btoa(bin);\n    }\n    async sendDirectMessage(recipientPubkey, content, replyTo) {\n        const payload = replyTo ? JSON.stringify({\n            _nostr_msg_type: \"text\",\n            text: content,\n            replyTo\n        }) : content;\n        const id = await this.sendEncryptedPayload(recipientPubkey, payload);\n        return {\n            id,\n            from: this._pk,\n            to: recipientPubkey,\n            content,\n            timestamp: Date.now(),\n            msgType: \"text\",\n            replyTo\n        };\n    }\n    static{\n        // 256KB chunks, parallel send by 3\n        this.CHUNK_SIZE = 262144;\n    }\n    static{\n        this.PARALLEL = 3;\n    }\n    async sendAttachment(recipientPubkey, attachment, text, onProgress, replyTo) {\n        const maxSize = 2 * 1024 * 1024 * 1024;\n        if (attachment.size > maxSize) throw new Error(\"File is too large. Max size is 2GB.\");\n        if (!attachment.file) {\n            const b64 = attachment.data;\n            if (b64.length < 40000) {\n                const id = await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                    _nostr_msg_type: attachment.type,\n                    fileName: attachment.name,\n                    mimeType: attachment.mimeType,\n                    data: b64,\n                    size: attachment.size,\n                    text: text || \"\",\n                    replyTo\n                }));\n                return {\n                    id,\n                    from: this._pk,\n                    to: recipientPubkey,\n                    content: text || \"\",\n                    timestamp: Date.now(),\n                    msgType: attachment.type,\n                    attachment,\n                    replyTo\n                };\n            }\n        }\n        const file = attachment.file;\n        const transferId = Math.random().toString(36).slice(2) + Date.now().toString(36);\n        const fileSize = file ? file.size : attachment.size;\n        const totalChunks = Math.ceil(fileSize / NostrClient.CHUNK_SIZE);\n        let lastId = \"\";\n        let sent = 0;\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n            transferId,\n            fileName: attachment.name,\n            mimeType: attachment.mimeType,\n            fileType: attachment.type,\n            size: fileSize,\n            totalChunks,\n            text: text || \"\"\n        });\n        await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n            _nostr_msg_type: \"file-meta\",\n            transferId,\n            totalChunks,\n            fileName: attachment.name,\n            mimeType: attachment.mimeType,\n            size: fileSize,\n            text: text || \"\",\n            fileType: attachment.type,\n            replyTo\n        }));\n        for(let batch = 0; batch < totalChunks; batch += NostrClient.PARALLEL){\n            const promises = [];\n            const localChunks = [];\n            for(let j = 0; j < NostrClient.PARALLEL && batch + j < totalChunks; j++){\n                const i = batch + j;\n                let chunkData;\n                if (file) {\n                    const start = i * NostrClient.CHUNK_SIZE;\n                    const end = Math.min(start + NostrClient.CHUNK_SIZE, fileSize);\n                    const bytes = new Uint8Array(await file.slice(start, end).arrayBuffer());\n                    chunkData = this.bytesToBase64(bytes);\n                } else {\n                    const base64ChunkSize = Math.floor(NostrClient.CHUNK_SIZE / 3 * 4);\n                    chunkData = attachment.data.slice(i * base64ChunkSize, (i + 1) * base64ChunkSize);\n                }\n                localChunks.push({\n                    i,\n                    data: chunkData\n                });\n                promises.push(this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                    _nostr_msg_type: \"file-chunk\",\n                    transferId,\n                    chunkIndex: i,\n                    totalChunks,\n                    data: chunkData,\n                    fileName: attachment.name,\n                    mimeType: attachment.mimeType,\n                    size: fileSize,\n                    text: text || \"\",\n                    fileType: attachment.type,\n                    replyTo\n                })));\n            }\n            const ids = await Promise.all(promises);\n            lastId = ids[ids.length - 1] || lastId;\n            for (const chunk of localChunks){\n                await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.storeChunk)(transferId, chunk.i, totalChunks, chunk.data);\n            }\n            sent += promises.length;\n            onProgress?.(sent, totalChunks);\n            if (sent < totalChunks) await new Promise((r)=>setTimeout(r, 50));\n        }\n        return {\n            id: lastId || `local-${transferId}`,\n            from: this._pk,\n            to: recipientPubkey,\n            content: text || \"\",\n            timestamp: Date.now(),\n            msgType: attachment.type,\n            replyTo,\n            attachment: {\n                ...attachment,\n                data: attachment.file ? \"\" : attachment.data,\n                transferId,\n                totalChunks,\n                chunked: true\n            }\n        };\n    }\n    async sendWebRTCSignal(recipientPubkey, signal) {\n        await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n            _nostr_msg_type: signal.type,\n            sdp: signal.sdp,\n            candidate: signal.candidate,\n            callType: signal.callType,\n            callId: signal.callId\n        }));\n    }\n    async createChannel(name, about) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 40,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [],\n            content: JSON.stringify({\n                name,\n                about: about || \"\"\n            }),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const payload = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) try {\n            ws.send(payload);\n        } catch  {}\n        const channel = {\n            id: event.id,\n            name,\n            about,\n            createdBy: this._pk,\n            createdAt: Date.now()\n        };\n        this.channelCallbacks.forEach((cb)=>cb(channel));\n        return channel;\n    }\n    async sendChannelMessage(channelId, text, replyTo) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 42,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [\n                [\n                    \"e\",\n                    channelId,\n                    \"\",\n                    \"root\"\n                ]\n            ],\n            content: JSON.stringify({\n                text,\n                replyTo\n            }),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const payload = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        let sent = false;\n        for (const [, ws] of this.sockets){\n            if (ws.readyState !== WebSocket.OPEN) continue;\n            sent = true;\n            try {\n                ws.send(payload);\n            } catch  {}\n        }\n        if (!sent) throw new Error(\"No connected relays\");\n        return {\n            id: event.id,\n            from: this._pk,\n            to: \"\",\n            content: text,\n            timestamp: Date.now(),\n            msgType: \"channel\",\n            channelId,\n            replyTo\n        };\n    }\n    requestProfile(pubkey) {\n        if (this.profileCache.has(pubkey)) return this.profileCache.get(pubkey);\n        if (this.pendingProfiles.has(pubkey)) return null;\n        this.pendingProfiles.add(pubkey);\n        const subId = \"p-\" + Math.random().toString(36).slice(2, 8);\n        for (const [, ws] of this.sockets){\n            if (ws.readyState === WebSocket.OPEN) {\n                ws.send(JSON.stringify([\n                    \"REQ\",\n                    subId,\n                    {\n                        kinds: [\n                            0\n                        ],\n                        authors: [\n                            pubkey\n                        ],\n                        limit: 1\n                    }\n                ]));\n                break;\n            }\n        }\n        return null;\n    }\n    getProfile(pubkey) {\n        return this.profileCache.get(pubkey) || null;\n    }\n    async updateProfile(profile) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 0,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [],\n            content: JSON.stringify(profile),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const json = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) try {\n            ws.send(json);\n        } catch  {}\n        this.profileCache.set(this._pk, profile);\n    }\n    disconnectAll() {\n        for (const [, t] of this.reconnectTimers)clearTimeout(t);\n        this.reconnectTimers.clear();\n        this.reconnectAttempts.clear();\n        for (const [, ws] of this.sockets)ws.close();\n        this.sockets.clear();\n        this.subscriptions.clear();\n        this.relayStatus.clear();\n    }\n    addRelay(url) {\n        if (!this._relays.includes(url)) {\n            this._relays.push(url);\n            this.connectToRelay(url);\n        }\n    }\n    removeRelay(url) {\n        this._relays = this._relays.filter((r)=>r !== url);\n        const t = this.reconnectTimers.get(url);\n        if (t) {\n            clearTimeout(t);\n            this.reconnectTimers.delete(url);\n        }\n        this.reconnectAttempts.delete(url);\n        const ws = this.sockets.get(url);\n        if (ws) {\n            ws.close();\n            this.sockets.delete(url);\n        }\n        this.relayStatus.delete(url);\n    }\n    shortenKey(key) {\n        return !key || key.length < 16 ? key : key.slice(0, 8) + \"\" + key.slice(-8);\n    }\n    isValidHexKey(key) {\n        return /^[0-9a-fA-F]{64}$/.test(key);\n    }\n    constructor(){\n        this._sk = null;\n        this._pk = \"\";\n        this.sockets = new Map();\n        this.relayStatus = new Map();\n        this.subscriptions = new Map();\n        this.messageCallbacks = new Set();\n        this.channelCallbacks = new Set();\n        this.channelMessageCallbacks = new Set();\n        this.profileCallbacks = new Set();\n        this.connectionCallbacks = new Set();\n        this.signalCallbacks = new Set();\n        this.profileCache = new Map();\n        this.pendingProfiles = new Set();\n        this.seenEvents = new Set();\n        this._relays = [\n            ...DEFAULT_RELAYS\n        ];\n        this.reconnectAttempts = new Map();\n        this.reconnectTimers = new Map();\n        this._stopped = false;\n        this._channels = [];\n    }\n}\nconst nostrClient = new NostrClient();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxDQUFDcEIsTUFBTSxDQUFDeUI7UUFBTTtRQUNsRixJQUFJLENBQUNoRCxXQUFXLENBQUN1QixNQUFNLENBQUN5QjtJQUMxQjtJQUVBMkosV0FBV0MsR0FBVyxFQUFFO1FBQUUsT0FBTyxDQUFFQSxPQUFPQSxJQUFJMUwsTUFBTSxHQUFHLEtBQU0wTCxNQUFNQSxJQUFJM0UsS0FBSyxDQUFDLEdBQUcsS0FBSyxNQUFNMkUsSUFBSTNFLEtBQUssQ0FBQyxDQUFDO0lBQUk7SUFDMUc0RSxjQUFjRCxHQUFXLEVBQUU7UUFBRSxPQUFPLG9CQUFvQkUsSUFBSSxDQUFDRjtJQUFNOzthQWpoQjNEcE4sTUFBeUI7YUFDekJGLE1BQWM7YUFDZHFELFVBQWtDLElBQUlvSzthQUN0Qy9NLGNBQWtGLElBQUkrTTthQUN0RjVELGdCQUFtRSxJQUFJNEQ7YUFDdkUxTCxtQkFBeUMsSUFBSWtCO2FBQzdDZCxtQkFBeUMsSUFBSWM7YUFDN0NaLDBCQUF1RCxJQUFJWTthQUMzRFYsbUJBQXlDLElBQUlVO2FBQzdDUixzQkFBK0MsSUFBSVE7YUFDbkROLGtCQUF1QyxJQUFJTTthQUMzQ3FGLGVBQTBDLElBQUltRjthQUM5Q2xGLGtCQUErQixJQUFJdEY7YUFDbkNzQyxhQUEwQixJQUFJdEM7YUFDOUI3QyxVQUFvQjtlQUFJUDtTQUFlO2FBQ3ZDdUUsb0JBQXlDLElBQUlxSjthQUM3QzNJLGtCQUE4RCxJQUFJMkk7YUFDbEVyTSxXQUFXO2FBQ1hkLFlBQXNCLEVBQUU7O0FBZ2dCbEM7QUFFTyxNQUFNb04sY0FBYyxJQUFJNU4sY0FBYztBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvbGliL25vc3RyLnRzP2Y4ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVTZWNyZXRLZXksIGdldFB1YmxpY0tleSwgZmluYWxpemVFdmVudCwgdHlwZSBVbnNpZ25lZEV2ZW50IH0gZnJvbSAnbm9zdHItdG9vbHMvcHVyZSc7XG5pbXBvcnQgeyBlbmNyeXB0LCBkZWNyeXB0IH0gZnJvbSAnbm9zdHItdG9vbHMvbmlwMDQnO1xuaW1wb3J0IHsgYnl0ZXNUb0hleCwgaGV4VG9CeXRlcyB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBGaWx0ZXIgfSBmcm9tICdub3N0ci10b29scyc7XG5pbXBvcnQgeyBlbnN1cmVUcmFuc2ZlciwgaXNUcmFuc2ZlckNvbXBsZXRlLCBzdG9yZUNodW5rIH0gZnJvbSAnLi9jaHVua1N0b3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBOb3N0clByb2ZpbGUge1xuICBuYW1lPzogc3RyaW5nO1xuICBhYm91dD86IHN0cmluZztcbiAgcGljdHVyZT86IHN0cmluZztcbiAgbmlwMDU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9zdHJFdmVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIHB1YmtleTogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG4gIGtpbmQ6IG51bWJlcjtcbiAgdGFnczogc3RyaW5nW11bXTtcbiAgY29udGVudDogc3RyaW5nO1xuICBzaWc6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgTWVzc2FnZVR5cGUgPVxuICB8ICd0ZXh0J1xuICB8ICdpbWFnZSdcbiAgfCAnZmlsZSdcbiAgfCAnYXVkaW8nXG4gIHwgJ2ZpbGUtbWV0YSdcbiAgfCAnZmlsZS1jaHVuaydcbiAgfCAnY2hhbm5lbCdcbiAgfCAnd2VicnRjLW9mZmVyJ1xuICB8ICd3ZWJydGMtYW5zd2VyJ1xuICB8ICd3ZWJydGMtaWNlJ1xuICB8ICdjYWxsLXJlcXVlc3QnXG4gIHwgJ2NhbGwtYWNjZXB0J1xuICB8ICdjYWxsLXJlamVjdCdcbiAgfCAnY2FsbC1lbmQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlcGx5UmVmIHtcbiAgaWQ6IHN0cmluZztcbiAgZnJvbTogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gIHR5cGU6ICdpbWFnZScgfCAnZmlsZScgfCAnYXVkaW8nO1xuICBuYW1lOiBzdHJpbmc7XG4gIG1pbWVUeXBlOiBzdHJpbmc7XG4gIGRhdGE6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICBmaWxlPzogRmlsZTtcbiAgdHJhbnNmZXJJZD86IHN0cmluZztcbiAgdG90YWxDaHVua3M/OiBudW1iZXI7XG4gIGNodW5rZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBmcm9tOiBzdHJpbmc7XG4gIHRvOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHBlbmRpbmc/OiBib29sZWFuO1xuICBmYWlsZWQ/OiBib29sZWFuO1xuICBtc2dUeXBlPzogTWVzc2FnZVR5cGU7XG4gIGF0dGFjaG1lbnQ/OiBBdHRhY2htZW50O1xuICByZXBseVRvPzogUmVwbHlSZWY7XG4gIGNoYW5uZWxJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBhYm91dD86IHN0cmluZztcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhY3Qge1xuICBwdWJrZXk6IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgYWJvdXQ/OiBzdHJpbmc7XG4gIHBpY3R1cmU/OiBzdHJpbmc7XG4gIGxhc3RNZXNzYWdlPzogc3RyaW5nO1xuICBsYXN0TWVzc2FnZVRpbWU/OiBudW1iZXI7XG4gIHVucmVhZD86IG51bWJlcjtcbiAgb25saW5lPzogYm9vbGVhbjtcbn1cblxuY29uc3QgREVGQVVMVF9SRUxBWVMgPSBbXG4gICd3c3M6Ly9yZWxheS5kYW11cy5pbycsXG4gICd3c3M6Ly9ub3MubG9sJyxcbiAgJ3dzczovL3JlbGF5LnNub3J0LnNvY2lhbCcsXG4gICd3c3M6Ly9yZWxheS5wcmltYWwubmV0JyxcbiAgJ3dzczovL3B1cnBsZXBhZy5lcycsXG4gICd3c3M6Ly9ub3N0ci5tb20nLFxuICAnd3NzOi8vcmVsYXkubm9zdHIuYmcnLFxuXTtcblxudHlwZSBNZXNzYWdlQ2FsbGJhY2sgPSAobXNnOiBEaXJlY3RNZXNzYWdlKSA9PiB2b2lkO1xudHlwZSBDaGFubmVsQ2FsbGJhY2sgPSAoY2hhbm5lbDogQ2hhbm5lbCkgPT4gdm9pZDtcbnR5cGUgQ2hhbm5lbE1lc3NhZ2VDYWxsYmFjayA9IChtc2c6IERpcmVjdE1lc3NhZ2UpID0+IHZvaWQ7XG50eXBlIFByb2ZpbGVDYWxsYmFjayA9IChwdWJrZXk6IHN0cmluZywgcHJvZmlsZTogTm9zdHJQcm9maWxlKSA9PiB2b2lkO1xudHlwZSBDb25uZWN0aW9uQ2FsbGJhY2sgPSAocmVsYXk6IHN0cmluZywgc3RhdHVzOiAnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ2Vycm9yJykgPT4gdm9pZDtcbnR5cGUgU2lnbmFsQ2FsbGJhY2sgPSAoZnJvbTogc3RyaW5nLCBzaWduYWw6IFdlYlJUQ1NpZ25hbCkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBXZWJSVENTaWduYWwge1xuICB0eXBlOiBNZXNzYWdlVHlwZTtcbiAgc2RwPzogc3RyaW5nO1xuICBjYW5kaWRhdGU/OiBSVENJY2VDYW5kaWRhdGVJbml0O1xuICBjYWxsVHlwZT86ICdhdWRpbycgfCAndmlkZW8nO1xuICBjYWxsSWQ/OiBzdHJpbmc7XG59XG5cbmNsYXNzIE5vc3RyQ2xpZW50IHtcbiAgcHJpdmF0ZSBfc2s6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfcGs6IHN0cmluZyA9ICcnO1xuICBwcml2YXRlIHNvY2tldHM6IE1hcDxzdHJpbmcsIFdlYlNvY2tldD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVsYXlTdGF0dXM6IE1hcDxzdHJpbmcsICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZXJyb3InPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBNYXA8c3RyaW5nLCB7IGZpbHRlcnM6IEZpbHRlcltdOyByZWxheTogc3RyaW5nIH0+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIG1lc3NhZ2VDYWxsYmFja3M6IFNldDxNZXNzYWdlQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNoYW5uZWxDYWxsYmFja3M6IFNldDxDaGFubmVsQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNoYW5uZWxNZXNzYWdlQ2FsbGJhY2tzOiBTZXQ8Q2hhbm5lbE1lc3NhZ2VDYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgcHJvZmlsZUNhbGxiYWNrczogU2V0PFByb2ZpbGVDYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgY29ubmVjdGlvbkNhbGxiYWNrczogU2V0PENvbm5lY3Rpb25DYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgc2lnbmFsQ2FsbGJhY2tzOiBTZXQ8U2lnbmFsQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHByb2ZpbGVDYWNoZTogTWFwPHN0cmluZywgTm9zdHJQcm9maWxlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBwZW5kaW5nUHJvZmlsZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHNlZW5FdmVudHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIF9yZWxheXM6IHN0cmluZ1tdID0gWy4uLkRFRkFVTFRfUkVMQVlTXTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0czogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RUaW1lcnM6IE1hcDxzdHJpbmcsIFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfc3RvcHBlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9jaGFubmVsczogc3RyaW5nW10gPSBbXTtcblxuICBnZXQgcHVibGljS2V5KCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9wazsgfVxuICBnZXQgcHJpdmF0ZUtleUhleCgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fc2sgPyBieXRlc1RvSGV4KHRoaXMuX3NrKSA6ICcnOyB9XG4gIGdldCByZWxheXMoKTogc3RyaW5nW10geyByZXR1cm4gWy4uLnRoaXMuX3JlbGF5c107IH1cbiAgZ2V0IGNoYW5uZWxzKCk6IHN0cmluZ1tdIHsgcmV0dXJuIFsuLi50aGlzLl9jaGFubmVsc107IH1cbiAgZ2V0IHNrKCk6IFVpbnQ4QXJyYXkgfCBudWxsIHsgcmV0dXJuIHRoaXMuX3NrOyB9XG5cbiAgZ2V0UmVsYXlTdGF0dXMocmVsYXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucmVsYXlTdGF0dXMuZ2V0KHJlbGF5KSB8fCAnZGlzY29ubmVjdGVkJztcbiAgfVxuXG4gIGdldCBjb25uZWN0ZWRSZWxheUNvdW50KCk6IG51bWJlciB7XG4gICAgbGV0IGMgPSAwO1xuICAgIHRoaXMucmVsYXlTdGF0dXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgaWYgKHMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYztcbiAgfVxuXG4gIGdlbmVyYXRlS2V5cygpIHtcbiAgICBjb25zdCBzayA9IGdlbmVyYXRlU2VjcmV0S2V5KCk7XG4gICAgY29uc3QgcGsgPSBnZXRQdWJsaWNLZXkoc2spO1xuICAgIHJldHVybiB7IHByaXZhdGVLZXk6IGJ5dGVzVG9IZXgoc2spLCBwdWJsaWNLZXk6IHBrIH07XG4gIH1cblxuICBsb2dpbihwcml2YXRlS2V5SGV4OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNrID0gaGV4VG9CeXRlcyhwcml2YXRlS2V5SGV4KTtcbiAgICBjb25zdCBwayA9IGdldFB1YmxpY0tleShzayk7XG4gICAgdGhpcy5fc2sgPSBzazsgdGhpcy5fcGsgPSBwazsgdGhpcy5fc3RvcHBlZCA9IGZhbHNlO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdub3N0cl9zaycsIHByaXZhdGVLZXlIZXgpO1xuICAgIHJldHVybiBwaztcbiAgfVxuXG4gIGxvZ291dCgpIHtcbiAgICB0aGlzLl9zdG9wcGVkID0gdHJ1ZTsgdGhpcy5kaXNjb25uZWN0QWxsKCk7XG4gICAgdGhpcy5fc2sgPSBudWxsOyB0aGlzLl9wayA9ICcnO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub3N0cl9zaycpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub3N0cl9jb250YWN0cycpO1xuICB9XG5cbiAgdHJ5QXV0b0xvZ2luKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25vc3RyX3NrJyk7XG4gICAgaWYgKHNrPy5sZW5ndGggPT09IDY0KSB7IHRyeSB7IHRoaXMubG9naW4oc2spOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub3N0cl9zaycpOyB9IH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBvbk1lc3NhZ2UoY2I6IE1lc3NhZ2VDYWxsYmFjaykgeyB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25DaGFubmVsKGNiOiBDaGFubmVsQ2FsbGJhY2spIHsgdGhpcy5jaGFubmVsQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMuY2hhbm5lbENhbGxiYWNrcy5kZWxldGUoY2IpOyB9OyB9XG4gIG9uQ2hhbm5lbE1lc3NhZ2UoY2I6IENoYW5uZWxNZXNzYWdlQ2FsbGJhY2spIHsgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLmNoYW5uZWxNZXNzYWdlQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25Qcm9maWxlKGNiOiBQcm9maWxlQ2FsbGJhY2spIHsgdGhpcy5wcm9maWxlQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMucHJvZmlsZUNhbGxiYWNrcy5kZWxldGUoY2IpOyB9OyB9XG4gIG9uQ29ubmVjdGlvbihjYjogQ29ubmVjdGlvbkNhbGxiYWNrKSB7IHRoaXMuY29ubmVjdGlvbkNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuICBvblNpZ25hbChjYjogU2lnbmFsQ2FsbGJhY2spIHsgdGhpcy5zaWduYWxDYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5zaWduYWxDYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuXG4gIGFzeW5jIGNvbm5lY3RUb1JlbGF5cygpIHsgZm9yIChjb25zdCByIG9mIHRoaXMuX3JlbGF5cykgdGhpcy5jb25uZWN0VG9SZWxheShyKTsgfVxuXG4gIHNldENoYW5uZWxzKGNoYW5uZWxJZHM6IHN0cmluZ1tdKSB7XG4gICAgdGhpcy5fY2hhbm5lbHMgPSBbLi4ubmV3IFNldChjaGFubmVsSWRzLmZpbHRlcihCb29sZWFuKSldO1xuICAgIGZvciAoY29uc3QgW3JlbGF5LCB3c10gb2YgdGhpcy5zb2NrZXRzKSB7XG4gICAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHRoaXMuc3Vic2NyaWJlVG9DaGFubmVscyhyZWxheSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb25uZWN0VG9SZWxheSh1cmw6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl9zdG9wcGVkKSByZXR1cm47XG4gICAgaWYgKHRoaXMuc29ja2V0cy5oYXModXJsKSkge1xuICAgICAgY29uc3QgZSA9IHRoaXMuc29ja2V0cy5nZXQodXJsKSE7XG4gICAgICBpZiAoZS5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiB8fCBlLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVsYXlTdGF0dXMuc2V0KHVybCwgJ2Nvbm5lY3RpbmcnKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdkaXNjb25uZWN0ZWQnKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmwpO1xuICAgICAgY29uc3QgY3QgPSBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB3cy5jbG9zZSgpOyB9LCA4MDAwKTtcbiAgICAgIHRoaXMuc29ja2V0cy5zZXQodXJsLCB3cyk7XG4gICAgICB3cy5vbm9wZW4gPSAoKSA9PiB7IGNsZWFyVGltZW91dChjdCk7IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuc2V0KHVybCwgMCk7IHRoaXMucmVsYXlTdGF0dXMuc2V0KHVybCwgJ2Nvbm5lY3RlZCcpOyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdjb25uZWN0ZWQnKSk7IHRoaXMuc3Vic2NyaWJlVG9NZXNzYWdlcyh1cmwpOyB9O1xuICAgICAgd3Mub25jbG9zZSA9ICgpID0+IHsgY2xlYXJUaW1lb3V0KGN0KTsgdGhpcy5yZWxheVN0YXR1cy5zZXQodXJsLCAnZGlzY29ubmVjdGVkJyk7IHRoaXMuY29ubmVjdGlvbkNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHVybCwgJ2Rpc2Nvbm5lY3RlZCcpKTsgdGhpcy5zb2NrZXRzLmRlbGV0ZSh1cmwpOyB0aGlzLnNjaGVkdWxlUmVjb25uZWN0KHVybCk7IH07XG4gICAgICB3cy5vbmVycm9yID0gKCkgPT4geyB0aGlzLnJlbGF5U3RhdHVzLnNldCh1cmwsICdlcnJvcicpOyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdlcnJvcicpKTsgfTtcbiAgICAgIHdzLm9ubWVzc2FnZSA9IChlKSA9PiB7IHRyeSB7IHRoaXMuaGFuZGxlUmVsYXlNZXNzYWdlKEpTT04ucGFyc2UoZS5kYXRhKSk7IH0gY2F0Y2gge30gfTtcbiAgICB9IGNhdGNoIHsgdGhpcy5yZWxheVN0YXR1cy5zZXQodXJsLCAnZXJyb3InKTsgdGhpcy5zY2hlZHVsZVJlY29ubmVjdCh1cmwpOyB9XG4gIH1cblxuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KHVybDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX3N0b3BwZWQpIHJldHVybjtcbiAgICBjb25zdCBlID0gdGhpcy5yZWNvbm5lY3RUaW1lcnMuZ2V0KHVybCk7IGlmIChlKSBjbGVhclRpbWVvdXQoZSk7XG4gICAgY29uc3QgYSA9IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZ2V0KHVybCkgfHwgMDtcbiAgICBjb25zdCBkID0gTWF0aC5taW4oMzAwMCAqIE1hdGgucG93KDIsIGEpLCA2MDAwMCk7XG4gICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cy5zZXQodXJsLCBhICsgMSk7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lcnMuc2V0KHVybCwgc2V0VGltZW91dCgoKSA9PiB7IGlmICghdGhpcy5fc3RvcHBlZCAmJiB0aGlzLl9zaykgdGhpcy5jb25uZWN0VG9SZWxheSh1cmwpOyB9LCBkKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJlbGF5TWVzc2FnZShkYXRhOiB1bmtub3duW10pIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybjtcbiAgICBpZiAoZGF0YVswXSA9PT0gJ0VWRU5UJykge1xuICAgICAgY29uc3QgZXYgPSBkYXRhWzJdIGFzIE5vc3RyRXZlbnQ7XG4gICAgICBpZiAoIWV2IHx8IHRoaXMuc2VlbkV2ZW50cy5oYXMoZXYuaWQpKSByZXR1cm47XG4gICAgICB0aGlzLnNlZW5FdmVudHMuYWRkKGV2LmlkKTtcbiAgICAgIGlmIChldi5raW5kID09PSA0KSB0aGlzLmhhbmRsZUVuY3J5cHRlZERNKGV2KTtcbiAgICAgIGVsc2UgaWYgKGV2LmtpbmQgPT09IDApIHRoaXMuaGFuZGxlUHJvZmlsZUV2ZW50KGV2KTtcbiAgICAgIGVsc2UgaWYgKGV2LmtpbmQgPT09IDQwKSB0aGlzLmhhbmRsZUNoYW5uZWxFdmVudChldik7XG4gICAgICBlbHNlIGlmIChldi5raW5kID09PSA0MikgdGhpcy5oYW5kbGVDaGFubmVsTWVzc2FnZUV2ZW50KGV2KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUVuY3J5cHRlZERNKGV2ZW50OiBOb3N0ckV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl9zaykgcmV0dXJuO1xuICAgIGNvbnN0IHBUYWcgPSBldmVudC50YWdzLmZpbmQodCA9PiB0WzBdID09PSAncCcpOyBpZiAoIXBUYWcpIHJldHVybjtcbiAgICBjb25zdCBpc0Zvck1lID0gcFRhZ1sxXSA9PT0gdGhpcy5fcGssIGlzRnJvbU1lID0gZXZlbnQucHVia2V5ID09PSB0aGlzLl9waztcbiAgICBpZiAoIWlzRm9yTWUgJiYgIWlzRnJvbU1lKSByZXR1cm47XG4gICAgY29uc3Qgb3RoZXIgPSBpc0Zyb21NZSA/IHBUYWdbMV0gOiBldmVudC5wdWJrZXk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlYyA9IGF3YWl0IGRlY3J5cHQodGhpcy5fc2ssIG90aGVyLCBldmVudC5jb250ZW50KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHAgPSBKU09OLnBhcnNlKGRlYyk7XG4gICAgICAgICAgaWYgKHA/Ll9ub3N0cl9tc2dfdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgbXQgPSBwLl9ub3N0cl9tc2dfdHlwZSBhcyBNZXNzYWdlVHlwZTtcbiAgICAgICAgICAgIGlmIChtdCA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHtcbiAgICAgICAgICAgICAgICBpZDogZXZlbnQuaWQsXG4gICAgICAgICAgICAgICAgZnJvbTogZXZlbnQucHVia2V5LFxuICAgICAgICAgICAgICAgIHRvOiBwVGFnWzFdLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IChwLnRleHQgYXMgc3RyaW5nKSB8fCAnJyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLFxuICAgICAgICAgICAgICAgIG1zZ1R5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICByZXBseVRvOiBwLnJlcGx5VG8gYXMgUmVwbHlSZWYgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFsnd2VicnRjLW9mZmVyJywnd2VicnRjLWFuc3dlcicsJ3dlYnJ0Yy1pY2UnLCdjYWxsLXJlcXVlc3QnLCdjYWxsLWFjY2VwdCcsJ2NhbGwtcmVqZWN0JywnY2FsbC1lbmQnXS5pbmNsdWRlcyhtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoZXZlbnQucHVia2V5LCB7IHR5cGU6IG10LCBzZHA6IHAuc2RwLCBjYW5kaWRhdGU6IHAuY2FuZGlkYXRlLCBjYWxsVHlwZTogcC5jYWxsVHlwZSwgY2FsbElkOiBwLmNhbGxJZCB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtdCA9PT0gJ2ZpbGUtY2h1bmsnKSB7IHRoaXMuaGFuZGxlRmlsZUNodW5rKGV2ZW50LmlkLCBldmVudC5wdWJrZXksIHBUYWdbMV0sIGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLCBwKTsgcmV0dXJuOyB9XG4gICAgICAgICAgaWYgKG10ID09PSAnZmlsZS1tZXRhJykge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJJZCA9IChwLnRyYW5zZmVySWQgYXMgc3RyaW5nKSB8fCAnJztcbiAgICAgICAgICAgIGlmICghdHJhbnNmZXJJZCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZmlsZVR5cGUgPSBbJ2ltYWdlJywgJ2F1ZGlvJ10uaW5jbHVkZXMocC5maWxlVHlwZSBhcyBzdHJpbmcpID8gcC5maWxlVHlwZSBhcyAoJ2ltYWdlJyB8ICdhdWRpbycpIDogJ2ZpbGUnO1xuICAgICAgICAgICAgYXdhaXQgZW5zdXJlVHJhbnNmZXIoe1xuICAgICAgICAgICAgICB0cmFuc2ZlcklkLFxuICAgICAgICAgICAgICBmaWxlTmFtZTogKHAuZmlsZU5hbWUgYXMgc3RyaW5nKSB8fCAnZmlsZScsXG4gICAgICAgICAgICAgIG1pbWVUeXBlOiAocC5taW1lVHlwZSBhcyBzdHJpbmcpIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICAgICAgc2l6ZTogKHAuc2l6ZSBhcyBudW1iZXIpIHx8IDAsXG4gICAgICAgICAgICAgIHRvdGFsQ2h1bmtzOiAocC50b3RhbENodW5rcyBhcyBudW1iZXIpIHx8IDAsXG4gICAgICAgICAgICAgIHRleHQ6IChwLnRleHQgYXMgc3RyaW5nKSB8fCAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobXQgPT09ICdpbWFnZScgfHwgbXQgPT09ICdmaWxlJyB8fCBtdCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoeyBpZDogZXZlbnQuaWQsIGZyb206IGV2ZW50LnB1YmtleSwgdG86IHBUYWdbMV0sIGNvbnRlbnQ6IHAudGV4dCB8fCAnJywgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCwgbXNnVHlwZTogbXQsIHJlcGx5VG86IHAucmVwbHlUbyBhcyBSZXBseVJlZiB8IHVuZGVmaW5lZCwgYXR0YWNobWVudDogeyB0eXBlOiBtdCwgbmFtZTogcC5maWxlTmFtZSB8fCAnZmlsZScsIG1pbWVUeXBlOiBwLm1pbWVUeXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLCBkYXRhOiBwLmRhdGEgfHwgJycsIHNpemU6IHAuc2l6ZSB8fCAwIH0gfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IoeyBpZDogZXZlbnQuaWQsIGZyb206IGV2ZW50LnB1YmtleSwgdG86IHBUYWdbMV0sIGNvbnRlbnQ6IGRlYywgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCwgbXNnVHlwZTogJ3RleHQnIH0pKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVDaHVuayhldmVudElkOiBzdHJpbmcsIGZyb206IHN0cmluZywgdG86IHN0cmluZywgdGltZXN0YW1wOiBudW1iZXIsIHA6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgY29uc3QgdHJhbnNmZXJJZCA9IHAudHJhbnNmZXJJZCBhcyBzdHJpbmc7XG4gICAgY29uc3QgY2h1bmtJbmRleCA9IHAuY2h1bmtJbmRleCBhcyBudW1iZXI7XG4gICAgY29uc3QgdG90YWxDaHVua3MgPSBwLnRvdGFsQ2h1bmtzIGFzIG51bWJlcjtcbiAgICBjb25zdCBkYXRhID0gcC5kYXRhIGFzIHN0cmluZztcbiAgICBpZiAoIXRyYW5zZmVySWQgfHwgdHlwZW9mIGNodW5rSW5kZXggIT09ICdudW1iZXInIHx8IHR5cGVvZiB0b3RhbENodW5rcyAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSByZXR1cm47XG5cbiAgICBjb25zdCBmaWxlVHlwZSA9IFsnaW1hZ2UnLCAnYXVkaW8nXS5pbmNsdWRlcyhwLmZpbGVUeXBlIGFzIHN0cmluZykgPyBwLmZpbGVUeXBlIGFzICgnaW1hZ2UnIHwgJ2F1ZGlvJykgOiAnZmlsZSc7XG4gICAgYXdhaXQgZW5zdXJlVHJhbnNmZXIoe1xuICAgICAgdHJhbnNmZXJJZCxcbiAgICAgIGZpbGVOYW1lOiAocC5maWxlTmFtZSBhcyBzdHJpbmcpIHx8ICdmaWxlJyxcbiAgICAgIG1pbWVUeXBlOiAocC5taW1lVHlwZSBhcyBzdHJpbmcpIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgZmlsZVR5cGUsXG4gICAgICBzaXplOiAocC5zaXplIGFzIG51bWJlcikgfHwgMCxcbiAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgdGV4dDogKHAudGV4dCBhcyBzdHJpbmcpIHx8ICcnLFxuICAgIH0pO1xuICAgIGF3YWl0IHN0b3JlQ2h1bmsodHJhbnNmZXJJZCwgY2h1bmtJbmRleCwgdG90YWxDaHVua3MsIGRhdGEpO1xuICAgIGNvbnN0IGRvbmUgPSBhd2FpdCBpc1RyYW5zZmVyQ29tcGxldGUodHJhbnNmZXJJZCk7XG4gICAgaWYgKCFkb25lKSByZXR1cm47XG5cbiAgICB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7XG4gICAgICBpZDogYCR7ZXZlbnRJZH0tYXNzZW1ibGVkLSR7dHJhbnNmZXJJZH1gLFxuICAgICAgZnJvbSxcbiAgICAgIHRvLFxuICAgICAgY29udGVudDogKHAudGV4dCBhcyBzdHJpbmcpIHx8ICcnLFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgbXNnVHlwZTogZmlsZVR5cGUsXG4gICAgICByZXBseVRvOiBwLnJlcGx5VG8gYXMgUmVwbHlSZWYgfCB1bmRlZmluZWQsXG4gICAgICBhdHRhY2htZW50OiB7XG4gICAgICAgIHR5cGU6IGZpbGVUeXBlLFxuICAgICAgICBuYW1lOiAocC5maWxlTmFtZSBhcyBzdHJpbmcpIHx8ICdmaWxlJyxcbiAgICAgICAgbWltZVR5cGU6IChwLm1pbWVUeXBlIGFzIHN0cmluZykgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgIGRhdGE6ICcnLFxuICAgICAgICBzaXplOiAocC5zaXplIGFzIG51bWJlcikgfHwgMCxcbiAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgdG90YWxDaHVua3MsXG4gICAgICAgIGNodW5rZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUHJvZmlsZUV2ZW50KGV2ZW50OiBOb3N0ckV2ZW50KSB7XG4gICAgdHJ5IHsgY29uc3QgcCA9IEpTT04ucGFyc2UoZXZlbnQuY29udGVudCkgYXMgTm9zdHJQcm9maWxlOyB0aGlzLnByb2ZpbGVDYWNoZS5zZXQoZXZlbnQucHVia2V5LCBwKTsgdGhpcy5wZW5kaW5nUHJvZmlsZXMuZGVsZXRlKGV2ZW50LnB1YmtleSk7IHRoaXMucHJvZmlsZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKGV2ZW50LnB1YmtleSwgcCkpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNoYW5uZWxFdmVudChldmVudDogTm9zdHJFdmVudCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShldmVudC5jb250ZW50KSBhcyB7IG5hbWU/OiBzdHJpbmc7IGFib3V0Pzogc3RyaW5nIH07XG4gICAgICBjb25zdCBjaGFubmVsOiBDaGFubmVsID0ge1xuICAgICAgICBpZDogZXZlbnQuaWQsXG4gICAgICAgIG5hbWU6IHBheWxvYWQubmFtZT8udHJpbSgpIHx8IGBjaGFubmVsLSR7ZXZlbnQuaWQuc2xpY2UoMCwgOCl9YCxcbiAgICAgICAgYWJvdXQ6IHBheWxvYWQuYWJvdXQsXG4gICAgICAgIGNyZWF0ZWRCeTogZXZlbnQucHVia2V5LFxuICAgICAgICBjcmVhdGVkQXQ6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLFxuICAgICAgfTtcbiAgICAgIHRoaXMuY2hhbm5lbENhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKGNoYW5uZWwpKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNoYW5uZWxNZXNzYWdlRXZlbnQoZXZlbnQ6IE5vc3RyRXZlbnQpIHtcbiAgICBjb25zdCBlVGFnID0gZXZlbnQudGFncy5maW5kKHQgPT4gdFswXSA9PT0gJ2UnKT8uWzFdO1xuICAgIGlmICghZVRhZykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShldmVudC5jb250ZW50KSBhcyB7IHRleHQ/OiBzdHJpbmc7IHJlcGx5VG8/OiBSZXBseVJlZiB9O1xuICAgICAgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHtcbiAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICBmcm9tOiBldmVudC5wdWJrZXksXG4gICAgICAgIHRvOiAnJyxcbiAgICAgICAgY29udGVudDogcGF5bG9hZC50ZXh0IHx8ICcnLFxuICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLFxuICAgICAgICBtc2dUeXBlOiAnY2hhbm5lbCcsXG4gICAgICAgIGNoYW5uZWxJZDogZVRhZyxcbiAgICAgICAgcmVwbHlUbzogcGF5bG9hZC5yZXBseVRvLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHtcbiAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICBmcm9tOiBldmVudC5wdWJrZXksXG4gICAgICAgIHRvOiAnJyxcbiAgICAgICAgY29udGVudDogZXZlbnQuY29udGVudCB8fCAnJyxcbiAgICAgICAgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCxcbiAgICAgICAgbXNnVHlwZTogJ2NoYW5uZWwnLFxuICAgICAgICBjaGFubmVsSWQ6IGVUYWcsXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVUb01lc3NhZ2VzKHJlbGF5VXJsOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuX3BrKSByZXR1cm47XG4gICAgY29uc3Qgd3MgPSB0aGlzLnNvY2tldHMuZ2V0KHJlbGF5VXJsKTsgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICAgIGNvbnN0IHN1YklkID0gJ2RtLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgICBjb25zdCBzaW5jZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gODY0MDAgKiAzMDtcbiAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KFsnUkVRJywgc3ViSWQsIHsga2luZHM6IFs0XSwgJyNwJzogW3RoaXMuX3BrXSwgc2luY2UgfSwgeyBraW5kczogWzRdLCBhdXRob3JzOiBbdGhpcy5fcGtdLCBzaW5jZSB9XSkpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQoc3ViSWQsIHsgZmlsdGVyczogW10sIHJlbGF5OiByZWxheVVybCB9KTtcbiAgICB0aGlzLnN1YnNjcmliZVRvQ2hhbm5lbHMocmVsYXlVcmwpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVUb0NoYW5uZWxzKHJlbGF5VXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0cy5nZXQocmVsYXlVcmwpO1xuICAgIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgICBpZiAodGhpcy5fY2hhbm5lbHMubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIERvIG5vdCBzdWJzY3JpYmUgdG8gZ2xvYmFsIGNoYW5uZWxzXG5cbiAgICBjb25zdCBzdWJJZCA9ICdjaC0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCk7XG4gICAgY29uc3Qgc2luY2UgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSAtIDg2NDAwICogMzA7XG5cbiAgICAvLyBPbmx5IHN1YnNjcmliZSB0byBjaGFubmVscyB0aGUgdXNlciBoYXMgam9pbmVkXG4gICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeShbJ1JFUScsIHN1YklkLCB7IGtpbmRzOiBbNDBdLCBpZHM6IHRoaXMuX2NoYW5uZWxzLCBzaW5jZSB9LCB7IGtpbmRzOiBbNDJdLCAnI2UnOiB0aGlzLl9jaGFubmVscywgc2luY2UgfV0pKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KHN1YklkLCB7IGZpbHRlcnM6IFtdLCByZWxheTogcmVsYXlVcmwgfSk7XG4gIH1cblxuICBhc3luYyBzZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXk6IHN0cmluZywgcGF5bG9hZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAoIXRoaXMuX3NrKSB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRob3JpemVkJyk7XG4gICAgY29uc3QgZW5jcnlwdGVkID0gYXdhaXQgZW5jcnlwdCh0aGlzLl9zaywgcmVjaXBpZW50UHVia2V5LCBwYXlsb2FkKTtcbiAgICBjb25zdCBldjogVW5zaWduZWRFdmVudCA9IHsga2luZDogNCwgY3JlYXRlZF9hdDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCksIHRhZ3M6IFtbJ3AnLCByZWNpcGllbnRQdWJrZXldXSwgY29udGVudDogZW5jcnlwdGVkLCBwdWJrZXk6IHRoaXMuX3BrIH07XG4gICAgY29uc3QgZXZlbnQgPSBmaW5hbGl6ZUV2ZW50KGV2LCB0aGlzLl9zayk7XG4gICAgdGhpcy5zZWVuRXZlbnRzLmFkZChldmVudC5pZCk7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KFsnRVZFTlQnLCBldmVudF0pO1xuICAgIGNvbnN0IG9wZW46IFdlYlNvY2tldFtdID0gW107XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIG9wZW4ucHVzaCh3cyk7XG4gICAgaWYgKCFvcGVuLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdObyBjb25uZWN0ZWQgcmVsYXlzJyk7XG4gICAgb3Blbi5mb3JFYWNoKHdzID0+IHsgdHJ5IHsgd3Muc2VuZChqc29uKTsgfSBjYXRjaCB7fSB9KTtcbiAgICByZXR1cm4gZXZlbnQuaWQ7XG4gIH1cblxuICBwcml2YXRlIGJ5dGVzVG9CYXNlNjQoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICAgIGxldCBiaW4gPSAnJztcbiAgICBjb25zdCBzdGVwID0gMHg4MDAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IHN0ZXApIHtcbiAgICAgIGJpbiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmJ5dGVzLnN1YmFycmF5KGksIGkgKyBzdGVwKSk7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGJpbik7XG4gIH1cblxuICBhc3luYyBzZW5kRGlyZWN0TWVzc2FnZShyZWNpcGllbnRQdWJrZXk6IHN0cmluZywgY29udGVudDogc3RyaW5nLCByZXBseVRvPzogUmVwbHlSZWYpOiBQcm9taXNlPERpcmVjdE1lc3NhZ2U+IHtcbiAgICBjb25zdCBwYXlsb2FkID0gcmVwbHlUbyA/IEpTT04uc3RyaW5naWZ5KHsgX25vc3RyX21zZ190eXBlOiAndGV4dCcsIHRleHQ6IGNvbnRlbnQsIHJlcGx5VG8gfSkgOiBjb250ZW50O1xuICAgIGNvbnN0IGlkID0gYXdhaXQgdGhpcy5zZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXksIHBheWxvYWQpO1xuICAgIHJldHVybiB7IGlkLCBmcm9tOiB0aGlzLl9waywgdG86IHJlY2lwaWVudFB1YmtleSwgY29udGVudCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtc2dUeXBlOiAndGV4dCcsIHJlcGx5VG8gfTtcbiAgfVxuXG4gIC8vIDI1NktCIGNodW5rcywgcGFyYWxsZWwgc2VuZCBieSAzXG4gIHByaXZhdGUgc3RhdGljIENIVU5LX1NJWkUgPSAyNjIxNDQ7XG4gIHByaXZhdGUgc3RhdGljIFBBUkFMTEVMID0gMztcblxuICBhc3luYyBzZW5kQXR0YWNobWVudChcbiAgICByZWNpcGllbnRQdWJrZXk6IHN0cmluZyxcbiAgICBhdHRhY2htZW50OiBBdHRhY2htZW50LFxuICAgIHRleHQ/OiBzdHJpbmcsXG4gICAgb25Qcm9ncmVzcz86IChzZW50OiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQsXG4gICAgcmVwbHlUbz86IFJlcGx5UmVmLFxuICApOiBQcm9taXNlPERpcmVjdE1lc3NhZ2U+IHtcbiAgICBjb25zdCBtYXhTaXplID0gMiAqIDEwMjQgKiAxMDI0ICogMTAyNDtcbiAgICBpZiAoYXR0YWNobWVudC5zaXplID4gbWF4U2l6ZSkgdGhyb3cgbmV3IEVycm9yKCdGaWxlIGlzIHRvbyBsYXJnZS4gTWF4IHNpemUgaXMgMkdCLicpO1xuXG4gICAgaWYgKCFhdHRhY2htZW50LmZpbGUpIHtcbiAgICAgIGNvbnN0IGI2NCA9IGF0dGFjaG1lbnQuZGF0YTtcbiAgICAgIGlmIChiNjQubGVuZ3RoIDwgNDAwMDApIHtcbiAgICAgICAgY29uc3QgaWQgPSBhd2FpdCB0aGlzLnNlbmRFbmNyeXB0ZWRQYXlsb2FkKHJlY2lwaWVudFB1YmtleSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIF9ub3N0cl9tc2dfdHlwZTogYXR0YWNobWVudC50eXBlLFxuICAgICAgICAgIGZpbGVOYW1lOiBhdHRhY2htZW50Lm5hbWUsXG4gICAgICAgICAgbWltZVR5cGU6IGF0dGFjaG1lbnQubWltZVR5cGUsXG4gICAgICAgICAgZGF0YTogYjY0LFxuICAgICAgICAgIHNpemU6IGF0dGFjaG1lbnQuc2l6ZSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgICAgIHJlcGx5VG8sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHsgaWQsIGZyb206IHRoaXMuX3BrLCB0bzogcmVjaXBpZW50UHVia2V5LCBjb250ZW50OiB0ZXh0IHx8ICcnLCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1zZ1R5cGU6IGF0dGFjaG1lbnQudHlwZSwgYXR0YWNobWVudCwgcmVwbHlUbyB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbGUgPSBhdHRhY2htZW50LmZpbGU7XG4gICAgY29uc3QgdHJhbnNmZXJJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpICsgRGF0ZS5ub3coKS50b1N0cmluZygzNik7XG4gICAgY29uc3QgZmlsZVNpemUgPSBmaWxlID8gZmlsZS5zaXplIDogYXR0YWNobWVudC5zaXplO1xuICAgIGNvbnN0IHRvdGFsQ2h1bmtzID0gTWF0aC5jZWlsKGZpbGVTaXplIC8gTm9zdHJDbGllbnQuQ0hVTktfU0laRSk7XG4gICAgbGV0IGxhc3RJZCA9ICcnO1xuICAgIGxldCBzZW50ID0gMDtcblxuICAgIGF3YWl0IGVuc3VyZVRyYW5zZmVyKHtcbiAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgICAgbWltZVR5cGU6IGF0dGFjaG1lbnQubWltZVR5cGUsXG4gICAgICAgIGZpbGVUeXBlOiBhdHRhY2htZW50LnR5cGUsXG4gICAgICAgIHNpemU6IGZpbGVTaXplLFxuICAgICAgICB0b3RhbENodW5rcyxcbiAgICAgICAgdGV4dDogdGV4dCB8fCAnJyxcbiAgICB9KTtcblxuICAgIGF3YWl0IHRoaXMuc2VuZEVuY3J5cHRlZFBheWxvYWQocmVjaXBpZW50UHVia2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBfbm9zdHJfbXNnX3R5cGU6ICdmaWxlLW1ldGEnLFxuICAgICAgdHJhbnNmZXJJZCxcbiAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50Lm1pbWVUeXBlLFxuICAgICAgc2l6ZTogZmlsZVNpemUsXG4gICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgZmlsZVR5cGU6IGF0dGFjaG1lbnQudHlwZSxcbiAgICAgIHJlcGx5VG8sXG4gICAgfSkpO1xuXG4gICAgZm9yIChsZXQgYmF0Y2ggPSAwOyBiYXRjaCA8IHRvdGFsQ2h1bmtzOyBiYXRjaCArPSBOb3N0ckNsaWVudC5QQVJBTExFTCkge1xuICAgICAgY29uc3QgcHJvbWlzZXM6IFByb21pc2U8c3RyaW5nPltdID0gW107XG4gICAgICBjb25zdCBsb2NhbENodW5rczoge2k6IG51bWJlciwgZGF0YTogc3RyaW5nfVtdID0gW107XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTm9zdHJDbGllbnQuUEFSQUxMRUwgJiYgYmF0Y2ggKyBqIDwgdG90YWxDaHVua3M7IGorKykge1xuICAgICAgICBjb25zdCBpID0gYmF0Y2ggKyBqO1xuICAgICAgICBsZXQgY2h1bmtEYXRhOiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKiBOb3N0ckNsaWVudC5DSFVOS19TSVpFO1xuICAgICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgTm9zdHJDbGllbnQuQ0hVTktfU0laRSwgZmlsZVNpemUpO1xuICAgICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgZmlsZS5zbGljZShzdGFydCwgZW5kKS5hcnJheUJ1ZmZlcigpKTtcbiAgICAgICAgICBjaHVua0RhdGEgPSB0aGlzLmJ5dGVzVG9CYXNlNjQoYnl0ZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGJhc2U2NENodW5rU2l6ZSA9IE1hdGguZmxvb3IoKE5vc3RyQ2xpZW50LkNIVU5LX1NJWkUgLyAzKSAqIDQpO1xuICAgICAgICAgIGNodW5rRGF0YSA9IGF0dGFjaG1lbnQuZGF0YS5zbGljZShpICogYmFzZTY0Q2h1bmtTaXplLCAoaSArIDEpICogYmFzZTY0Q2h1bmtTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbG9jYWxDaHVua3MucHVzaCh7aSwgZGF0YTogY2h1bmtEYXRhfSk7XG5cbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnNlbmRFbmNyeXB0ZWRQYXlsb2FkKHJlY2lwaWVudFB1YmtleSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgX25vc3RyX21zZ190eXBlOiAnZmlsZS1jaHVuaycsXG4gICAgICAgICAgICB0cmFuc2ZlcklkLFxuICAgICAgICAgICAgY2h1bmtJbmRleDogaSxcbiAgICAgICAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgICAgICAgZGF0YTogY2h1bmtEYXRhLFxuICAgICAgICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50Lm1pbWVUeXBlLFxuICAgICAgICAgICAgc2l6ZTogZmlsZVNpemUsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgICAgICAgZmlsZVR5cGU6IGF0dGFjaG1lbnQudHlwZSxcbiAgICAgICAgICAgIHJlcGx5VG8sXG4gICAgICAgIH0pKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBpZHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICBsYXN0SWQgPSBpZHNbaWRzLmxlbmd0aCAtIDFdIHx8IGxhc3RJZDtcblxuICAgICAgZm9yIChjb25zdCBjaHVuayBvZiBsb2NhbENodW5rcykge1xuICAgICAgICAgIGF3YWl0IHN0b3JlQ2h1bmsodHJhbnNmZXJJZCwgY2h1bmsuaSwgdG90YWxDaHVua3MsIGNodW5rLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBzZW50ICs9IHByb21pc2VzLmxlbmd0aDtcbiAgICAgIG9uUHJvZ3Jlc3M/LihzZW50LCB0b3RhbENodW5rcyk7XG4gICAgICBpZiAoc2VudCA8IHRvdGFsQ2h1bmtzKSBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNTApKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGxhc3RJZCB8fCBgbG9jYWwtJHt0cmFuc2ZlcklkfWAsXG4gICAgICBmcm9tOiB0aGlzLl9wayxcbiAgICAgIHRvOiByZWNpcGllbnRQdWJrZXksXG4gICAgICBjb250ZW50OiB0ZXh0IHx8ICcnLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgbXNnVHlwZTogYXR0YWNobWVudC50eXBlLFxuICAgICAgcmVwbHlUbyxcbiAgICAgIGF0dGFjaG1lbnQ6IHtcbiAgICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgICAgZGF0YTogYXR0YWNobWVudC5maWxlID8gJycgOiBhdHRhY2htZW50LmRhdGEsXG4gICAgICAgIHRyYW5zZmVySWQsXG4gICAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgICBjaHVua2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgc2VuZFdlYlJUQ1NpZ25hbChyZWNpcGllbnRQdWJrZXk6IHN0cmluZywgc2lnbmFsOiBXZWJSVENTaWduYWwpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRFbmNyeXB0ZWRQYXlsb2FkKHJlY2lwaWVudFB1YmtleSwgSlNPTi5zdHJpbmdpZnkoeyBfbm9zdHJfbXNnX3R5cGU6IHNpZ25hbC50eXBlLCBzZHA6IHNpZ25hbC5zZHAsIGNhbmRpZGF0ZTogc2lnbmFsLmNhbmRpZGF0ZSwgY2FsbFR5cGU6IHNpZ25hbC5jYWxsVHlwZSwgY2FsbElkOiBzaWduYWwuY2FsbElkIH0pKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUNoYW5uZWwobmFtZTogc3RyaW5nLCBhYm91dD86IHN0cmluZyk6IFByb21pc2U8Q2hhbm5lbD4ge1xuICAgIGlmICghdGhpcy5fc2spIHRocm93IG5ldyBFcnJvcignTm90IGF1dGhvcml6ZWQnKTtcbiAgICBjb25zdCBldjogVW5zaWduZWRFdmVudCA9IHtcbiAgICAgIGtpbmQ6IDQwLFxuICAgICAgY3JlYXRlZF9hdDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCksXG4gICAgICB0YWdzOiBbXSxcbiAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgYWJvdXQ6IGFib3V0IHx8ICcnIH0pLFxuICAgICAgcHVia2V5OiB0aGlzLl9wayxcbiAgICB9O1xuICAgIGNvbnN0IGV2ZW50ID0gZmluYWxpemVFdmVudChldiwgdGhpcy5fc2spO1xuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShbJ0VWRU5UJywgZXZlbnRdKTtcbiAgICBmb3IgKGNvbnN0IFssIHdzXSBvZiB0aGlzLnNvY2tldHMpIGlmICh3cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgdHJ5IHsgd3Muc2VuZChwYXlsb2FkKTsgfSBjYXRjaCB7fVxuICAgIGNvbnN0IGNoYW5uZWw6IENoYW5uZWwgPSB7IGlkOiBldmVudC5pZCwgbmFtZSwgYWJvdXQsIGNyZWF0ZWRCeTogdGhpcy5fcGssIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSB9O1xuICAgIHRoaXMuY2hhbm5lbENhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKGNoYW5uZWwpKTtcbiAgICByZXR1cm4gY2hhbm5lbDtcbiAgfVxuXG4gIGFzeW5jIHNlbmRDaGFubmVsTWVzc2FnZShjaGFubmVsSWQ6IHN0cmluZywgdGV4dDogc3RyaW5nLCByZXBseVRvPzogUmVwbHlSZWYpOiBQcm9taXNlPERpcmVjdE1lc3NhZ2U+IHtcbiAgICBpZiAoIXRoaXMuX3NrKSB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRob3JpemVkJyk7XG4gICAgY29uc3QgZXY6IFVuc2lnbmVkRXZlbnQgPSB7XG4gICAgICBraW5kOiA0MixcbiAgICAgIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLFxuICAgICAgdGFnczogW1snZScsIGNoYW5uZWxJZCwgJycsICdyb290J11dLFxuICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoeyB0ZXh0LCByZXBseVRvIH0pLFxuICAgICAgcHVia2V5OiB0aGlzLl9wayxcbiAgICB9O1xuICAgIGNvbnN0IGV2ZW50ID0gZmluYWxpemVFdmVudChldiwgdGhpcy5fc2spO1xuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShbJ0VWRU5UJywgZXZlbnRdKTtcbiAgICBsZXQgc2VudCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgWywgd3NdIG9mIHRoaXMuc29ja2V0cykge1xuICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSBjb250aW51ZTtcbiAgICAgIHNlbnQgPSB0cnVlO1xuICAgICAgdHJ5IHsgd3Muc2VuZChwYXlsb2FkKTsgfSBjYXRjaCB7fVxuICAgIH1cbiAgICBpZiAoIXNlbnQpIHRocm93IG5ldyBFcnJvcignTm8gY29ubmVjdGVkIHJlbGF5cycpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZXZlbnQuaWQsXG4gICAgICBmcm9tOiB0aGlzLl9wayxcbiAgICAgIHRvOiAnJyxcbiAgICAgIGNvbnRlbnQ6IHRleHQsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBtc2dUeXBlOiAnY2hhbm5lbCcsXG4gICAgICBjaGFubmVsSWQsXG4gICAgICByZXBseVRvLFxuICAgIH07XG4gIH1cblxuICByZXF1ZXN0UHJvZmlsZShwdWJrZXk6IHN0cmluZyk6IE5vc3RyUHJvZmlsZSB8IG51bGwge1xuICAgIGlmICh0aGlzLnByb2ZpbGVDYWNoZS5oYXMocHVia2V5KSkgcmV0dXJuIHRoaXMucHJvZmlsZUNhY2hlLmdldChwdWJrZXkpITtcbiAgICBpZiAodGhpcy5wZW5kaW5nUHJvZmlsZXMuaGFzKHB1YmtleSkpIHJldHVybiBudWxsO1xuICAgIHRoaXMucGVuZGluZ1Byb2ZpbGVzLmFkZChwdWJrZXkpO1xuICAgIGNvbnN0IHN1YklkID0gJ3AtJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDgpO1xuICAgIGZvciAoY29uc3QgWywgd3NdIG9mIHRoaXMuc29ja2V0cykgeyBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHsgd3Muc2VuZChKU09OLnN0cmluZ2lmeShbJ1JFUScsIHN1YklkLCB7IGtpbmRzOiBbMF0sIGF1dGhvcnM6IFtwdWJrZXldLCBsaW1pdDogMSB9XSkpOyBicmVhazsgfSB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRQcm9maWxlKHB1YmtleTogc3RyaW5nKSB7IHJldHVybiB0aGlzLnByb2ZpbGVDYWNoZS5nZXQocHVia2V5KSB8fCBudWxsOyB9XG5cbiAgYXN5bmMgdXBkYXRlUHJvZmlsZShwcm9maWxlOiBOb3N0clByb2ZpbGUpIHtcbiAgICBpZiAoIXRoaXMuX3NrKSB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRob3JpemVkJyk7XG4gICAgY29uc3QgZXY6IFVuc2lnbmVkRXZlbnQgPSB7IGtpbmQ6IDAsIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCB0YWdzOiBbXSwgY29udGVudDogSlNPTi5zdHJpbmdpZnkocHJvZmlsZSksIHB1YmtleTogdGhpcy5fcGsgfTtcbiAgICBjb25zdCBldmVudCA9IGZpbmFsaXplRXZlbnQoZXYsIHRoaXMuX3NrKTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoWydFVkVOVCcsIGV2ZW50XSk7XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHRyeSB7IHdzLnNlbmQoanNvbik7IH0gY2F0Y2gge31cbiAgICB0aGlzLnByb2ZpbGVDYWNoZS5zZXQodGhpcy5fcGssIHByb2ZpbGUpO1xuICB9XG5cbiAgZGlzY29ubmVjdEFsbCgpIHtcbiAgICBmb3IgKGNvbnN0IFssIHRdIG9mIHRoaXMucmVjb25uZWN0VGltZXJzKSBjbGVhclRpbWVvdXQodCk7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lcnMuY2xlYXIoKTsgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cy5jbGVhcigpO1xuICAgIGZvciAoY29uc3QgWywgd3NdIG9mIHRoaXMuc29ja2V0cykgd3MuY2xvc2UoKTtcbiAgICB0aGlzLnNvY2tldHMuY2xlYXIoKTsgdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCk7IHRoaXMucmVsYXlTdGF0dXMuY2xlYXIoKTtcbiAgfVxuXG4gIGFkZFJlbGF5KHVybDogc3RyaW5nKSB7IGlmICghdGhpcy5fcmVsYXlzLmluY2x1ZGVzKHVybCkpIHsgdGhpcy5fcmVsYXlzLnB1c2godXJsKTsgdGhpcy5jb25uZWN0VG9SZWxheSh1cmwpOyB9IH1cbiAgcmVtb3ZlUmVsYXkodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9yZWxheXMgPSB0aGlzLl9yZWxheXMuZmlsdGVyKHIgPT4gciAhPT0gdXJsKTtcbiAgICBjb25zdCB0ID0gdGhpcy5yZWNvbm5lY3RUaW1lcnMuZ2V0KHVybCk7IGlmICh0KSB7IGNsZWFyVGltZW91dCh0KTsgdGhpcy5yZWNvbm5lY3RUaW1lcnMuZGVsZXRlKHVybCk7IH1cbiAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmRlbGV0ZSh1cmwpO1xuICAgIGNvbnN0IHdzID0gdGhpcy5zb2NrZXRzLmdldCh1cmwpOyBpZiAod3MpIHsgd3MuY2xvc2UoKTsgdGhpcy5zb2NrZXRzLmRlbGV0ZSh1cmwpOyB9XG4gICAgdGhpcy5yZWxheVN0YXR1cy5kZWxldGUodXJsKTtcbiAgfVxuXG4gIHNob3J0ZW5LZXkoa2V5OiBzdHJpbmcpIHsgcmV0dXJuICgha2V5IHx8IGtleS5sZW5ndGggPCAxNikgPyBrZXkgOiBrZXkuc2xpY2UoMCwgOCkgKyAn4oCmJyArIGtleS5zbGljZSgtOCk7IH1cbiAgaXNWYWxpZEhleEtleShrZXk6IHN0cmluZykgeyByZXR1cm4gL15bMC05YS1mQS1GXXs2NH0kLy50ZXN0KGtleSk7IH1cbn1cblxuZXhwb3J0IGNvbnN0IG5vc3RyQ2xpZW50ID0gbmV3IE5vc3RyQ2xpZW50KCk7XG5leHBvcnQgeyBERUZBVUxUX1JFTEFZUyB9O1xuIl0sIm5hbWVzIjpbImdlbmVyYXRlU2VjcmV0S2V5IiwiZ2V0UHVibGljS2V5IiwiZmluYWxpemVFdmVudCIsImVuY3J5cHQiLCJkZWNyeXB0IiwiYnl0ZXNUb0hleCIsImhleFRvQnl0ZXMiLCJlbnN1cmVUcmFuc2ZlciIsImlzVHJhbnNmZXJDb21wbGV0ZSIsInN0b3JlQ2h1bmsiLCJERUZBVUxUX1JFTEFZUyIsIk5vc3RyQ2xpZW50IiwicHVibGljS2V5IiwiX3BrIiwicHJpdmF0ZUtleUhleCIsIl9zayIsInJlbGF5cyIsIl9yZWxheXMiLCJjaGFubmVscyIsIl9jaGFubmVscyIsInNrIiwiZ2V0UmVsYXlTdGF0dXMiLCJyZWxheSIsInJlbGF5U3RhdHVzIiwiZ2V0IiwiY29ubmVjdGVkUmVsYXlDb3VudCIsImMiLCJmb3JFYWNoIiwicyIsImdlbmVyYXRlS2V5cyIsInBrIiwicHJpdmF0ZUtleSIsImxvZ2luIiwiX3N0b3BwZWQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwibG9nb3V0IiwiZGlzY29ubmVjdEFsbCIsInJlbW92ZUl0ZW0iLCJ0cnlBdXRvTG9naW4iLCJnZXRJdGVtIiwibGVuZ3RoIiwib25NZXNzYWdlIiwiY2IiLCJtZXNzYWdlQ2FsbGJhY2tzIiwiYWRkIiwiZGVsZXRlIiwib25DaGFubmVsIiwiY2hhbm5lbENhbGxiYWNrcyIsIm9uQ2hhbm5lbE1lc3NhZ2UiLCJjaGFubmVsTWVzc2FnZUNhbGxiYWNrcyIsIm9uUHJvZmlsZSIsInByb2ZpbGVDYWxsYmFja3MiLCJvbkNvbm5lY3Rpb24iLCJjb25uZWN0aW9uQ2FsbGJhY2tzIiwib25TaWduYWwiLCJzaWduYWxDYWxsYmFja3MiLCJjb25uZWN0VG9SZWxheXMiLCJyIiwiY29ubmVjdFRvUmVsYXkiLCJzZXRDaGFubmVscyIsImNoYW5uZWxJZHMiLCJTZXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwid3MiLCJzb2NrZXRzIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJzdWJzY3JpYmVUb0NoYW5uZWxzIiwidXJsIiwiaGFzIiwiZSIsIkNPTk5FQ1RJTkciLCJzZXQiLCJjdCIsInNldFRpbWVvdXQiLCJjbG9zZSIsIm9ub3BlbiIsImNsZWFyVGltZW91dCIsInJlY29ubmVjdEF0dGVtcHRzIiwic3Vic2NyaWJlVG9NZXNzYWdlcyIsIm9uY2xvc2UiLCJzY2hlZHVsZVJlY29ubmVjdCIsIm9uZXJyb3IiLCJvbm1lc3NhZ2UiLCJoYW5kbGVSZWxheU1lc3NhZ2UiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwicmVjb25uZWN0VGltZXJzIiwiYSIsImQiLCJNYXRoIiwibWluIiwicG93IiwiQXJyYXkiLCJpc0FycmF5IiwiZXYiLCJzZWVuRXZlbnRzIiwiaWQiLCJraW5kIiwiaGFuZGxlRW5jcnlwdGVkRE0iLCJoYW5kbGVQcm9maWxlRXZlbnQiLCJoYW5kbGVDaGFubmVsRXZlbnQiLCJoYW5kbGVDaGFubmVsTWVzc2FnZUV2ZW50IiwiZXZlbnQiLCJwVGFnIiwidGFncyIsImZpbmQiLCJ0IiwiaXNGb3JNZSIsImlzRnJvbU1lIiwicHVia2V5Iiwib3RoZXIiLCJkZWMiLCJjb250ZW50IiwicCIsIl9ub3N0cl9tc2dfdHlwZSIsIm10IiwiZnJvbSIsInRvIiwidGV4dCIsInRpbWVzdGFtcCIsImNyZWF0ZWRfYXQiLCJtc2dUeXBlIiwicmVwbHlUbyIsImluY2x1ZGVzIiwidHlwZSIsInNkcCIsImNhbmRpZGF0ZSIsImNhbGxUeXBlIiwiY2FsbElkIiwiaGFuZGxlRmlsZUNodW5rIiwidHJhbnNmZXJJZCIsImZpbGVUeXBlIiwiZmlsZU5hbWUiLCJtaW1lVHlwZSIsInNpemUiLCJ0b3RhbENodW5rcyIsImF0dGFjaG1lbnQiLCJuYW1lIiwiZXZlbnRJZCIsImNodW5rSW5kZXgiLCJkb25lIiwiY2h1bmtlZCIsInByb2ZpbGVDYWNoZSIsInBlbmRpbmdQcm9maWxlcyIsInBheWxvYWQiLCJjaGFubmVsIiwidHJpbSIsInNsaWNlIiwiYWJvdXQiLCJjcmVhdGVkQnkiLCJjcmVhdGVkQXQiLCJlVGFnIiwiY2hhbm5lbElkIiwicmVsYXlVcmwiLCJzdWJJZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic2luY2UiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJzZW5kIiwic3RyaW5naWZ5Iiwia2luZHMiLCJhdXRob3JzIiwic3Vic2NyaXB0aW9ucyIsImZpbHRlcnMiLCJpZHMiLCJzZW5kRW5jcnlwdGVkUGF5bG9hZCIsInJlY2lwaWVudFB1YmtleSIsIkVycm9yIiwiZW5jcnlwdGVkIiwianNvbiIsIm9wZW4iLCJwdXNoIiwiYnl0ZXNUb0Jhc2U2NCIsImJ5dGVzIiwiYmluIiwic3RlcCIsImkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzdWJhcnJheSIsImJ0b2EiLCJzZW5kRGlyZWN0TWVzc2FnZSIsIkNIVU5LX1NJWkUiLCJQQVJBTExFTCIsInNlbmRBdHRhY2htZW50Iiwib25Qcm9ncmVzcyIsIm1heFNpemUiLCJmaWxlIiwiYjY0IiwiZmlsZVNpemUiLCJjZWlsIiwibGFzdElkIiwic2VudCIsImJhdGNoIiwicHJvbWlzZXMiLCJsb2NhbENodW5rcyIsImoiLCJjaHVua0RhdGEiLCJzdGFydCIsImVuZCIsIlVpbnQ4QXJyYXkiLCJhcnJheUJ1ZmZlciIsImJhc2U2NENodW5rU2l6ZSIsIlByb21pc2UiLCJhbGwiLCJjaHVuayIsInNlbmRXZWJSVENTaWduYWwiLCJzaWduYWwiLCJjcmVhdGVDaGFubmVsIiwic2VuZENoYW5uZWxNZXNzYWdlIiwicmVxdWVzdFByb2ZpbGUiLCJsaW1pdCIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwicHJvZmlsZSIsImNsZWFyIiwiYWRkUmVsYXkiLCJyZW1vdmVSZWxheSIsInNob3J0ZW5LZXkiLCJrZXkiLCJpc1ZhbGlkSGV4S2V5IiwidGVzdCIsIk1hcCIsIm5vc3RyQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/nostr.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/store.ts":
/*!**************************!*\
  !*** ./src/lib/store.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addChannel: () => (/* binding */ addChannel),\n/* harmony export */   addChannelMessage: () => (/* binding */ addChannelMessage),\n/* harmony export */   addContact: () => (/* binding */ addContact),\n/* harmony export */   addMessage: () => (/* binding */ addMessage),\n/* harmony export */   getChannelMessages: () => (/* binding */ getChannelMessages),\n/* harmony export */   getMessages: () => (/* binding */ getMessages),\n/* harmony export */   goBackToSidebar: () => (/* binding */ goBackToSidebar),\n/* harmony export */   loadChannels: () => (/* binding */ loadChannels),\n/* harmony export */   loadContacts: () => (/* binding */ loadContacts),\n/* harmony export */   removeContact: () => (/* binding */ removeContact),\n/* harmony export */   setActiveChat: () => (/* binding */ setActiveChat),\n/* harmony export */   setLoggedIn: () => (/* binding */ setLoggedIn),\n/* harmony export */   toggleSidebar: () => (/* binding */ toggleSidebar),\n/* harmony export */   updateContactProfile: () => (/* binding */ updateContactProfile),\n/* harmony export */   useAppState: () => (/* binding */ useAppState),\n/* harmony export */   useRelayStatuses: () => (/* binding */ useRelayStatuses)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _nostr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nostr */ \"(ssr)/./src/lib/nostr.ts\");\n\n\nconst initialState = {\n    contacts: [],\n    channels: [],\n    messages: new Map(),\n    channelMessages: new Map(),\n    activeChat: null,\n    isLoggedIn: false,\n    showSidebar: true\n};\nlet state = {\n    ...initialState\n};\nconst listeners = new Set();\nfunction notify() {\n    listeners.forEach((l)=>l());\n}\nfunction getSnapshot() {\n    return state;\n}\nfunction getServerSnapshot() {\n    return initialState;\n}\nfunction subscribe(listener) {\n    listeners.add(listener);\n    return ()=>listeners.delete(listener);\n}\nfunction useAppState() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(subscribe, getSnapshot, getServerSnapshot);\n}\nfunction setActiveChat(pubkey) {\n    state = {\n        ...state,\n        activeChat: pubkey\n    };\n    if (pubkey && !pubkey.startsWith(\"channel:\")) {\n        const contacts = state.contacts.map((c)=>c.pubkey === pubkey ? {\n                ...c,\n                unread: 0\n            } : c);\n        state = {\n            ...state,\n            contacts\n        };\n    }\n    notify();\n}\nfunction goBackToSidebar() {\n    state = {\n        ...state,\n        activeChat: null\n    };\n    notify();\n}\nfunction setLoggedIn(value) {\n    state = {\n        ...state,\n        isLoggedIn: value\n    };\n    notify();\n}\nfunction toggleSidebar() {\n    state = {\n        ...state,\n        showSidebar: !state.showSidebar\n    };\n    notify();\n}\nfunction addContact(pubkey, name) {\n    if (state.contacts.find((c)=>c.pubkey === pubkey)) return;\n    const contact = {\n        pubkey,\n        name: name || _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(pubkey),\n        unread: 0\n    };\n    state = {\n        ...state,\n        contacts: [\n            ...state.contacts,\n            contact\n        ]\n    };\n    saveContacts();\n    _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(pubkey);\n    notify();\n}\nfunction removeContact(pubkey) {\n    state = {\n        ...state,\n        contacts: state.contacts.filter((c)=>c.pubkey !== pubkey),\n        activeChat: state.activeChat === pubkey ? null : state.activeChat\n    };\n    saveContacts();\n    notify();\n}\nfunction updateContactProfile(pubkey, name, picture, about) {\n    state = {\n        ...state,\n        contacts: state.contacts.map((c)=>c.pubkey === pubkey ? {\n                ...c,\n                name: name || c.name,\n                picture,\n                about\n            } : c)\n    };\n    notify();\n}\nfunction getLastMessagePreview(msg) {\n    if (msg.msgType === \"image\") return \"\\uD83D\\uDDBC Photo\";\n    if (msg.msgType === \"file\") return ` ${msg.attachment?.name || \"File\"}`;\n    return msg.content;\n}\nfunction addMessage(msg) {\n    const otherPubkey = msg.from === _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey ? msg.to : msg.from;\n    const existing = state.messages.get(otherPubkey) || [];\n    if (existing.find((m)=>m.id === msg.id)) return;\n    const updated = [\n        ...existing,\n        msg\n    ].sort((a, b)=>a.timestamp - b.timestamp);\n    const newMessages = new Map(state.messages);\n    newMessages.set(otherPubkey, updated);\n    const preview = getLastMessagePreview(msg);\n    const contacts = state.contacts.map((c)=>{\n        if (c.pubkey === otherPubkey) {\n            return {\n                ...c,\n                lastMessage: preview,\n                lastMessageTime: msg.timestamp,\n                unread: state.activeChat === otherPubkey ? 0 : (c.unread || 0) + (msg.from !== _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey ? 1 : 0)\n            };\n        }\n        return c;\n    });\n    const hasContact = contacts.find((c)=>c.pubkey === otherPubkey);\n    if (!hasContact && msg.from !== _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey) {\n        contacts.push({\n            pubkey: otherPubkey,\n            name: _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(otherPubkey),\n            lastMessage: preview,\n            lastMessageTime: msg.timestamp,\n            unread: state.activeChat === otherPubkey ? 0 : 1\n        });\n        _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(otherPubkey);\n        saveContacts();\n    }\n    state = {\n        ...state,\n        messages: newMessages,\n        contacts\n    };\n    notify();\n}\nfunction addChannel(channel) {\n    if (state.channels.find((c)=>c.id === channel.id)) return;\n    state = {\n        ...state,\n        channels: [\n            channel,\n            ...state.channels\n        ]\n    };\n    saveChannels();\n    _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.setChannels(state.channels.map((c)=>c.id));\n    notify();\n}\nfunction addChannelMessage(msg) {\n    const channelId = msg.channelId;\n    if (!channelId) return;\n    const existing = state.channelMessages.get(channelId) || [];\n    if (existing.find((m)=>m.id === msg.id)) return;\n    const updated = [\n        ...existing,\n        msg\n    ].sort((a, b)=>a.timestamp - b.timestamp);\n    const map = new Map(state.channelMessages);\n    map.set(channelId, updated);\n    state = {\n        ...state,\n        channelMessages: map\n    };\n    notify();\n}\nfunction getChannelMessages(channelId) {\n    return state.channelMessages.get(channelId) || [];\n}\nfunction getMessages(pubkey) {\n    return state.messages.get(pubkey) || [];\n}\nfunction saveContacts() {\n    if (true) return;\n    const data = state.contacts.map((c)=>({\n            pubkey: c.pubkey,\n            name: c.name\n        }));\n    localStorage.setItem(\"nostr_contacts\", JSON.stringify(data));\n}\nfunction saveChannels() {\n    if (true) return;\n    localStorage.setItem(\"nostr_channels\", JSON.stringify(state.channels));\n}\nfunction loadContacts() {\n    if (true) return;\n    try {\n        const raw = localStorage.getItem(\"nostr_contacts\");\n        if (raw) {\n            const data = JSON.parse(raw);\n            const contacts = data.map((d)=>({\n                    pubkey: d.pubkey,\n                    name: d.name || _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(d.pubkey),\n                    unread: 0\n                }));\n            state = {\n                ...state,\n                contacts\n            };\n            notify();\n            contacts.forEach((c)=>_nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(c.pubkey));\n        }\n    } catch  {\n    // ignore\n    }\n}\nfunction loadChannels() {\n// No-op. Channels are now added dynamically.\n}\nfunction useRelayStatuses() {\n    const [, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>setTick((t)=>t + 1), []);\n    return {\n        refresh\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUtLLEtBQUssQ0FBQ0Y7WUFDeEIsTUFBTW5GLFdBQXNCNkUsS0FBS3JELEdBQUcsQ0FBQzhELENBQUFBLElBQU07b0JBQ3pDaEUsUUFBUWdFLEVBQUVoRSxNQUFNO29CQUNoQlUsTUFBTXNELEVBQUV0RCxJQUFJLElBQUlsQywrQ0FBV0EsQ0FBQ3FDLFVBQVUsQ0FBQ21ELEVBQUVoRSxNQUFNO29CQUMvQ0ksUUFBUTtnQkFDVjtZQUNBbEIsUUFBUTtnQkFBRSxHQUFHQSxLQUFLO2dCQUFFUjtZQUFTO1lBQzdCVztZQUNBWCxTQUFTWSxPQUFPLENBQUNhLENBQUFBLElBQUszQiwrQ0FBV0EsQ0FBQ3VDLGNBQWMsQ0FBQ1osRUFBRUgsTUFBTTtRQUMzRDtJQUNGLEVBQUUsT0FBTTtJQUNOLFNBQVM7SUFDWDtBQUNGO0FBRU8sU0FBU2lFO0FBQ2QsNkNBQTZDO0FBQy9DO0FBRU8sU0FBU0M7SUFDZCxNQUFNLEdBQUdDLFFBQVEsR0FBRzlGLCtDQUFRQSxDQUFDO0lBQzdCLE1BQU0rRixVQUFVOUYsa0RBQVdBLENBQUMsSUFBTTZGLFFBQVFFLENBQUFBLElBQUtBLElBQUksSUFBSSxFQUFFO0lBQ3pELE9BQU87UUFBRUQ7SUFBUTtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvbGliL3N0b3JlLnRzP2FkMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vc3RyQ2xpZW50LCB0eXBlIENvbnRhY3QsIHR5cGUgRGlyZWN0TWVzc2FnZSwgdHlwZSBDaGFubmVsIH0gZnJvbSAnLi9ub3N0cic7XG5cbmludGVyZmFjZSBBcHBTdGF0ZSB7XG4gIGNvbnRhY3RzOiBDb250YWN0W107XG4gIGNoYW5uZWxzOiBDaGFubmVsW107XG4gIG1lc3NhZ2VzOiBNYXA8c3RyaW5nLCBEaXJlY3RNZXNzYWdlW10+O1xuICBjaGFubmVsTWVzc2FnZXM6IE1hcDxzdHJpbmcsIERpcmVjdE1lc3NhZ2VbXT47XG4gIGFjdGl2ZUNoYXQ6IHN0cmluZyB8IG51bGw7XG4gIGlzTG9nZ2VkSW46IGJvb2xlYW47XG4gIHNob3dTaWRlYmFyOiBib29sZWFuO1xufVxuXG5jb25zdCBpbml0aWFsU3RhdGU6IEFwcFN0YXRlID0ge1xuICBjb250YWN0czogW10sXG4gIGNoYW5uZWxzOiBbXSxcbiAgbWVzc2FnZXM6IG5ldyBNYXAoKSxcbiAgY2hhbm5lbE1lc3NhZ2VzOiBuZXcgTWFwKCksXG4gIGFjdGl2ZUNoYXQ6IG51bGwsXG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBzaG93U2lkZWJhcjogdHJ1ZSxcbn07XG5cbmxldCBzdGF0ZTogQXBwU3RhdGUgPSB7IC4uLmluaXRpYWxTdGF0ZSB9O1xuXG5jb25zdCBsaXN0ZW5lcnMgPSBuZXcgU2V0PCgpID0+IHZvaWQ+KCk7XG5cbmZ1bmN0aW9uIG5vdGlmeSgpIHtcbiAgbGlzdGVuZXJzLmZvckVhY2gobCA9PiBsKCkpO1xufVxuXG5mdW5jdGlvbiBnZXRTbmFwc2hvdCgpIHtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBnZXRTZXJ2ZXJTbmFwc2hvdCgpIHtcbiAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSB7XG4gIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBcHBTdGF0ZSgpIHtcbiAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFjdGl2ZUNoYXQocHVia2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgYWN0aXZlQ2hhdDogcHVia2V5IH07XG4gIGlmIChwdWJrZXkgJiYgIXB1YmtleS5zdGFydHNXaXRoKCdjaGFubmVsOicpKSB7XG4gICAgY29uc3QgY29udGFjdHMgPSBzdGF0ZS5jb250YWN0cy5tYXAoYyA9PlxuICAgICAgYy5wdWJrZXkgPT09IHB1YmtleSA/IHsgLi4uYywgdW5yZWFkOiAwIH0gOiBjXG4gICAgKTtcbiAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzIH07XG4gIH1cbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb0JhY2tUb1NpZGViYXIoKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgYWN0aXZlQ2hhdDogbnVsbCB9O1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ2dlZEluKHZhbHVlOiBib29sZWFuKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgaXNMb2dnZWRJbjogdmFsdWUgfTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIHNob3dTaWRlYmFyOiAhc3RhdGUuc2hvd1NpZGViYXIgfTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250YWN0KHB1YmtleTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKSB7XG4gIGlmIChzdGF0ZS5jb250YWN0cy5maW5kKGMgPT4gYy5wdWJrZXkgPT09IHB1YmtleSkpIHJldHVybjtcbiAgY29uc3QgY29udGFjdDogQ29udGFjdCA9IHtcbiAgICBwdWJrZXksXG4gICAgbmFtZTogbmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KHB1YmtleSksXG4gICAgdW5yZWFkOiAwLFxuICB9O1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzOiBbLi4uc3RhdGUuY29udGFjdHMsIGNvbnRhY3RdIH07XG4gIHNhdmVDb250YWN0cygpO1xuICBub3N0ckNsaWVudC5yZXF1ZXN0UHJvZmlsZShwdWJrZXkpO1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbnRhY3QocHVia2V5OiBzdHJpbmcpIHtcbiAgc3RhdGUgPSB7XG4gICAgLi4uc3RhdGUsXG4gICAgY29udGFjdHM6IHN0YXRlLmNvbnRhY3RzLmZpbHRlcihjID0+IGMucHVia2V5ICE9PSBwdWJrZXkpLFxuICAgIGFjdGl2ZUNoYXQ6IHN0YXRlLmFjdGl2ZUNoYXQgPT09IHB1YmtleSA/IG51bGwgOiBzdGF0ZS5hY3RpdmVDaGF0LFxuICB9O1xuICBzYXZlQ29udGFjdHMoKTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDb250YWN0UHJvZmlsZShwdWJrZXk6IHN0cmluZywgbmFtZT86IHN0cmluZywgcGljdHVyZT86IHN0cmluZywgYWJvdXQ/OiBzdHJpbmcpIHtcbiAgc3RhdGUgPSB7XG4gICAgLi4uc3RhdGUsXG4gICAgY29udGFjdHM6IHN0YXRlLmNvbnRhY3RzLm1hcChjID0+XG4gICAgICBjLnB1YmtleSA9PT0gcHVia2V5ID8geyAuLi5jLCBuYW1lOiBuYW1lIHx8IGMubmFtZSwgcGljdHVyZSwgYWJvdXQgfSA6IGNcbiAgICApLFxuICB9O1xuICBub3RpZnkoKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdE1lc3NhZ2VQcmV2aWV3KG1zZzogRGlyZWN0TWVzc2FnZSk6IHN0cmluZyB7XG4gIGlmIChtc2cubXNnVHlwZSA9PT0gJ2ltYWdlJykgcmV0dXJuICfwn5a877iPIFBob3RvJztcbiAgaWYgKG1zZy5tc2dUeXBlID09PSAnZmlsZScpIHJldHVybiBg8J+TjiAke21zZy5hdHRhY2htZW50Py5uYW1lIHx8ICdGaWxlJ31gO1xuICByZXR1cm4gbXNnLmNvbnRlbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNZXNzYWdlKG1zZzogRGlyZWN0TWVzc2FnZSkge1xuICBjb25zdCBvdGhlclB1YmtleSA9IG1zZy5mcm9tID09PSBub3N0ckNsaWVudC5wdWJsaWNLZXkgPyBtc2cudG8gOiBtc2cuZnJvbTtcbiAgY29uc3QgZXhpc3RpbmcgPSBzdGF0ZS5tZXNzYWdlcy5nZXQob3RoZXJQdWJrZXkpIHx8IFtdO1xuXG4gIGlmIChleGlzdGluZy5maW5kKG0gPT4gbS5pZCA9PT0gbXNnLmlkKSkgcmV0dXJuO1xuXG4gIGNvbnN0IHVwZGF0ZWQgPSBbLi4uZXhpc3RpbmcsIG1zZ10uc29ydCgoYSwgYikgPT4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcCk7XG4gIGNvbnN0IG5ld01lc3NhZ2VzID0gbmV3IE1hcChzdGF0ZS5tZXNzYWdlcyk7XG4gIG5ld01lc3NhZ2VzLnNldChvdGhlclB1YmtleSwgdXBkYXRlZCk7XG5cbiAgY29uc3QgcHJldmlldyA9IGdldExhc3RNZXNzYWdlUHJldmlldyhtc2cpO1xuXG4gIGNvbnN0IGNvbnRhY3RzID0gc3RhdGUuY29udGFjdHMubWFwKGMgPT4ge1xuICAgIGlmIChjLnB1YmtleSA9PT0gb3RoZXJQdWJrZXkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmMsXG4gICAgICAgIGxhc3RNZXNzYWdlOiBwcmV2aWV3LFxuICAgICAgICBsYXN0TWVzc2FnZVRpbWU6IG1zZy50aW1lc3RhbXAsXG4gICAgICAgIHVucmVhZDogc3RhdGUuYWN0aXZlQ2hhdCA9PT0gb3RoZXJQdWJrZXkgPyAwIDogKGMudW5yZWFkIHx8IDApICsgKG1zZy5mcm9tICE9PSBub3N0ckNsaWVudC5wdWJsaWNLZXkgPyAxIDogMCksXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfSk7XG5cbiAgY29uc3QgaGFzQ29udGFjdCA9IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gb3RoZXJQdWJrZXkpO1xuICBpZiAoIWhhc0NvbnRhY3QgJiYgbXNnLmZyb20gIT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleSkge1xuICAgIGNvbnRhY3RzLnB1c2goe1xuICAgICAgcHVia2V5OiBvdGhlclB1YmtleSxcbiAgICAgIG5hbWU6IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkob3RoZXJQdWJrZXkpLFxuICAgICAgbGFzdE1lc3NhZ2U6IHByZXZpZXcsXG4gICAgICBsYXN0TWVzc2FnZVRpbWU6IG1zZy50aW1lc3RhbXAsXG4gICAgICB1bnJlYWQ6IHN0YXRlLmFjdGl2ZUNoYXQgPT09IG90aGVyUHVia2V5ID8gMCA6IDEsXG4gICAgfSk7XG4gICAgbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUob3RoZXJQdWJrZXkpO1xuICAgIHNhdmVDb250YWN0cygpO1xuICB9XG5cbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBtZXNzYWdlczogbmV3TWVzc2FnZXMsIGNvbnRhY3RzIH07XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbm5lbChjaGFubmVsOiBDaGFubmVsKSB7XG4gIGlmIChzdGF0ZS5jaGFubmVscy5maW5kKGMgPT4gYy5pZCA9PT0gY2hhbm5lbC5pZCkpIHJldHVybjtcbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBjaGFubmVsczogW2NoYW5uZWwsIC4uLnN0YXRlLmNoYW5uZWxzXSB9O1xuICBzYXZlQ2hhbm5lbHMoKTtcbiAgbm9zdHJDbGllbnQuc2V0Q2hhbm5lbHMoc3RhdGUuY2hhbm5lbHMubWFwKGMgPT4gYy5pZCkpO1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5uZWxNZXNzYWdlKG1zZzogRGlyZWN0TWVzc2FnZSkge1xuICBjb25zdCBjaGFubmVsSWQgPSBtc2cuY2hhbm5lbElkO1xuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuO1xuICBjb25zdCBleGlzdGluZyA9IHN0YXRlLmNoYW5uZWxNZXNzYWdlcy5nZXQoY2hhbm5lbElkKSB8fCBbXTtcbiAgaWYgKGV4aXN0aW5nLmZpbmQobSA9PiBtLmlkID09PSBtc2cuaWQpKSByZXR1cm47XG4gIGNvbnN0IHVwZGF0ZWQgPSBbLi4uZXhpc3RpbmcsIG1zZ10uc29ydCgoYSwgYikgPT4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcCk7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXAoc3RhdGUuY2hhbm5lbE1lc3NhZ2VzKTtcbiAgbWFwLnNldChjaGFubmVsSWQsIHVwZGF0ZWQpO1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNoYW5uZWxNZXNzYWdlczogbWFwIH07XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWxJZDogc3RyaW5nKTogRGlyZWN0TWVzc2FnZVtdIHtcbiAgcmV0dXJuIHN0YXRlLmNoYW5uZWxNZXNzYWdlcy5nZXQoY2hhbm5lbElkKSB8fCBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lc3NhZ2VzKHB1YmtleTogc3RyaW5nKTogRGlyZWN0TWVzc2FnZVtdIHtcbiAgcmV0dXJuIHN0YXRlLm1lc3NhZ2VzLmdldChwdWJrZXkpIHx8IFtdO1xufVxuXG5mdW5jdGlvbiBzYXZlQ29udGFjdHMoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBjb25zdCBkYXRhID0gc3RhdGUuY29udGFjdHMubWFwKGMgPT4gKHsgcHVia2V5OiBjLnB1YmtleSwgbmFtZTogYy5uYW1lIH0pKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25vc3RyX2NvbnRhY3RzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xufVxuXG5mdW5jdGlvbiBzYXZlQ2hhbm5lbHMoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbm9zdHJfY2hhbm5lbHMnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jaGFubmVscykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENvbnRhY3RzKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgdHJ5IHtcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbm9zdHJfY29udGFjdHMnKTtcbiAgICBpZiAocmF3KSB7XG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyYXcpIGFzIHsgcHVia2V5OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmcgfVtdO1xuICAgICAgY29uc3QgY29udGFjdHM6IENvbnRhY3RbXSA9IGRhdGEubWFwKGQgPT4gKHtcbiAgICAgICAgcHVia2V5OiBkLnB1YmtleSxcbiAgICAgICAgbmFtZTogZC5uYW1lIHx8IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkoZC5wdWJrZXkpLFxuICAgICAgICB1bnJlYWQ6IDAsXG4gICAgICB9KSk7XG4gICAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzIH07XG4gICAgICBub3RpZnkoKTtcbiAgICAgIGNvbnRhY3RzLmZvckVhY2goYyA9PiBub3N0ckNsaWVudC5yZXF1ZXN0UHJvZmlsZShjLnB1YmtleSkpO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gaWdub3JlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDaGFubmVscygpIHtcbiAgLy8gTm8tb3AuIENoYW5uZWxzIGFyZSBub3cgYWRkZWQgZHluYW1pY2FsbHkuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWxheVN0YXR1c2VzKCkge1xuICBjb25zdCBbLCBzZXRUaWNrXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0VGljayh0ID0+IHQgKyAxKSwgW10pO1xuICByZXR1cm4geyByZWZyZXNoIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVN5bmNFeHRlcm5hbFN0b3JlIiwibm9zdHJDbGllbnQiLCJpbml0aWFsU3RhdGUiLCJjb250YWN0cyIsImNoYW5uZWxzIiwibWVzc2FnZXMiLCJNYXAiLCJjaGFubmVsTWVzc2FnZXMiLCJhY3RpdmVDaGF0IiwiaXNMb2dnZWRJbiIsInNob3dTaWRlYmFyIiwic3RhdGUiLCJsaXN0ZW5lcnMiLCJTZXQiLCJub3RpZnkiLCJmb3JFYWNoIiwibCIsImdldFNuYXBzaG90IiwiZ2V0U2VydmVyU25hcHNob3QiLCJzdWJzY3JpYmUiLCJsaXN0ZW5lciIsImFkZCIsImRlbGV0ZSIsInVzZUFwcFN0YXRlIiwic2V0QWN0aXZlQ2hhdCIsInB1YmtleSIsInN0YXJ0c1dpdGgiLCJtYXAiLCJjIiwidW5yZWFkIiwiZ29CYWNrVG9TaWRlYmFyIiwic2V0TG9nZ2VkSW4iLCJ2YWx1ZSIsInRvZ2dsZVNpZGViYXIiLCJhZGRDb250YWN0IiwibmFtZSIsImZpbmQiLCJjb250YWN0Iiwic2hvcnRlbktleSIsInNhdmVDb250YWN0cyIsInJlcXVlc3RQcm9maWxlIiwicmVtb3ZlQ29udGFjdCIsImZpbHRlciIsInVwZGF0ZUNvbnRhY3RQcm9maWxlIiwicGljdHVyZSIsImFib3V0IiwiZ2V0TGFzdE1lc3NhZ2VQcmV2aWV3IiwibXNnIiwibXNnVHlwZSIsImF0dGFjaG1lbnQiLCJjb250ZW50IiwiYWRkTWVzc2FnZSIsIm90aGVyUHVia2V5IiwiZnJvbSIsInB1YmxpY0tleSIsInRvIiwiZXhpc3RpbmciLCJnZXQiLCJtIiwiaWQiLCJ1cGRhdGVkIiwic29ydCIsImEiLCJiIiwidGltZXN0YW1wIiwibmV3TWVzc2FnZXMiLCJzZXQiLCJwcmV2aWV3IiwibGFzdE1lc3NhZ2UiLCJsYXN0TWVzc2FnZVRpbWUiLCJoYXNDb250YWN0IiwicHVzaCIsImFkZENoYW5uZWwiLCJjaGFubmVsIiwic2F2ZUNoYW5uZWxzIiwic2V0Q2hhbm5lbHMiLCJhZGRDaGFubmVsTWVzc2FnZSIsImNoYW5uZWxJZCIsImdldENoYW5uZWxNZXNzYWdlcyIsImdldE1lc3NhZ2VzIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwibG9hZENvbnRhY3RzIiwicmF3IiwiZ2V0SXRlbSIsInBhcnNlIiwiZCIsImxvYWRDaGFubmVscyIsInVzZVJlbGF5U3RhdHVzZXMiLCJzZXRUaWNrIiwicmVmcmVzaCIsInQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/store.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/webrtc.ts":
/*!***************************!*\
  !*** ./src/lib/webrtc.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webrtcManager: () => (/* binding */ webrtcManager)\n/* harmony export */ });\n/* harmony import */ var _nostr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nostr */ \"(ssr)/./src/lib/nostr.ts\");\n\nconst ICE_CONFIG = {\n    iceServers: [\n        {\n            urls: \"stun:stun.l.google.com:19302\"\n        },\n        {\n            urls: \"stun:stun1.l.google.com:19302\"\n        },\n        {\n            urls: \"stun:stun.cloudflare.com:3478\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:80\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:443\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:443?transport=tcp\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        }\n    ],\n    iceCandidatePoolSize: 10\n};\nconst LS_STALE_CALL_KEY = \"nostr_call_ringing\";\nclass WebRTCManager {\n    get callState() {\n        return this._callState;\n    }\n    get remotePubkey() {\n        return this._remotePubkey;\n    }\n    get callType() {\n        return this._callType;\n    }\n    get callStartTime() {\n        return this._callStartTime;\n    }\n    onStateChange(cb) {\n        this.stateCallbacks.add(cb);\n        return ()=>{\n            this.stateCallbacks.delete(cb);\n        };\n    }\n    onStream(cb) {\n        this.streamCallbacks.add(cb);\n        return ()=>{\n            this.streamCallbacks.delete(cb);\n        };\n    }\n    setState(state, error) {\n        this._callState = state;\n        if (state === \"connected\") {\n            this._callStartTime = Date.now();\n            this.stopRingtone();\n        }\n        if (state === \"idle\" || state === \"ended\") this.stopRingtone();\n        this.stateCallbacks.forEach((cb)=>cb(state, this._remotePubkey, this._callType, error));\n    }\n    notifyStreams() {\n        this.streamCallbacks.forEach((cb)=>cb(this.localStream, this.remoteStream));\n    }\n    playRingtone() {\n        this.stopRingtone();\n        try {\n            this.audioCtx = new AudioContext();\n            this.audioOsc = this.audioCtx.createOscillator();\n            const gain = this.audioCtx.createGain();\n            this.audioOsc.connect(gain);\n            gain.connect(this.audioCtx.destination);\n            this.audioOsc.frequency.value = 440;\n            gain.gain.value = 0.08;\n            this.audioOsc.start();\n            const ctx = this.audioCtx;\n            const pulse = ()=>{\n                if (this._callState !== \"ringing\" || !this.audioCtx) {\n                    try {\n                        this.audioOsc?.stop();\n                    } catch  {}\n                    return;\n                }\n                gain.gain.setValueAtTime(0.08, ctx.currentTime);\n                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);\n                setTimeout(pulse, 1200);\n            };\n            pulse();\n        } catch  {}\n    }\n    stopRingtone() {\n        try {\n            this.audioOsc?.stop();\n        } catch  {}\n        try {\n            this.audioCtx?.close();\n        } catch  {}\n        this.audioOsc = null;\n        this.audioCtx = null;\n    }\n    init() {\n        if (this._unsubSignal) return;\n        try {\n            const staleCallJSON = localStorage.getItem(LS_STALE_CALL_KEY);\n            if (staleCallJSON) {\n                localStorage.removeItem(LS_STALE_CALL_KEY);\n                const staleCall = JSON.parse(staleCallJSON);\n                if (staleCall && staleCall.caller && Date.now() - staleCall.time < 45000) {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(staleCall.caller, {\n                        type: \"call-reject\"\n                    }).catch(()=>{});\n                }\n            }\n        } catch (e) {\n            localStorage.removeItem(LS_STALE_CALL_KEY);\n        }\n        this._unsubSignal = _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.onSignal((from, signal)=>{\n            this.handleSignal(from, signal);\n        });\n    }\n    destroy() {\n        if (this._unsubSignal) {\n            this._unsubSignal();\n            this._unsubSignal = null;\n        }\n        this.endCall();\n    }\n    async handleSignal(from, signal) {\n        switch(signal.type){\n            case \"call-request\":\n                if (this._callState !== \"idle\") {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(from, {\n                        type: \"call-reject\"\n                    }).catch(()=>{});\n                    return;\n                }\n                this._remotePubkey = from;\n                this._callType = signal.callType || \"audio\";\n                this.setState(\"ringing\");\n                try {\n                    localStorage.setItem(LS_STALE_CALL_KEY, JSON.stringify({\n                        caller: from,\n                        time: Date.now()\n                    }));\n                } catch  {}\n                this.playRingtone();\n                this.callTimeout = setTimeout(()=>{\n                    if (this._callState === \"ringing\") this.rejectCall();\n                }, 45000);\n                break;\n            case \"call-accept\":\n                if (this._callState === \"calling\" && this._remotePubkey === from) {\n                    this.clearRetry();\n                    this.clearCallTimeout();\n                    this.setState(\"connecting\");\n                    await this.startWebRTC(true);\n                }\n                break;\n            case \"call-reject\":\n                if (this._remotePubkey === from) {\n                    this.cleanup(false);\n                    this.setState(\"idle\", \" \");\n                }\n                break;\n            case \"call-end\":\n                if (this._remotePubkey === from) this.cleanup(false);\n                break;\n            case \"webrtc-offer\":\n                if (this._remotePubkey === from && signal.sdp) await this.handleOffer(signal.sdp);\n                break;\n            case \"webrtc-answer\":\n                if (this._remotePubkey === from && signal.sdp) await this.handleAnswer(signal.sdp);\n                break;\n            case \"webrtc-ice\":\n                if (this._remotePubkey === from && signal.candidate) await this.handleIceCandidate(signal.candidate);\n                break;\n        }\n    }\n    clearCallTimeout() {\n        if (this.callTimeout) {\n            clearTimeout(this.callTimeout);\n            this.callTimeout = null;\n        }\n    }\n    clearRetry() {\n        if (this.retryInterval) {\n            clearInterval(this.retryInterval);\n            this.retryInterval = null;\n        }\n    }\n    async initiateCall(pubkey, type) {\n        if (this._callState !== \"idle\") return;\n        //       ,    \n        try {\n            this.preStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true\n                },\n                video: type === \"video\" ? {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                } : false\n            });\n        } catch (err) {\n            //        \n            if (type === \"video\") {\n                try {\n                    this.preStream = await navigator.mediaDevices.getUserMedia({\n                        audio: true,\n                        video: false\n                    });\n                    type = \"audio\";\n                } catch  {\n                    this.setState(\"idle\", this.mediaErrorMsg(err));\n                    return;\n                }\n            } else {\n                this.setState(\"idle\", this.mediaErrorMsg(err));\n                return;\n            }\n        }\n        this._remotePubkey = pubkey;\n        this._callType = type;\n        this.setState(\"calling\");\n        //  call-request    3  (Nostr )\n        const sendReq = ()=>{\n            _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(pubkey, {\n                type: \"call-request\",\n                callType: type\n            }).catch(()=>{});\n        };\n        sendReq();\n        this.retryInterval = setInterval(()=>{\n            if (this._callState === \"calling\") sendReq();\n            else this.clearRetry();\n        }, 3000);\n        //  40 \n        this.callTimeout = setTimeout(()=>{\n            if (this._callState === \"calling\") {\n                this.cleanup(true);\n                this.setState(\"idle\", \" \");\n            }\n        }, 40000);\n    }\n    async acceptCall() {\n        if (this._callState !== \"ringing\" || !this._remotePubkey) return;\n        try {\n            localStorage.removeItem(LS_STALE_CALL_KEY);\n        } catch  {}\n        this.clearCallTimeout();\n        this.stopRingtone();\n        this.setState(\"connecting\");\n        //    \n        try {\n            this.preStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true\n                },\n                video: this._callType === \"video\" ? {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                } : false\n            });\n        } catch (err) {\n            if (this._callType === \"video\") {\n                try {\n                    this.preStream = await navigator.mediaDevices.getUserMedia({\n                        audio: true\n                    });\n                    this._callType = \"audio\";\n                } catch  {\n                    this.cleanup(false);\n                    this.setState(\"idle\", this.mediaErrorMsg(err));\n                    return;\n                }\n            } else {\n                this.cleanup(false);\n                this.setState(\"idle\", this.mediaErrorMsg(err));\n                return;\n            }\n        }\n        await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n            type: \"call-accept\"\n        });\n        await this.startWebRTC(false);\n    }\n    async rejectCall() {\n        if (this._callState !== \"ringing\" || !this._remotePubkey) return;\n        this.clearCallTimeout();\n        this.stopRingtone();\n        _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n            type: \"call-reject\"\n        }).catch(()=>{});\n        this.cleanup(false);\n    }\n    mediaErrorMsg(err) {\n        if (err instanceof DOMException) {\n            if (err.name === \"NotAllowedError\") return \"  / .    .\";\n            if (err.name === \"NotFoundError\") return \"/  .  .\";\n            if (err.name === \"NotReadableError\") return \"   .\";\n            return `: ${err.message}`;\n        }\n        return \"     \";\n    }\n    async startWebRTC(isInitiator) {\n        try {\n            this.pc = new RTCPeerConnection(ICE_CONFIG);\n            //   \n            this.localStream = this.preStream;\n            this.preStream = null;\n            if (!this.localStream) {\n                this.localStream = await navigator.mediaDevices.getUserMedia({\n                    audio: true,\n                    video: this._callType === \"video\"\n                });\n            }\n            this.localStream.getTracks().forEach((track)=>{\n                this.pc.addTrack(track, this.localStream);\n            });\n            this.remoteStream = new MediaStream();\n            this.pc.ontrack = (event)=>{\n                if (event.streams[0]) {\n                    event.streams[0].getTracks().forEach((track)=>{\n                        this.remoteStream.addTrack(track);\n                    });\n                } else if (event.track) {\n                    this.remoteStream.addTrack(event.track);\n                }\n                this.notifyStreams();\n            };\n            this.pc.onicecandidate = (event)=>{\n                if (event.candidate && this._remotePubkey) {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                        type: \"webrtc-ice\",\n                        candidate: event.candidate.toJSON()\n                    }).catch(()=>{});\n                }\n            };\n            this.pc.oniceconnectionstatechange = ()=>{\n                const s = this.pc?.iceConnectionState;\n                if (s === \"connected\" || s === \"completed\") {\n                    this.setState(\"connected\");\n                } else if (s === \"failed\") {\n                    if (this.pc && isInitiator) {\n                        try {\n                            this.pc.restartIce();\n                        } catch  {\n                            this.endCall(\" \");\n                        }\n                    } else {\n                        this.endCall(\" \");\n                    }\n                } else if (s === \"disconnected\") {\n                    setTimeout(()=>{\n                        if (this.pc?.iceConnectionState === \"disconnected\") this.endCall(\" \");\n                    }, 7000);\n                }\n            };\n            this.notifyStreams();\n            if (isInitiator) {\n                const offer = await this.pc.createOffer({\n                    offerToReceiveAudio: true,\n                    offerToReceiveVideo: this._callType === \"video\"\n                });\n                await this.pc.setLocalDescription(offer);\n                await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                    type: \"webrtc-offer\",\n                    sdp: offer.sdp\n                });\n            }\n            for (const c of this.iceCandidateQueue){\n                try {\n                    await this.pc.addIceCandidate(new RTCIceCandidate(c));\n                } catch  {}\n            }\n            this.iceCandidateQueue = [];\n        } catch (err) {\n            this.endCall(this.mediaErrorMsg(err));\n        }\n    }\n    async handleOffer(sdp) {\n        if (!this.pc) return;\n        try {\n            await this.pc.setRemoteDescription(new RTCSessionDescription({\n                type: \"offer\",\n                sdp\n            }));\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                type: \"webrtc-answer\",\n                sdp: answer.sdp\n            });\n        } catch (e) {\n            console.error(\"handleOffer:\", e);\n        }\n    }\n    async handleAnswer(sdp) {\n        if (!this.pc) return;\n        try {\n            await this.pc.setRemoteDescription(new RTCSessionDescription({\n                type: \"answer\",\n                sdp\n            }));\n        } catch (e) {\n            console.error(\"handleAnswer:\", e);\n        }\n    }\n    async handleIceCandidate(candidate) {\n        if (!this.pc || !this.pc.remoteDescription) {\n            this.iceCandidateQueue.push(candidate);\n            return;\n        }\n        try {\n            await this.pc.addIceCandidate(new RTCIceCandidate(candidate));\n        } catch  {}\n    }\n    endCall(error) {\n        if (this._remotePubkey && this._callState !== \"idle\" && this._callState !== \"ended\") {\n            _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                type: \"call-end\"\n            }).catch(()=>{});\n        }\n        this.cleanup(false);\n        if (error) this.setState(\"idle\", error);\n    }\n    cleanup(silent) {\n        try {\n            localStorage.removeItem(LS_STALE_CALL_KEY);\n        } catch  {}\n        this.clearCallTimeout();\n        this.clearRetry();\n        this.stopRingtone();\n        if (this.preStream) {\n            this.preStream.getTracks().forEach((t)=>t.stop());\n            this.preStream = null;\n        }\n        if (this.localStream) {\n            this.localStream.getTracks().forEach((t)=>t.stop());\n            this.localStream = null;\n        }\n        if (this.remoteStream) {\n            this.remoteStream.getTracks().forEach((t)=>t.stop());\n            this.remoteStream = null;\n        }\n        if (this.pc) {\n            this.pc.close();\n            this.pc = null;\n        }\n        this.iceCandidateQueue = [];\n        this._remotePubkey = null;\n        this._callStartTime = 0;\n        if (!silent) this.setState(\"idle\");\n        this.notifyStreams();\n    }\n    toggleMute() {\n        if (!this.localStream) return false;\n        const t = this.localStream.getAudioTracks()[0];\n        if (t) {\n            t.enabled = !t.enabled;\n            return !t.enabled;\n        }\n        return false;\n    }\n    toggleVideo() {\n        if (!this.localStream) return false;\n        const t = this.localStream.getVideoTracks()[0];\n        if (t) {\n            t.enabled = !t.enabled;\n            return !t.enabled;\n        }\n        return false;\n    }\n    constructor(){\n        this.pc = null;\n        this.localStream = null;\n        this.remoteStream = null;\n        this._callState = \"idle\";\n        this._remotePubkey = null;\n        this._callType = \"audio\";\n        this.stateCallbacks = new Set();\n        this.streamCallbacks = new Set();\n        this.iceCandidateQueue = [];\n        this._callStartTime = 0;\n        this._unsubSignal = null;\n        this.callTimeout = null;\n        this.retryInterval = null;\n        this.audioCtx = null;\n        this.audioOsc = null;\n        //           \n        this.preStream = null;\n    }\n}\nconst webrtcManager = new WebRTCManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFFO2FBQzdDeEgsaUJBQXlCO2FBQ3pCdUMsZUFBb0M7YUFDcENzQixjQUFvRDthQUNwRFksZ0JBQXVEO2FBQ3ZEdEQsV0FBZ0M7YUFDaENFLFdBQWtDO1FBQzFDLHFFQUFxRTthQUM3RHdELFlBQWdDOztBQW9XMUM7QUFFTyxNQUFNNkQsZ0JBQWdCLElBQUlsSixnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2xpYi93ZWJydGMudHM/MzFkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub3N0ckNsaWVudCwgdHlwZSBXZWJSVENTaWduYWwgfSBmcm9tICcuL25vc3RyJztcblxuZXhwb3J0IHR5cGUgQ2FsbFN0YXRlID0gJ2lkbGUnIHwgJ2NhbGxpbmcnIHwgJ3JpbmdpbmcnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Nvbm5lY3RlZCcgfCAnZW5kZWQnO1xuZXhwb3J0IHR5cGUgQ2FsbFR5cGUgPSAnYXVkaW8nIHwgJ3ZpZGVvJztcblxudHlwZSBDYWxsU3RhdGVDYWxsYmFjayA9IChzdGF0ZTogQ2FsbFN0YXRlLCByZW1vdGVQdWJrZXk6IHN0cmluZyB8IG51bGwsIGNhbGxUeXBlOiBDYWxsVHlwZSwgZXJyb3I/OiBzdHJpbmcpID0+IHZvaWQ7XG50eXBlIFN0cmVhbUNhbGxiYWNrID0gKGxvY2FsOiBNZWRpYVN0cmVhbSB8IG51bGwsIHJlbW90ZTogTWVkaWFTdHJlYW0gfCBudWxsKSA9PiB2b2lkO1xuXG5jb25zdCBJQ0VfQ09ORklHOiBSVENDb25maWd1cmF0aW9uID0ge1xuICBpY2VTZXJ2ZXJzOiBbXG4gICAgeyB1cmxzOiAnc3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMicgfSxcbiAgICB7IHVybHM6ICdzdHVuOnN0dW4xLmwuZ29vZ2xlLmNvbToxOTMwMicgfSxcbiAgICB7IHVybHM6ICdzdHVuOnN0dW4uY2xvdWRmbGFyZS5jb206MzQ3OCcgfSxcbiAgICB7XG4gICAgICB1cmxzOiAndHVybjpvcGVucmVsYXkubWV0ZXJlZC5jYTo4MCcsXG4gICAgICB1c2VybmFtZTogJ29wZW5yZWxheXByb2plY3QnLFxuICAgICAgY3JlZGVudGlhbDogJ29wZW5yZWxheXByb2plY3QnLFxuICAgIH0sXG4gICAge1xuICAgICAgdXJsczogJ3R1cm46b3BlbnJlbGF5Lm1ldGVyZWQuY2E6NDQzJyxcbiAgICAgIHVzZXJuYW1lOiAnb3BlbnJlbGF5cHJvamVjdCcsXG4gICAgICBjcmVkZW50aWFsOiAnb3BlbnJlbGF5cHJvamVjdCcsXG4gICAgfSxcbiAgICB7XG4gICAgICB1cmxzOiAndHVybjpvcGVucmVsYXkubWV0ZXJlZC5jYTo0NDM/dHJhbnNwb3J0PXRjcCcsXG4gICAgICB1c2VybmFtZTogJ29wZW5yZWxheXByb2plY3QnLFxuICAgICAgY3JlZGVudGlhbDogJ29wZW5yZWxheXByb2plY3QnLFxuICAgIH0sXG4gIF0sXG4gIGljZUNhbmRpZGF0ZVBvb2xTaXplOiAxMCxcbn07XG5cbmNvbnN0IExTX1NUQUxFX0NBTExfS0VZID0gJ25vc3RyX2NhbGxfcmluZ2luZyc7XG5cbmNsYXNzIFdlYlJUQ01hbmFnZXIge1xuICBwcml2YXRlIHBjOiBSVENQZWVyQ29ubmVjdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxvY2FsU3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlbW90ZVN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfY2FsbFN0YXRlOiBDYWxsU3RhdGUgPSAnaWRsZSc7XG4gIHByaXZhdGUgX3JlbW90ZVB1YmtleTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX2NhbGxUeXBlOiBDYWxsVHlwZSA9ICdhdWRpbyc7XG4gIHByaXZhdGUgc3RhdGVDYWxsYmFja3M6IFNldDxDYWxsU3RhdGVDYWxsYmFjaz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgc3RyZWFtQ2FsbGJhY2tzOiBTZXQ8U3RyZWFtQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGljZUNhbmRpZGF0ZVF1ZXVlOiBSVENJY2VDYW5kaWRhdGVJbml0W10gPSBbXTtcbiAgcHJpdmF0ZSBfY2FsbFN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfdW5zdWJTaWduYWw6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNhbGxUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJldHJ5SW50ZXJ2YWw6IFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhdWRpb09zYzogT3NjaWxsYXRvck5vZGUgfCBudWxsID0gbnVsbDtcbiAgLy8g0J/RgNC10LTQt9Cw0YXQstCw0YfQtdC90L3Ri9C5INGB0YLRgNC40Lwg4oCUINCx0LXRgNGR0Lwg0LzQtdC00LjQsCDQlNCeINC30LLQvtC90LrQsCDRh9GC0L7QsdGLINC/0L7RgtC+0Lwg0L3QtSDQttC00LDRgtGMXG4gIHByaXZhdGUgcHJlU3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGwgPSBudWxsO1xuXG4gIGdldCBjYWxsU3RhdGUoKSB7IHJldHVybiB0aGlzLl9jYWxsU3RhdGU7IH1cbiAgZ2V0IHJlbW90ZVB1YmtleSgpIHsgcmV0dXJuIHRoaXMuX3JlbW90ZVB1YmtleTsgfVxuICBnZXQgY2FsbFR5cGUoKSB7IHJldHVybiB0aGlzLl9jYWxsVHlwZTsgfVxuICBnZXQgY2FsbFN0YXJ0VGltZSgpIHsgcmV0dXJuIHRoaXMuX2NhbGxTdGFydFRpbWU7IH1cblxuICBvblN0YXRlQ2hhbmdlKGNiOiBDYWxsU3RhdGVDYWxsYmFjaykgeyB0aGlzLnN0YXRlQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMuc3RhdGVDYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuICBvblN0cmVhbShjYjogU3RyZWFtQ2FsbGJhY2spIHsgdGhpcy5zdHJlYW1DYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5zdHJlYW1DYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuXG4gIHByaXZhdGUgc2V0U3RhdGUoc3RhdGU6IENhbGxTdGF0ZSwgZXJyb3I/OiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jYWxsU3RhdGUgPSBzdGF0ZTtcbiAgICBpZiAoc3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7IHRoaXMuX2NhbGxTdGFydFRpbWUgPSBEYXRlLm5vdygpOyB0aGlzLnN0b3BSaW5ndG9uZSgpOyB9XG4gICAgaWYgKHN0YXRlID09PSAnaWRsZScgfHwgc3RhdGUgPT09ICdlbmRlZCcpIHRoaXMuc3RvcFJpbmd0b25lKCk7XG4gICAgdGhpcy5zdGF0ZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHN0YXRlLCB0aGlzLl9yZW1vdGVQdWJrZXksIHRoaXMuX2NhbGxUeXBlLCBlcnJvcikpO1xuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlTdHJlYW1zKCkge1xuICAgIHRoaXMuc3RyZWFtQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IodGhpcy5sb2NhbFN0cmVhbSwgdGhpcy5yZW1vdGVTdHJlYW0pKTtcbiAgfVxuXG4gIHByaXZhdGUgcGxheVJpbmd0b25lKCkge1xuICAgIHRoaXMuc3RvcFJpbmd0b25lKCk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICB0aGlzLmF1ZGlvT3NjID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICBjb25zdCBnYWluID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVHYWluKCk7XG4gICAgICB0aGlzLmF1ZGlvT3NjLmNvbm5lY3QoZ2Fpbik7XG4gICAgICBnYWluLmNvbm5lY3QodGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbik7XG4gICAgICB0aGlzLmF1ZGlvT3NjLmZyZXF1ZW5jeS52YWx1ZSA9IDQ0MDtcbiAgICAgIGdhaW4uZ2Fpbi52YWx1ZSA9IDAuMDg7XG4gICAgICB0aGlzLmF1ZGlvT3NjLnN0YXJ0KCk7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLmF1ZGlvQ3R4O1xuICAgICAgY29uc3QgcHVsc2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgIT09ICdyaW5naW5nJyB8fCAhdGhpcy5hdWRpb0N0eCkgeyB0cnkgeyB0aGlzLmF1ZGlvT3NjPy5zdG9wKCk7IH0gY2F0Y2gge30gcmV0dXJuOyB9XG4gICAgICAgIGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjA4LCBjdHguY3VycmVudFRpbWUpO1xuICAgICAgICBnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAwMSwgY3R4LmN1cnJlbnRUaW1lICsgMC41KTtcbiAgICAgICAgc2V0VGltZW91dChwdWxzZSwgMTIwMCk7XG4gICAgICB9O1xuICAgICAgcHVsc2UoKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIHN0b3BSaW5ndG9uZSgpIHtcbiAgICB0cnkgeyB0aGlzLmF1ZGlvT3NjPy5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICB0cnkgeyB0aGlzLmF1ZGlvQ3R4Py5jbG9zZSgpOyB9IGNhdGNoIHt9XG4gICAgdGhpcy5hdWRpb09zYyA9IG51bGw7XG4gICAgdGhpcy5hdWRpb0N0eCA9IG51bGw7XG4gIH1cblxuICBpbml0KCkge1xuICAgIGlmICh0aGlzLl91bnN1YlNpZ25hbCkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YWxlQ2FsbEpTT04gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMU19TVEFMRV9DQUxMX0tFWSk7XG4gICAgICBpZiAoc3RhbGVDYWxsSlNPTikge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMU19TVEFMRV9DQUxMX0tFWSk7XG4gICAgICAgIGNvbnN0IHN0YWxlQ2FsbCA9IEpTT04ucGFyc2Uoc3RhbGVDYWxsSlNPTik7XG4gICAgICAgIGlmIChzdGFsZUNhbGwgJiYgc3RhbGVDYWxsLmNhbGxlciAmJiAoRGF0ZS5ub3coKSAtIHN0YWxlQ2FsbC50aW1lIDwgNDUwMDApKSB7XG4gICAgICAgICAgbm9zdHJDbGllbnQuc2VuZFdlYlJUQ1NpZ25hbChzdGFsZUNhbGwuY2FsbGVyLCB7IHR5cGU6ICdjYWxsLXJlamVjdCcgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTFNfU1RBTEVfQ0FMTF9LRVkpO1xuICAgIH1cblxuICAgIHRoaXMuX3Vuc3ViU2lnbmFsID0gbm9zdHJDbGllbnQub25TaWduYWwoKGZyb20sIHNpZ25hbCkgPT4geyB0aGlzLmhhbmRsZVNpZ25hbChmcm9tLCBzaWduYWwpOyB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuX3Vuc3ViU2lnbmFsKSB7IHRoaXMuX3Vuc3ViU2lnbmFsKCk7IHRoaXMuX3Vuc3ViU2lnbmFsID0gbnVsbDsgfVxuICAgIHRoaXMuZW5kQ2FsbCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTaWduYWwoZnJvbTogc3RyaW5nLCBzaWduYWw6IFdlYlJUQ1NpZ25hbCkge1xuICAgIHN3aXRjaCAoc2lnbmFsLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2NhbGwtcmVxdWVzdCc6XG4gICAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgIT09ICdpZGxlJykge1xuICAgICAgICAgIG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwoZnJvbSwgeyB0eXBlOiAnY2FsbC1yZWplY3QnIH0pLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gZnJvbTtcbiAgICAgICAgdGhpcy5fY2FsbFR5cGUgPSBzaWduYWwuY2FsbFR5cGUgfHwgJ2F1ZGlvJztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgncmluZ2luZycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExTX1NUQUxFX0NBTExfS0VZLCBKU09OLnN0cmluZ2lmeSh7IGNhbGxlcjogZnJvbSwgdGltZTogRGF0ZS5ub3coKSB9KSk7XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgdGhpcy5wbGF5UmluZ3RvbmUoKTtcbiAgICAgICAgdGhpcy5jYWxsVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4geyBpZiAodGhpcy5fY2FsbFN0YXRlID09PSAncmluZ2luZycpIHRoaXMucmVqZWN0Q2FsbCgpOyB9LCA0NTAwMCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLWFjY2VwdCc6XG4gICAgICAgIGlmICgodGhpcy5fY2FsbFN0YXRlID09PSAnY2FsbGluZycpICYmIHRoaXMuX3JlbW90ZVB1YmtleSA9PT0gZnJvbSkge1xuICAgICAgICAgIHRoaXMuY2xlYXJSZXRyeSgpO1xuICAgICAgICAgIHRoaXMuY2xlYXJDYWxsVGltZW91dCgpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0V2ViUlRDKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLXJlamVjdCc6XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVQdWJrZXkgPT09IGZyb20pIHsgdGhpcy5jbGVhbnVwKGZhbHNlKTsgdGhpcy5zZXRTdGF0ZSgnaWRsZScsICfQl9Cy0L7QvdC+0Log0L7RgtC60LvQvtC90ZHQvScpOyB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLWVuZCc6XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVQdWJrZXkgPT09IGZyb20pIHRoaXMuY2xlYW51cChmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3ZWJydGMtb2ZmZXInOlxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlUHVia2V5ID09PSBmcm9tICYmIHNpZ25hbC5zZHApIGF3YWl0IHRoaXMuaGFuZGxlT2ZmZXIoc2lnbmFsLnNkcCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3ZWJydGMtYW5zd2VyJzpcbiAgICAgICAgaWYgKHRoaXMuX3JlbW90ZVB1YmtleSA9PT0gZnJvbSAmJiBzaWduYWwuc2RwKSBhd2FpdCB0aGlzLmhhbmRsZUFuc3dlcihzaWduYWwuc2RwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3dlYnJ0Yy1pY2UnOlxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlUHVia2V5ID09PSBmcm9tICYmIHNpZ25hbC5jYW5kaWRhdGUpIGF3YWl0IHRoaXMuaGFuZGxlSWNlQ2FuZGlkYXRlKHNpZ25hbC5jYW5kaWRhdGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNsZWFyQ2FsbFRpbWVvdXQoKSB7IGlmICh0aGlzLmNhbGxUaW1lb3V0KSB7IGNsZWFyVGltZW91dCh0aGlzLmNhbGxUaW1lb3V0KTsgdGhpcy5jYWxsVGltZW91dCA9IG51bGw7IH0gfVxuICBwcml2YXRlIGNsZWFyUmV0cnkoKSB7IGlmICh0aGlzLnJldHJ5SW50ZXJ2YWwpIHsgY2xlYXJJbnRlcnZhbCh0aGlzLnJldHJ5SW50ZXJ2YWwpOyB0aGlzLnJldHJ5SW50ZXJ2YWwgPSBudWxsOyB9IH1cblxuICBhc3luYyBpbml0aWF0ZUNhbGwocHVia2V5OiBzdHJpbmcsIHR5cGU6IENhbGxUeXBlKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ2lkbGUnKSByZXR1cm47XG5cbiAgICAvLyDQl9Cw0YXQstCw0YLRi9Cy0LDQtdC8INC80LXQtNC40LAg0KHQoNCQ0JfQoyDigJQg0LXRgdC70Lgg0L3QtSDQv9C+0LvRg9GH0LjRgtGB0Y8sINGB0L7QvtCx0YnQsNC10Lwg0LTQviDQvdCw0YfQsNC70LAg0LfQstC+0L3QutCwXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucHJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogeyBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLCBub2lzZVN1cHByZXNzaW9uOiB0cnVlLCBhdXRvR2FpbkNvbnRyb2w6IHRydWUgfSxcbiAgICAgICAgdmlkZW86IHR5cGUgPT09ICd2aWRlbycgPyB7IHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sIGhlaWdodDogeyBpZGVhbDogNzIwIH0sIGZhY2luZ01vZGU6ICd1c2VyJyB9IDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vINCV0YHQu9C4INCy0LjQtNC10L4g0L3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDigJQg0L/RgNC+0LHRg9C10Lwg0YLQvtC70YzQutC+INCw0YPQtNC40L5cbiAgICAgIGlmICh0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5wcmVTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogZmFsc2UgfSk7XG4gICAgICAgICAgdHlwZSA9ICdhdWRpbyc7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnLCB0aGlzLm1lZGlhRXJyb3JNc2coZXJyKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCdpZGxlJywgdGhpcy5tZWRpYUVycm9yTXNnKGVycikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gcHVia2V5O1xuICAgIHRoaXMuX2NhbGxUeXBlID0gdHlwZTtcbiAgICB0aGlzLnNldFN0YXRlKCdjYWxsaW5nJyk7XG5cbiAgICAvLyDQntGC0L/RgNCw0LLQu9GP0LXQvCBjYWxsLXJlcXVlc3Qg0Lgg0L/QvtCy0YLQvtGA0Y/QtdC8INC60LDQttC00YvQtSAzINGB0LXQuiAoTm9zdHIg0L3QtdC90LDQtNGR0LbQtdC9KVxuICAgIGNvbnN0IHNlbmRSZXEgPSAoKSA9PiB7XG4gICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHB1YmtleSwgeyB0eXBlOiAnY2FsbC1yZXF1ZXN0JywgY2FsbFR5cGU6IHR5cGUgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH07XG4gICAgc2VuZFJlcSgpO1xuICAgIHRoaXMucmV0cnlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgPT09ICdjYWxsaW5nJykgc2VuZFJlcSgpO1xuICAgICAgZWxzZSB0aGlzLmNsZWFyUmV0cnkoKTtcbiAgICB9LCAzMDAwKTtcblxuICAgIC8vINCi0LDQudC80LDRg9GCIDQwINGB0LXQulxuICAgIHRoaXMuY2FsbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgPT09ICdjYWxsaW5nJykge1xuICAgICAgICB0aGlzLmNsZWFudXAodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnLCAn0J3QtdGCINC+0YLQstC10YLQsCcpO1xuICAgICAgfVxuICAgIH0sIDQwMDAwKTtcbiAgfVxuXG4gIGFzeW5jIGFjY2VwdENhbGwoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ3JpbmdpbmcnIHx8ICF0aGlzLl9yZW1vdGVQdWJrZXkpIHJldHVybjtcbiAgICB0cnkgeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMU19TVEFMRV9DQUxMX0tFWSk7IH0gY2F0Y2gge31cbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoJ2Nvbm5lY3RpbmcnKTtcblxuICAgIC8vINCX0LDRhdCy0LDRgtGL0LLQsNC10Lwg0LzQtdC00LjQsCDQv9GA0Lgg0L/RgNC40L3Rj9GC0LjQuFxuICAgIHRyeSB7XG4gICAgICB0aGlzLnByZVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgYXVkaW86IHsgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSwgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSwgYXV0b0dhaW5Db250cm9sOiB0cnVlIH0sXG4gICAgICAgIHZpZGVvOiB0aGlzLl9jYWxsVHlwZSA9PT0gJ3ZpZGVvJyA/IHsgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSwgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSwgZmFjaW5nTW9kZTogJ3VzZXInIH0gOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRoaXMuX2NhbGxUeXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRyeSB7IHRoaXMucHJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTsgdGhpcy5fY2FsbFR5cGUgPSAnYXVkaW8nOyB9XG4gICAgICAgIGNhdGNoIHsgdGhpcy5jbGVhbnVwKGZhbHNlKTsgdGhpcy5zZXRTdGF0ZSgnaWRsZScsIHRoaXMubWVkaWFFcnJvck1zZyhlcnIpKTsgcmV0dXJuOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFudXAoZmFsc2UpOyB0aGlzLnNldFN0YXRlKCdpZGxlJywgdGhpcy5tZWRpYUVycm9yTXNnKGVycikpOyByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgbm9zdHJDbGllbnQuc2VuZFdlYlJUQ1NpZ25hbCh0aGlzLl9yZW1vdGVQdWJrZXksIHsgdHlwZTogJ2NhbGwtYWNjZXB0JyB9KTtcbiAgICBhd2FpdCB0aGlzLnN0YXJ0V2ViUlRDKGZhbHNlKTtcbiAgfVxuXG4gIGFzeW5jIHJlamVjdENhbGwoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ3JpbmdpbmcnIHx8ICF0aGlzLl9yZW1vdGVQdWJrZXkpIHJldHVybjtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTsgdGhpcy5zdG9wUmluZ3RvbmUoKTtcbiAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSwgeyB0eXBlOiAnY2FsbC1yZWplY3QnIH0pLmNhdGNoKCgpID0+IHt9KTtcbiAgICB0aGlzLmNsZWFudXAoZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBtZWRpYUVycm9yTXNnKGVycjogdW5rbm93bik6IHN0cmluZyB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbikge1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykgcmV0dXJuICfQlNC+0YHRgtGD0L8g0Log0LzQuNC60YDQvtGE0L7QvdGDL9C60LDQvNC10YDQtSDQt9Cw0L/RgNC10YnRkdC9LiDQoNCw0LfRgNC10YjQuNGC0LUg0LIg0L3QsNGB0YLRgNC+0LnQutCw0YUg0LHRgNCw0YPQt9C10YDQsC4nO1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHJldHVybiAn0JzQuNC60YDQvtGE0L7QvS/QutCw0LzQtdGA0LAg0L3QtSDQvdCw0LnQtNC10L3Riy4g0J/QvtC00LrQu9GO0YfQuNGC0LUg0YPRgdGC0YDQvtC50YHRgtCy0L4uJztcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ05vdFJlYWRhYmxlRXJyb3InKSByZXR1cm4gJ9Cj0YHRgtGA0L7QudGB0YLQstC+INC30LDQvdGP0YLQviDQtNGA0YPQs9C40Lwg0L/RgNC40LvQvtC20LXQvdC40LXQvC4nO1xuICAgICAgcmV0dXJuIGDQntGI0LjQsdC60LA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmV0dXJuICfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LTQvtGB0YLRg9C/INC6INC80LXQtNC40LAnO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdGFydFdlYlJUQyhpc0luaXRpYXRvcjogYm9vbGVhbikge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKElDRV9DT05GSUcpO1xuXG4gICAgICAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQv9GA0LXQtNC30LDRhdCy0LDRh9C10L3QvdGL0Lkg0YHRgtGA0LjQvFxuICAgICAgdGhpcy5sb2NhbFN0cmVhbSA9IHRoaXMucHJlU3RyZWFtO1xuICAgICAgdGhpcy5wcmVTdHJlYW0gPSBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMubG9jYWxTdHJlYW0pIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICB2aWRlbzogdGhpcy5fY2FsbFR5cGUgPT09ICd2aWRlbycsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICB0aGlzLnBjIS5hZGRUcmFjayh0cmFjaywgdGhpcy5sb2NhbFN0cmVhbSEpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG5cbiAgICAgIHRoaXMucGMub250cmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuc3RyZWFtc1swXSkge1xuICAgICAgICAgIGV2ZW50LnN0cmVhbXNbMF0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZVN0cmVhbSEuYWRkVHJhY2sodHJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRyYWNrKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVTdHJlYW0hLmFkZFRyYWNrKGV2ZW50LnRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGlmeVN0cmVhbXMoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucGMub25pY2VjYW5kaWRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSAmJiB0aGlzLl9yZW1vdGVQdWJrZXkpIHtcbiAgICAgICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSwge1xuICAgICAgICAgICAgdHlwZTogJ3dlYnJ0Yy1pY2UnLFxuICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUudG9KU09OKCksXG4gICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5wYz8uaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgICAgICBpZiAocyA9PT0gJ2Nvbm5lY3RlZCcgfHwgcyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgIGlmICh0aGlzLnBjICYmIGlzSW5pdGlhdG9yKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLnBjLnJlc3RhcnRJY2UoKTsgfSBjYXRjaCB7IHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/RgNC10YDQstCw0L3QvicpOyB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/RgNC10YDQstCw0L3QvicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucGM/LmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/QvtGC0LXRgNGP0L3QvicpO1xuICAgICAgICAgIH0sIDcwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLm5vdGlmeVN0cmVhbXMoKTtcblxuICAgICAgaWYgKGlzSW5pdGlhdG9yKSB7XG4gICAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgdGhpcy5wYy5jcmVhdGVPZmZlcih7XG4gICAgICAgICAgb2ZmZXJUb1JlY2VpdmVBdWRpbzogdHJ1ZSxcbiAgICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0aGlzLl9jYWxsVHlwZSA9PT0gJ3ZpZGVvJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgIGF3YWl0IG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwodGhpcy5fcmVtb3RlUHVia2V5ISwge1xuICAgICAgICAgIHR5cGU6ICd3ZWJydGMtb2ZmZXInLFxuICAgICAgICAgIHNkcDogb2ZmZXIuc2RwLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUpIHtcbiAgICAgICAgdHJ5IHsgYXdhaXQgdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZShjKSk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUgPSBbXTtcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbmRDYWxsKHRoaXMubWVkaWFFcnJvck1zZyhlcnIpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZU9mZmVyKHNkcDogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnBjKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7IHR5cGU6ICdvZmZlcicsIHNkcCB9KSk7XG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZUFuc3dlcigpO1xuICAgICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICBhd2FpdCBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSEsIHsgdHlwZTogJ3dlYnJ0Yy1hbnN3ZXInLCBzZHA6IGFuc3dlci5zZHAgfSk7XG4gICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKCdoYW5kbGVPZmZlcjonLCBlKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVBbnN3ZXIoc2RwOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMucGMpIHJldHVybjtcbiAgICB0cnkgeyBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oeyB0eXBlOiAnYW5zd2VyJywgc2RwIH0pKTsgfVxuICAgIGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoJ2hhbmRsZUFuc3dlcjonLCBlKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJY2VDYW5kaWRhdGUoY2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGVJbml0KSB7XG4gICAgaWYgKCF0aGlzLnBjIHx8ICF0aGlzLnBjLnJlbW90ZURlc2NyaXB0aW9uKSB7IHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUucHVzaChjYW5kaWRhdGUpOyByZXR1cm47IH1cbiAgICB0cnkgeyBhd2FpdCB0aGlzLnBjLmFkZEljZUNhbmRpZGF0ZShuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBlbmRDYWxsKGVycm9yPzogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX3JlbW90ZVB1YmtleSAmJiB0aGlzLl9jYWxsU3RhdGUgIT09ICdpZGxlJyAmJiB0aGlzLl9jYWxsU3RhdGUgIT09ICdlbmRlZCcpIHtcbiAgICAgIG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwodGhpcy5fcmVtb3RlUHVia2V5LCB7IHR5cGU6ICdjYWxsLWVuZCcgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cbiAgICB0aGlzLmNsZWFudXAoZmFsc2UpO1xuICAgIGlmIChlcnJvcikgdGhpcy5zZXRTdGF0ZSgnaWRsZScsIGVycm9yKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW51cChzaWxlbnQ6IGJvb2xlYW4pIHtcbiAgICB0cnkgeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMU19TVEFMRV9DQUxMX0tFWSk7IH0gY2F0Y2gge31cbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTtcbiAgICB0aGlzLmNsZWFyUmV0cnkoKTtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIGlmICh0aGlzLnByZVN0cmVhbSkgeyB0aGlzLnByZVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHQgPT4gdC5zdG9wKCkpOyB0aGlzLnByZVN0cmVhbSA9IG51bGw7IH1cbiAgICBpZiAodGhpcy5sb2NhbFN0cmVhbSkgeyB0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7IHRoaXMubG9jYWxTdHJlYW0gPSBudWxsOyB9XG4gICAgaWYgKHRoaXMucmVtb3RlU3RyZWFtKSB7IHRoaXMucmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7IHRoaXMucmVtb3RlU3RyZWFtID0gbnVsbDsgfVxuICAgIGlmICh0aGlzLnBjKSB7IHRoaXMucGMuY2xvc2UoKTsgdGhpcy5wYyA9IG51bGw7IH1cbiAgICB0aGlzLmljZUNhbmRpZGF0ZVF1ZXVlID0gW107XG4gICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gbnVsbDtcbiAgICB0aGlzLl9jYWxsU3RhcnRUaW1lID0gMDtcbiAgICBpZiAoIXNpbGVudCkgdGhpcy5zZXRTdGF0ZSgnaWRsZScpO1xuICAgIHRoaXMubm90aWZ5U3RyZWFtcygpO1xuICB9XG5cbiAgdG9nZ2xlTXV0ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMubG9jYWxTdHJlYW0pIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB0ID0gdGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgIGlmICh0KSB7IHQuZW5hYmxlZCA9ICF0LmVuYWJsZWQ7IHJldHVybiAhdC5lbmFibGVkOyB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdG9nZ2xlVmlkZW8oKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmxvY2FsU3RyZWFtKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdCA9IHRoaXMubG9jYWxTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICBpZiAodCkgeyB0LmVuYWJsZWQgPSAhdC5lbmFibGVkOyByZXR1cm4gIXQuZW5hYmxlZDsgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgd2VicnRjTWFuYWdlciA9IG5ldyBXZWJSVENNYW5hZ2VyKCk7XG4iXSwibmFtZXMiOlsibm9zdHJDbGllbnQiLCJJQ0VfQ09ORklHIiwiaWNlU2VydmVycyIsInVybHMiLCJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJpY2VDYW5kaWRhdGVQb29sU2l6ZSIsIkxTX1NUQUxFX0NBTExfS0VZIiwiV2ViUlRDTWFuYWdlciIsImNhbGxTdGF0ZSIsIl9jYWxsU3RhdGUiLCJyZW1vdGVQdWJrZXkiLCJfcmVtb3RlUHVia2V5IiwiY2FsbFR5cGUiLCJfY2FsbFR5cGUiLCJjYWxsU3RhcnRUaW1lIiwiX2NhbGxTdGFydFRpbWUiLCJvblN0YXRlQ2hhbmdlIiwiY2IiLCJzdGF0ZUNhbGxiYWNrcyIsImFkZCIsImRlbGV0ZSIsIm9uU3RyZWFtIiwic3RyZWFtQ2FsbGJhY2tzIiwic2V0U3RhdGUiLCJzdGF0ZSIsImVycm9yIiwiRGF0ZSIsIm5vdyIsInN0b3BSaW5ndG9uZSIsImZvckVhY2giLCJub3RpZnlTdHJlYW1zIiwibG9jYWxTdHJlYW0iLCJyZW1vdGVTdHJlYW0iLCJwbGF5UmluZ3RvbmUiLCJhdWRpb0N0eCIsIkF1ZGlvQ29udGV4dCIsImF1ZGlvT3NjIiwiY3JlYXRlT3NjaWxsYXRvciIsImdhaW4iLCJjcmVhdGVHYWluIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiZnJlcXVlbmN5IiwidmFsdWUiLCJzdGFydCIsImN0eCIsInB1bHNlIiwic3RvcCIsInNldFZhbHVlQXRUaW1lIiwiY3VycmVudFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwic2V0VGltZW91dCIsImNsb3NlIiwiaW5pdCIsIl91bnN1YlNpZ25hbCIsInN0YWxlQ2FsbEpTT04iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsInN0YWxlQ2FsbCIsIkpTT04iLCJwYXJzZSIsImNhbGxlciIsInRpbWUiLCJzZW5kV2ViUlRDU2lnbmFsIiwidHlwZSIsImNhdGNoIiwiZSIsIm9uU2lnbmFsIiwiZnJvbSIsInNpZ25hbCIsImhhbmRsZVNpZ25hbCIsImRlc3Ryb3kiLCJlbmRDYWxsIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImNhbGxUaW1lb3V0IiwicmVqZWN0Q2FsbCIsImNsZWFyUmV0cnkiLCJjbGVhckNhbGxUaW1lb3V0Iiwic3RhcnRXZWJSVEMiLCJjbGVhbnVwIiwic2RwIiwiaGFuZGxlT2ZmZXIiLCJoYW5kbGVBbnN3ZXIiLCJjYW5kaWRhdGUiLCJoYW5kbGVJY2VDYW5kaWRhdGUiLCJjbGVhclRpbWVvdXQiLCJyZXRyeUludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImluaXRpYXRlQ2FsbCIsInB1YmtleSIsInByZVN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImF1ZGlvIiwiZWNob0NhbmNlbGxhdGlvbiIsIm5vaXNlU3VwcHJlc3Npb24iLCJhdXRvR2FpbkNvbnRyb2wiLCJ2aWRlbyIsIndpZHRoIiwiaWRlYWwiLCJoZWlnaHQiLCJmYWNpbmdNb2RlIiwiZXJyIiwibWVkaWFFcnJvck1zZyIsInNlbmRSZXEiLCJzZXRJbnRlcnZhbCIsImFjY2VwdENhbGwiLCJET01FeGNlcHRpb24iLCJuYW1lIiwibWVzc2FnZSIsImlzSW5pdGlhdG9yIiwicGMiLCJSVENQZWVyQ29ubmVjdGlvbiIsImdldFRyYWNrcyIsInRyYWNrIiwiYWRkVHJhY2siLCJNZWRpYVN0cmVhbSIsIm9udHJhY2siLCJldmVudCIsInN0cmVhbXMiLCJvbmljZWNhbmRpZGF0ZSIsInRvSlNPTiIsIm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlIiwicyIsImljZUNvbm5lY3Rpb25TdGF0ZSIsInJlc3RhcnRJY2UiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwib2ZmZXJUb1JlY2VpdmVBdWRpbyIsIm9mZmVyVG9SZWNlaXZlVmlkZW8iLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwiYyIsImljZUNhbmRpZGF0ZVF1ZXVlIiwiYWRkSWNlQ2FuZGlkYXRlIiwiUlRDSWNlQ2FuZGlkYXRlIiwic2V0UmVtb3RlRGVzY3JpcHRpb24iLCJSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJhbnN3ZXIiLCJjcmVhdGVBbnN3ZXIiLCJjb25zb2xlIiwicmVtb3RlRGVzY3JpcHRpb24iLCJwdXNoIiwic2lsZW50IiwidCIsInRvZ2dsZU11dGUiLCJnZXRBdWRpb1RyYWNrcyIsImVuYWJsZWQiLCJ0b2dnbGVWaWRlbyIsImdldFZpZGVvVHJhY2tzIiwiU2V0Iiwid2VicnRjTWFuYWdlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/webrtc.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d9cef20d5e01\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/YWY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImQ5Y2VmMjBkNWUwMVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-inter\"}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-inter\\\"}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Space_Mono\",\"arguments\":[{\"subsets\":[\"latin\"],\"weight\":\"400\",\"variable\":\"--font-space-mono\"}],\"variableName\":\"spaceMono\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Space_Mono\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"weight\\\":\\\"400\\\",\\\"variable\\\":\\\"--font-space-mono\\\"}],\\\"variableName\\\":\\\"spaceMono\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _components_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ThemeProvider */ \"(rsc)/./src/components/ThemeProvider.tsx\");\n\n\n\n\n\nconst metadata = {\n    title: \"Nostr Client\",\n    description: \"A modern Nostr client built with Next.js.\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: `${(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default().variable)} ${(next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4___default().variable)} font-sans`,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n                attribute: \"class\",\n                defaultTheme: \"dark\",\n                enableSystem: true,\n                disableTransitionOnChange: true,\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/layout.tsx\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/app/layout.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/app/layout.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFJTUE7QUFDQUM7QUFMaUI7QUFFb0M7QUFLcEQsTUFBTUUsV0FBVztJQUN0QkMsT0FBTztJQUNQQyxhQUFhO0FBQ2YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFBRUMsUUFBUSxFQUFpQztJQUM1RSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyx3QkFBd0I7a0JBQ3RDLDRFQUFDQztZQUFLQyxXQUFXLENBQUMsRUFBRVosa0xBQWMsQ0FBQyxDQUFDLEVBQUVDLDJNQUFrQixDQUFDLFVBQVUsQ0FBQztzQkFDbEUsNEVBQUNDLG9FQUFhQTtnQkFDWlksV0FBVTtnQkFDVkMsY0FBYTtnQkFDYkMsWUFBWTtnQkFDWkMseUJBQXlCOzBCQUV4QlY7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvYXBwL2xheW91dC50c3g/NTdhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuL2dsb2JhbHMuY3NzXCI7XG5pbXBvcnQgeyBJbnRlciwgU3BhY2VfTW9ubyB9IGZyb20gXCJuZXh0L2ZvbnQvZ29vZ2xlXCI7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyXCI7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbXCJsYXRpblwiXSwgdmFyaWFibGU6IFwiLS1mb250LWludGVyXCIgfSk7XG5jb25zdCBzcGFjZU1vbm8gPSBTcGFjZV9Nb25vKHsgc3Vic2V0czogW1wibGF0aW5cIl0sIHdlaWdodDogXCI0MDBcIiwgdmFyaWFibGU6IFwiLS1mb250LXNwYWNlLW1vbm9cIiB9KTtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICB0aXRsZTogXCJOb3N0ciBDbGllbnRcIixcbiAgZGVzY3JpcHRpb246IFwiQSBtb2Rlcm4gTm9zdHIgY2xpZW50IGJ1aWx0IHdpdGggTmV4dC5qcy5cIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgIDxib2R5IGNsYXNzTmFtZT17YCR7aW50ZXIudmFyaWFibGV9ICR7c3BhY2VNb25vLnZhcmlhYmxlfSBmb250LXNhbnNgfT5cbiAgICAgICAgPFRoZW1lUHJvdmlkZXJcbiAgICAgICAgICBhdHRyaWJ1dGU9XCJjbGFzc1wiXG4gICAgICAgICAgZGVmYXVsdFRoZW1lPVwiZGFya1wiXG4gICAgICAgICAgZW5hYmxlU3lzdGVtXG4gICAgICAgICAgZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbImludGVyIiwic3BhY2VNb25vIiwiVGhlbWVQcm92aWRlciIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiYm9keSIsImNsYXNzTmFtZSIsInZhcmlhYmxlIiwiYXR0cmlidXRlIiwiZGVmYXVsdFRoZW1lIiwiZW5hYmxlU3lzdGVtIiwiZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/app/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/ThemeProvider.tsx":
/*!******************************************!*\
  !*** ./src/components/ThemeProvider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeProvider: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/components/ThemeProvider.tsx#ThemeProvider`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-themes","vendor-chunks/@swc","vendor-chunks/framer-motion","vendor-chunks/lucide-react","vendor-chunks/motion-dom","vendor-chunks/@noble","vendor-chunks/nostr-tools","vendor-chunks/motion-utils","vendor-chunks/idb","vendor-chunks/@scure"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();