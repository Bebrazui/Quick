/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(rsc)/./src/app/page.tsx\")), \"/home/user/nostr/src/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/home/user/nostr/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/home/user/nostr/src/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZ1c2VyJTJGbm9zdHImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLGdKQUFzRTtBQUM3RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQXdFO0FBQ2pHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLz82OGMxIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvc3JjL2FwcC9wYWdlLnRzeFwiKSwgXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvaG9tZS91c2VyL25vc3RyL3NyYy9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL2hvbWUvdXNlci9ub3N0ci9zcmMvYXBwL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTRHO0FBQzVHO0FBQ0Esb09BQTZHO0FBQzdHO0FBQ0EsME9BQWdIO0FBQ2hIO0FBQ0Esd09BQStHO0FBQy9HO0FBQ0Esa1BBQW9IO0FBQ3BIO0FBQ0Esc1FBQThIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8/N2NjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS91c2VyL25vc3RyL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvdXNlci9ub3N0ci9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ThemeProvider.tsx */ \"(ssr)/./src/components/ThemeProvider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZm9udCUyRmdvb2dsZSUyRnRhcmdldC5jc3MlM0YlN0IlNUMlMjJwYXRoJTVDJTIyJTNBJTVDJTIyc3JjJTJGYXBwJTJGbGF5b3V0LnRzeCU1QyUyMiUyQyU1QyUyMmltcG9ydCU1QyUyMiUzQSU1QyUyMkludGVyJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtaW50ZXIlNUMlMjIlN0QlNUQlMkMlNUMlMjJ2YXJpYWJsZU5hbWUlNUMlMjIlM0ElNUMlMjJpbnRlciU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmZvbnQlMkZnb29nbGUlMkZ0YXJnZXQuY3NzJTNGJTdCJTVDJTIycGF0aCU1QyUyMiUzQSU1QyUyMnNyYyUyRmFwcCUyRmxheW91dC50c3glNUMlMjIlMkMlNUMlMjJpbXBvcnQlNUMlMjIlM0ElNUMlMjJTcGFjZV9Nb25vJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIyd2VpZ2h0JTVDJTIyJTNBJTVDJTIyNDAwJTVDJTIyJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtc3BhY2UtbW9ubyU1QyUyMiU3RCU1RCUyQyU1QyUyMnZhcmlhYmxlTmFtZSU1QyUyMiUzQSU1QyUyMnNwYWNlTW9ubyU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGdXNlciUyRm5vc3RyJTJGc3JjJTJGYXBwJTJGZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRnVzZXIlMkZub3N0ciUyRnNyYyUyRmNvbXBvbmVudHMlMkZUaGVtZVByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMlRoZW1lUHJvdmlkZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdMQUF5SCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvP2NlZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJUaGVtZVByb3ZpZGVyXCJdICovIFwiL2hvbWUvdXNlci9ub3N0ci9zcmMvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%2Fapp%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Space_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5C%22400%5C%22%2C%5C%22variable%5C%22%3A%5C%22--font-space-mono%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22spaceMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fcomponents%2FThemeProvider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(ssr)/./src/app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZ1c2VyJTJGbm9zdHIlMkZzcmMlMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ0pBQXNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8/ZDlkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL3VzZXIvbm9zdHIvc3JjL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _components_LoginScreen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/LoginScreen */ \"(ssr)/./src/components/LoginScreen.tsx\");\n/* harmony import */ var _components_Sidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Sidebar */ \"(ssr)/./src/components/Sidebar.tsx\");\n/* harmony import */ var _components_ChatView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ChatView */ \"(ssr)/./src/components/ChatView.tsx\");\n/* harmony import */ var _components_CallOverlay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/CallOverlay */ \"(ssr)/./src/components/CallOverlay.tsx\");\n/* harmony import */ var _components_Welcome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/Welcome */ \"(ssr)/./src/components/Welcome.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction HomePage() {\n    const { isLoggedIn, activeChat } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.useAppState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const autoLogin = async ()=>{\n            if (_lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.tryAutoLogin()) {\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.setLoggedIn)(true);\n                await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.connectToRelays();\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_2__.loadContacts)();\n            }\n        };\n        autoLogin();\n    }, []);\n    if (!isLoggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LoginScreen__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n            fileName: \"/home/user/nostr/src/app/page.tsx\",\n            lineNumber: 27,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"flex h-screen w-screen overflow-hidden bg-bg text-text\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${activeChat ? \"hidden\" : \"block w-full\"} md:block md:w-80 md:flex-shrink-0`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Sidebar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 38,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `flex-1 flex-col ${activeChat ? \"flex\" : \"hidden\"} md:flex`,\n                children: activeChat ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatView__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 23\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Welcome__WEBPACK_IMPORTED_MODULE_8__.Welcome, {}, void 0, false, {\n                    fileName: \"/home/user/nostr/src/app/page.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 38\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 42,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CallOverlay__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/page.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/app/page.tsx\",\n        lineNumber: 31,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFa0M7QUFDbUM7QUFDM0I7QUFDUztBQUNSO0FBQ0U7QUFDTTtBQUNKO0FBRWhDLFNBQVNVO0lBQ3RCLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxVQUFVLEVBQUUsR0FBR1gsdURBQVdBO0lBRTlDRCxnREFBU0EsQ0FBQztRQUNSLE1BQU1hLFlBQVk7WUFDaEIsSUFBSVQsbURBQVdBLENBQUNVLFlBQVksSUFBSTtnQkFDOUJaLHVEQUFXQSxDQUFDO2dCQUNaLE1BQU1FLG1EQUFXQSxDQUFDVyxlQUFlO2dCQUNqQ1osd0RBQVlBO1lBQ2Q7UUFDRjtRQUNBVTtJQUNGLEdBQUcsRUFBRTtJQUVMLElBQUksQ0FBQ0YsWUFBWTtRQUNmLHFCQUFPLDhEQUFDTiwrREFBV0E7Ozs7O0lBQ3JCO0lBRUEscUJBQ0UsOERBQUNXO1FBQUtDLFdBQVU7OzBCQUVkLDhEQUFDQztnQkFDQ0QsV0FBVyxDQUFDLEVBQ1ZMLGFBQWEsV0FBVyxlQUN6QixrQ0FBa0MsQ0FBQzswQkFFcEMsNEVBQUNOLDJEQUFPQTs7Ozs7Ozs7OzswQkFJViw4REFBQ1k7Z0JBQ0NELFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRUwsYUFBYSxTQUFTLFNBQVMsUUFBUSxDQUFDOzBCQUVyRUEsMkJBQWEsOERBQUNMLDREQUFRQTs7Ozt5Q0FBTSw4REFBQ0Usd0RBQU9BOzs7Ozs7Ozs7OzBCQUd2Qyw4REFBQ0QsK0RBQVdBOzs7Ozs7Ozs7OztBQUdsQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvYXBwL3BhZ2UudHN4P2Y2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXBwU3RhdGUsIHNldExvZ2dlZEluLCBsb2FkQ29udGFjdHMgfSBmcm9tIFwiQC9saWIvc3RvcmVcIjtcbmltcG9ydCB7IG5vc3RyQ2xpZW50IH0gZnJvbSBcIkAvbGliL25vc3RyXCI7XG5pbXBvcnQgTG9naW5TY3JlZW4gZnJvbSBcIkAvY29tcG9uZW50cy9Mb2dpblNjcmVlblwiO1xuaW1wb3J0IFNpZGViYXIgZnJvbSBcIkAvY29tcG9uZW50cy9TaWRlYmFyXCI7XG5pbXBvcnQgQ2hhdFZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9DaGF0Vmlld1wiO1xuaW1wb3J0IENhbGxPdmVybGF5IGZyb20gXCJAL2NvbXBvbmVudHMvQ2FsbE92ZXJsYXlcIjtcbmltcG9ydCB7IFdlbGNvbWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL1dlbGNvbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZVBhZ2UoKSB7XG4gIGNvbnN0IHsgaXNMb2dnZWRJbiwgYWN0aXZlQ2hhdCB9ID0gdXNlQXBwU3RhdGUoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGF1dG9Mb2dpbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChub3N0ckNsaWVudC50cnlBdXRvTG9naW4oKSkge1xuICAgICAgICBzZXRMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgYXdhaXQgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgICAgIGxvYWRDb250YWN0cygpO1xuICAgICAgfVxuICAgIH07XG4gICAgYXV0b0xvZ2luKCk7XG4gIH0sIFtdKTtcblxuICBpZiAoIWlzTG9nZ2VkSW4pIHtcbiAgICByZXR1cm4gPExvZ2luU2NyZWVuIC8+O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpbiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuIHctc2NyZWVuIG92ZXJmbG93LWhpZGRlbiBiZy1iZyB0ZXh0LXRleHRcIj5cbiAgICAgIHsvKiBTaWRlYmFyICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgIGFjdGl2ZUNoYXQgPyAnaGlkZGVuJyA6ICdibG9jayB3LWZ1bGwnXG4gICAgICAgIH0gbWQ6YmxvY2sgbWQ6dy04MCBtZDpmbGV4LXNocmluay0wYH1cbiAgICAgID5cbiAgICAgICAgPFNpZGViYXIgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWFpbiBDb250ZW50IChDaGF0IG9yIFdlbGNvbWUpICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgZmxleC1jb2wgJHthY3RpdmVDaGF0ID8gJ2ZsZXgnIDogJ2hpZGRlbid9IG1kOmZsZXhgfVxuICAgICAgPlxuICAgICAgICB7YWN0aXZlQ2hhdCA/IDxDaGF0VmlldyAvPiA6IDxXZWxjb21lIC8+fVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxDYWxsT3ZlcmxheSAvPlxuICAgIDwvbWFpbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VBcHBTdGF0ZSIsInNldExvZ2dlZEluIiwibG9hZENvbnRhY3RzIiwibm9zdHJDbGllbnQiLCJMb2dpblNjcmVlbiIsIlNpZGViYXIiLCJDaGF0VmlldyIsIkNhbGxPdmVybGF5IiwiV2VsY29tZSIsIkhvbWVQYWdlIiwiaXNMb2dnZWRJbiIsImFjdGl2ZUNoYXQiLCJhdXRvTG9naW4iLCJ0cnlBdXRvTG9naW4iLCJjb25uZWN0VG9SZWxheXMiLCJtYWluIiwiY2xhc3NOYW1lIiwiZGl2Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Avatar.tsx":
/*!***********************************!*\
  !*** ./src/components/Avatar.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AvatarGradient: () => (/* binding */ AvatarGradient),\n/* harmony export */   \"default\": () => (/* binding */ Avatar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n\n\n\nconst GRADIENT_PAIRS = [\n    [\n        \"#7c5cfc\",\n        \"#22d3ee\"\n    ],\n    [\n        \"#f472b6\",\n        \"#fbbf24\"\n    ],\n    [\n        \"#4ade80\",\n        \"#22d3ee\"\n    ],\n    [\n        \"#f87171\",\n        \"#fb923c\"\n    ],\n    [\n        \"#a78bfa\",\n        \"#f472b6\"\n    ],\n    [\n        \"#22d3ee\",\n        \"#4ade80\"\n    ],\n    [\n        \"#fbbf24\",\n        \"#f87171\"\n    ],\n    [\n        \"#fb923c\",\n        \"#a78bfa\"\n    ],\n    [\n        \"#34d399\",\n        \"#818cf8\"\n    ],\n    [\n        \"#f97316\",\n        \"#ec4899\"\n    ],\n    [\n        \"#06b6d4\",\n        \"#8b5cf6\"\n    ],\n    [\n        \"#84cc16\",\n        \"#06b6d4\"\n    ],\n    [\n        \"#e879f9\",\n        \"#38bdf8\"\n    ],\n    [\n        \"#fb7185\",\n        \"#c084fc\"\n    ],\n    [\n        \"#2dd4bf\",\n        \"#a855f7\"\n    ],\n    [\n        \"#facc15\",\n        \"#f43f5e\"\n    ]\n];\nfunction hashCode(str) {\n    let hash = 0;\n    for(let i = 0; i < str.length; i++){\n        const char = str.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash |= 0;\n    }\n    return Math.abs(hash);\n}\nconst SIZE_MAP = {\n    xs: {\n        outer: \"w-7 h-7\",\n        inner: \"w-6 h-6\",\n        text: \"text-[10px]\",\n        dot: \"w-2 h-2 -bottom-0 -right-0\",\n        border: \"2px\",\n        size: 24\n    },\n    sm: {\n        outer: \"w-9 h-9\",\n        inner: \"w-8 h-8\",\n        text: \"text-xs\",\n        dot: \"w-2.5 h-2.5 -bottom-0 -right-0\",\n        border: \"2px\",\n        size: 32\n    },\n    md: {\n        outer: \"w-11 h-11\",\n        inner: \"w-10 h-10\",\n        text: \"text-sm\",\n        dot: \"w-3 h-3 -bottom-0.5 -right-0.5\",\n        border: \"2px\",\n        size: 40\n    },\n    lg: {\n        outer: \"w-16 h-16\",\n        inner: \"w-14 h-14\",\n        text: \"text-xl\",\n        dot: \"w-3.5 h-3.5 bottom-0 right-0\",\n        border: \"3px\",\n        size: 56\n    },\n    xl: {\n        outer: \"w-24 h-24\",\n        inner: \"w-[86px] h-[86px]\",\n        text: \"text-3xl\",\n        dot: \"w-4 h-4 bottom-0.5 right-0.5\",\n        border: \"3px\",\n        size: 86\n    }\n};\nfunction Avatar({ pubkey, name, picture, size = \"md\", showBorder = true, online, className = \"\" }) {\n    const gradient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const idx = hashCode(pubkey) % GRADIENT_PAIRS.length;\n        return GRADIENT_PAIRS[idx];\n    }, [\n        pubkey\n    ]);\n    const s = SIZE_MAP[size];\n    const initial = (name || pubkey || \"?\")[0].toUpperCase();\n    const gradientStyle = showBorder ? {\n        background: `linear-gradient(135deg, ${gradient[0]}, ${gradient[1]})`,\n        padding: s.border\n    } : {};\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `relative shrink-0 ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${s.outer} rounded-full flex items-center justify-center`,\n                style: showBorder ? gradientStyle : {},\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `${s.inner} rounded-full flex items-center justify-center overflow-hidden ${showBorder ? \"bg-bg-secondary\" : \"bg-bg-tertiary\"}`,\n                    style: !showBorder ? {\n                        background: `linear-gradient(135deg, ${gradient[0]}22, ${gradient[1]}22)`,\n                        border: `1px solid ${gradient[0]}33`\n                    } : {},\n                    children: picture ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        src: picture,\n                        alt: name || \"Avatar\",\n                        width: s.size,\n                        height: s.size,\n                        className: \"w-full h-full object-cover\",\n                        onError: (e)=>{\n                            e.target.style.display = \"none\";\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                        lineNumber: 81,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: `${s.text} font-bold`,\n                        style: {\n                            color: gradient[0]\n                        },\n                        children: initial\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            online !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `absolute ${s.dot} rounded-full border-2 border-bg-secondary ${online ? \"bg-green\" : \"bg-text-muted\"}`\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Avatar.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\nfunction AvatarGradient({ pubkey }) {\n    const gradient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const idx = hashCode(pubkey) % GRADIENT_PAIRS.length;\n        return GRADIENT_PAIRS[idx];\n    }, [\n        pubkey\n    ]);\n    return gradient;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvQXZhdGFyLnRzeD8yMDU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTmV4dEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuXG5jb25zdCBHUkFESUVOVF9QQUlSUyA9IFtcbiAgWycjN2M1Y2ZjJywgJyMyMmQzZWUnXSxcbiAgWycjZjQ3MmI2JywgJyNmYmJmMjQnXSxcbiAgWycjNGFkZTgwJywgJyMyMmQzZWUnXSxcbiAgWycjZjg3MTcxJywgJyNmYjkyM2MnXSxcbiAgWycjYTc4YmZhJywgJyNmNDcyYjYnXSxcbiAgWycjMjJkM2VlJywgJyM0YWRlODAnXSxcbiAgWycjZmJiZjI0JywgJyNmODcxNzEnXSxcbiAgWycjZmI5MjNjJywgJyNhNzhiZmEnXSxcbiAgWycjMzRkMzk5JywgJyM4MThjZjgnXSxcbiAgWycjZjk3MzE2JywgJyNlYzQ4OTknXSxcbiAgWycjMDZiNmQ0JywgJyM4YjVjZjYnXSxcbiAgWycjODRjYzE2JywgJyMwNmI2ZDQnXSxcbiAgWycjZTg3OWY5JywgJyMzOGJkZjgnXSxcbiAgWycjZmI3MTg1JywgJyNjMDg0ZmMnXSxcbiAgWycjMmRkNGJmJywgJyNhODU1ZjcnXSxcbiAgWycjZmFjYzE1JywgJyNmNDNmNWUnXSxcbl07XG5cbmZ1bmN0aW9uIGhhc2hDb2RlKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgbGV0IGhhc2ggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgIGhhc2ggfD0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG59XG5cbmludGVyZmFjZSBBdmF0YXJQcm9wcyB7XG4gIHB1YmtleTogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBwaWN0dXJlPzogc3RyaW5nO1xuICBzaXplPzogJ3hzJyB8ICdzbScgfCAnbWQnIHwgJ2xnJyB8ICd4bCc7XG4gIHNob3dCb3JkZXI/OiBib29sZWFuO1xuICBvbmxpbmU/OiBib29sZWFuO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFNJWkVfTUFQID0ge1xuICB4czogeyBvdXRlcjogJ3ctNyBoLTcnLCBpbm5lcjogJ3ctNiBoLTYnLCB0ZXh0OiAndGV4dC1bMTBweF0nLCBkb3Q6ICd3LTIgaC0yIC1ib3R0b20tMCAtcmlnaHQtMCcsIGJvcmRlcjogJzJweCcsIHNpemU6IDI0IH0sXG4gIHNtOiB7IG91dGVyOiAndy05IGgtOScsIGlubmVyOiAndy04IGgtOCcsIHRleHQ6ICd0ZXh0LXhzJywgZG90OiAndy0yLjUgaC0yLjUgLWJvdHRvbS0wIC1yaWdodC0wJywgYm9yZGVyOiAnMnB4Jywgc2l6ZTogMzIgfSxcbiAgbWQ6IHsgb3V0ZXI6ICd3LTExIGgtMTEnLCBpbm5lcjogJ3ctMTAgaC0xMCcsIHRleHQ6ICd0ZXh0LXNtJywgZG90OiAndy0zIGgtMyAtYm90dG9tLTAuNSAtcmlnaHQtMC41JywgYm9yZGVyOiAnMnB4Jywgc2l6ZTogNDAgfSxcbiAgbGc6IHsgb3V0ZXI6ICd3LTE2IGgtMTYnLCBpbm5lcjogJ3ctMTQgaC0xNCcsIHRleHQ6ICd0ZXh0LXhsJywgZG90OiAndy0zLjUgaC0zLjUgYm90dG9tLTAgcmlnaHQtMCcsIGJvcmRlcjogJzNweCcsIHNpemU6IDU2IH0sXG4gIHhsOiB7IG91dGVyOiAndy0yNCBoLTI0JywgaW5uZXI6ICd3LVs4NnB4XSBoLVs4NnB4XScsIHRleHQ6ICd0ZXh0LTN4bCcsIGRvdDogJ3ctNCBoLTQgYm90dG9tLTAuNSByaWdodC0wLjUnLCBib3JkZXI6ICczcHgnLCBzaXplOiA4NiB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXZhdGFyKHsgcHVia2V5LCBuYW1lLCBwaWN0dXJlLCBzaXplID0gJ21kJywgc2hvd0JvcmRlciA9IHRydWUsIG9ubGluZSwgY2xhc3NOYW1lID0gJycgfTogQXZhdGFyUHJvcHMpIHtcbiAgY29uc3QgZ3JhZGllbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpZHggPSBoYXNoQ29kZShwdWJrZXkpICUgR1JBRElFTlRfUEFJUlMubGVuZ3RoO1xuICAgIHJldHVybiBHUkFESUVOVF9QQUlSU1tpZHhdO1xuICB9LCBbcHVia2V5XSk7XG5cbiAgY29uc3QgcyA9IFNJWkVfTUFQW3NpemVdO1xuICBjb25zdCBpbml0aWFsID0gKG5hbWUgfHwgcHVia2V5IHx8ICc/JylbMF0udG9VcHBlckNhc2UoKTtcblxuICBjb25zdCBncmFkaWVudFN0eWxlID0gc2hvd0JvcmRlciA/IHtcbiAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFswXX0sICR7Z3JhZGllbnRbMV19KWAsXG4gICAgcGFkZGluZzogcy5ib3JkZXIsXG4gIH0gOiB7fTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgc2hyaW5rLTAgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YCR7cy5vdXRlcn0gcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyYH1cbiAgICAgICAgc3R5bGU9e3Nob3dCb3JkZXIgPyBncmFkaWVudFN0eWxlIDoge319XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3MuaW5uZXJ9IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW4gJHtcbiAgICAgICAgICAgIHNob3dCb3JkZXIgPyAnYmctYmctc2Vjb25kYXJ5JyA6ICdiZy1iZy10ZXJ0aWFyeSdcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBzdHlsZT17IXNob3dCb3JkZXIgPyB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtncmFkaWVudFswXX0yMiwgJHtncmFkaWVudFsxXX0yMilgLFxuICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7Z3JhZGllbnRbMF19MzNgLFxuICAgICAgICAgIH0gOiB7fX1cbiAgICAgICAgPlxuICAgICAgICAgIHtwaWN0dXJlID8gKFxuICAgICAgICAgICAgPE5leHRJbWFnZVxuICAgICAgICAgICAgICBzcmM9e3BpY3R1cmV9XG4gICAgICAgICAgICAgIGFsdD17bmFtZSB8fCAnQXZhdGFyJ31cbiAgICAgICAgICAgICAgd2lkdGg9e3Muc2l6ZX1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtzLnNpemV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cy50ZXh0fSBmb250LWJvbGRgfVxuICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZ3JhZGllbnRbMF0gfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2luaXRpYWx9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtvbmxpbmUgIT09IHVuZGVmaW5lZCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSAke3MuZG90fSByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWJnLXNlY29uZGFyeSAke1xuICAgICAgICAgICAgb25saW5lID8gJ2JnLWdyZWVuJyA6ICdiZy10ZXh0LW11dGVkJ1xuICAgICAgICAgIH1gfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF2YXRhckdyYWRpZW50KHsgcHVia2V5IH06IHsgcHVia2V5OiBzdHJpbmcgfSkge1xuICBjb25zdCBncmFkaWVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGlkeCA9IGhhc2hDb2RlKHB1YmtleSkgJSBHUkFESUVOVF9QQUlSUy5sZW5ndGg7XG4gICAgcmV0dXJuIEdSQURJRU5UX1BBSVJTW2lkeF07XG4gIH0sIFtwdWJrZXldKTtcbiAgcmV0dXJuIGdyYWRpZW50O1xufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJOZXh0SW1hZ2UiLCJHUkFESUVOVF9QQUlSUyIsImhhc2hDb2RlIiwic3RyIiwiaGFzaCIsImkiLCJsZW5ndGgiLCJjaGFyIiwiY2hhckNvZGVBdCIsIk1hdGgiLCJhYnMiLCJTSVpFX01BUCIsInhzIiwib3V0ZXIiLCJpbm5lciIsInRleHQiLCJkb3QiLCJib3JkZXIiLCJzaXplIiwic20iLCJtZCIsImxnIiwieGwiLCJBdmF0YXIiLCJwdWJrZXkiLCJuYW1lIiwicGljdHVyZSIsInNob3dCb3JkZXIiLCJvbmxpbmUiLCJjbGFzc05hbWUiLCJncmFkaWVudCIsImlkeCIsInMiLCJpbml0aWFsIiwidG9VcHBlckNhc2UiLCJncmFkaWVudFN0eWxlIiwiYmFja2dyb3VuZCIsInBhZGRpbmciLCJkaXYiLCJzdHlsZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwib25FcnJvciIsImUiLCJ0YXJnZXQiLCJkaXNwbGF5Iiwic3BhbiIsImNvbG9yIiwidW5kZWZpbmVkIiwiQXZhdGFyR3JhZGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Avatar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/CallOverlay.tsx":
/*!****************************************!*\
  !*** ./src/components/CallOverlay.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallOverlay)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone-incoming.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Mic,MicOff,Phone,PhoneIncoming,PhoneOff,Video,VideoOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/webrtc */ \"(ssr)/./src/lib/webrtc.ts\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\n\nfunction CallOverlay() {\n    const { contacts } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.useAppState)();\n    const [callState, setCallState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [remotePubkey, setRemotePubkey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callType, setCallType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"audio\");\n    const [muted, setMuted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videoOff, setVideoOff] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [elapsed, setElapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [localStream, setLocalStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [remoteStream, setRemoteStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callError, setCallError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const localVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.init();\n        const unsubState = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.onStateChange((state, pubkey, type, error)=>{\n            setCallState(state);\n            setRemotePubkey(pubkey);\n            setCallType(type);\n            if (error) {\n                setCallError(error);\n                setTimeout(()=>setCallError(null), 4000);\n            }\n            if (state === \"idle\") {\n                setMuted(false);\n                setVideoOff(false);\n                setElapsed(0);\n            }\n        });\n        const unsubStream = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.onStream((local, remote)=>{\n            setLocalStream(local);\n            setRemoteStream(remote);\n        });\n        return ()=>{\n            unsubState();\n            unsubStream();\n            _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.destroy();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (localVideoRef.current && localStream) {\n            localVideoRef.current.srcObject = localStream;\n        }\n    }, [\n        localStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (remoteVideoRef.current && remoteStream) {\n            remoteVideoRef.current.srcObject = remoteStream;\n        }\n    }, [\n        remoteStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (callState !== \"connected\") return;\n        const interval = setInterval(()=>{\n            setElapsed(Math.floor((Date.now() - _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.callStartTime) / 1000));\n        }, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        callState\n    ]);\n    const handleToggleMute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const isMuted = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.toggleMute();\n        setMuted(isMuted);\n    }, []);\n    const handleToggleVideo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const isOff = _lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.toggleVideo();\n        setVideoOff(isOff);\n    }, []);\n    const contact = remotePubkey ? contacts.find((c)=>c.pubkey === remotePubkey) : null;\n    const displayName = contact?.name || (remotePubkey ? _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(remotePubkey) : \"\");\n    const formatElapsed = (s)=>{\n        const m = Math.floor(s / 60);\n        const sec = s % 60;\n        return `${m.toString().padStart(2, \"0\")}:${sec.toString().padStart(2, \"0\")}`;\n    };\n    //       \n    if (callState === \"idle\" && !callError) return null;\n    //     \n    if (callState === \"idle\" && callError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: -20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                exit: {\n                    opacity: 0,\n                    y: -20\n                },\n                className: \"fixed top-4 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 bg-red/90 backdrop-blur-sm rounded-2xl shadow-2xl shadow-red/20 text-white text-sm max-w-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"w-5 h-5 shrink-0\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: callError\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                lineNumber: 100,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n            lineNumber: 99,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n            initial: {\n                opacity: 0\n            },\n            animate: {\n                opacity: 1\n            },\n            exit: {\n                opacity: 0\n            },\n            className: \"fixed inset-0 z-[100] flex items-center justify-center\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute inset-0 bg-bg/95 backdrop-blur-xl\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 122,\n                    columnNumber: 9\n                }, this),\n                callType === \"video\" && callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: remoteVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            className: \"absolute inset-0 w-full h-full object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 bg-black/20\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 133,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                            initial: {\n                                scale: 0.8,\n                                opacity: 0\n                            },\n                            animate: {\n                                scale: 1,\n                                opacity: 1\n                            },\n                            className: \"absolute top-4 right-4 w-32 h-44 sm:w-40 sm:h-56 rounded-2xl overflow-hidden border-2 border-white/20 shadow-2xl z-10\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                ref: localVideoRef,\n                                autoPlay: true,\n                                playsInline: true,\n                                muted: true,\n                                className: \"w-full h-full object-cover\",\n                                style: {\n                                    transform: \"scaleX(-1)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                lineNumber: 139,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 134,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true),\n                (callType === \"audio\" || callState !== \"connected\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative z-10 flex flex-col items-center\",\n                    children: [\n                        (callState === \"calling\" || callState === \"ringing\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute w-40 h-40 rounded-full border-2 border-accent/20 animate-pulse-ring\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 156,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute w-56 h-56 rounded-full border border-accent/10 animate-pulse-ring\",\n                                    style: {\n                                        animationDelay: \"0.5s\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 157,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                            initial: {\n                                scale: 0.5\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            transition: {\n                                type: \"spring\",\n                                stiffness: 200\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                pubkey: remotePubkey || \"\",\n                                name: contact?.name,\n                                picture: contact?.picture,\n                                size: \"xl\",\n                                showBorder: true\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                lineNumber: 166,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 161,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.h2, {\n                            initial: {\n                                opacity: 0,\n                                y: 10\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            transition: {\n                                delay: 0.1\n                            },\n                            className: \"mt-6 text-xl font-bold text-text\",\n                            style: {\n                                fontFamily: \"Space Grotesk\"\n                            },\n                            children: displayName\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 175,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.p, {\n                            initial: {\n                                opacity: 0\n                            },\n                            animate: {\n                                opacity: 1\n                            },\n                            transition: {\n                                delay: 0.2\n                            },\n                            className: \"mt-2 text-sm text-text-secondary\",\n                            children: [\n                                callState === \"calling\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"animate-call-pulse\",\n                                    children: \"...\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 192,\n                                    columnNumber: 17\n                                }, this),\n                                callState === \"ringing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"animate-call-pulse flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                            lineNumber: 196,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        callType === \"video\" ? \"\" : \"\",\n                                        \" \"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 195,\n                                    columnNumber: 17\n                                }, this),\n                                callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-green\",\n                                    children: formatElapsed(elapsed)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 201,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 185,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 153,\n                    columnNumber: 11\n                }, this),\n                callType === \"video\" && callState === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-4 left-4 z-10 flex items-center gap-3 bg-black/50 backdrop-blur-sm rounded-2xl px-4 py-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            pubkey: remotePubkey || \"\",\n                            name: contact?.name,\n                            picture: contact?.picture,\n                            size: \"xs\",\n                            showBorder: true\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-medium text-white\",\n                                    children: displayName\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 212,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-green\",\n                                    children: formatElapsed(elapsed)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                            lineNumber: 211,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                    initial: {\n                        y: 50,\n                        opacity: 0\n                    },\n                    animate: {\n                        y: 0,\n                        opacity: 1\n                    },\n                    transition: {\n                        delay: 0.3\n                    },\n                    className: \"absolute bottom-8 sm:bottom-12 left-0 right-0 flex items-center justify-center gap-4 z-10\",\n                    children: [\n                        callState === \"ringing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.rejectCall(),\n                                    className: \"w-16 h-16 rounded-full bg-red flex items-center justify-center shadow-lg shadow-red/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 234,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 228,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.acceptCall(),\n                                    className: \"w-16 h-16 rounded-full bg-green flex items-center justify-center shadow-lg shadow-green/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 242,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        (callState === \"calling\" || callState === \"connected\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: handleToggleMute,\n                                    className: `w-14 h-14 rounded-full flex items-center justify-center transition-colors ${muted ? \"bg-red/20 text-red\" : \"bg-white/10 text-white hover:bg-white/20\"}`,\n                                    children: muted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 26\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 59\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 250,\n                                    columnNumber: 15\n                                }, this),\n                                callType === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: handleToggleVideo,\n                                    className: `w-14 h-14 rounded-full flex items-center justify-center transition-colors ${videoOff ? \"bg-red/20 text-red\" : \"bg-white/10 text-white hover:bg-white/20\"}`,\n                                    children: videoOff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 31\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"w-6 h-6\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 66\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 262,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {\n                                    whileHover: {\n                                        scale: 1.1\n                                    },\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    onClick: ()=>_lib_webrtc__WEBPACK_IMPORTED_MODULE_2__.webrtcManager.endCall(),\n                                    className: \"w-16 h-16 rounded-full bg-red flex items-center justify-center shadow-lg shadow-red/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Mic_MicOff_Phone_PhoneIncoming_PhoneOff_Video_VideoOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"w-7 h-7 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                                    lineNumber: 274,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n                    lineNumber: 219,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n            lineNumber: 115,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/CallOverlay.tsx\",\n        lineNumber: 114,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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STtvQ0FDekJlLFVBQVU7d0NBQUVmLE9BQU87b0NBQUk7b0NBQ3ZCZ0IsU0FBUzNDO29DQUNUcUIsV0FBVyxDQUFDLDBFQUEwRSxFQUNwRjNELFdBQVcsdUJBQXVCLDJDQUNuQyxDQUFDOzhDQUVEQSx5QkFBVyw4REFBQ25CLGlKQUFRQTt3Q0FBQzhFLFdBQVU7Ozs7OzZEQUFlLDhEQUFDL0UsaUpBQUtBO3dDQUFDK0UsV0FBVTs7Ozs7Ozs7Ozs7OENBSXBFLDhEQUFDbkYsaURBQU1BLENBQUNzRyxNQUFNO29DQUNaQyxZQUFZO3dDQUFFZCxPQUFPO29DQUFJO29DQUN6QmUsVUFBVTt3Q0FBRWYsT0FBTztvQ0FBSTtvQ0FDdkJnQixTQUFTLElBQU0vRixzREFBYUEsQ0FBQ2tHLE9BQU87b0NBQ3BDekIsV0FBVTs4Q0FFViw0RUFBQ2hGLGlKQUFRQTt3Q0FBQ2dGLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFwQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9DYWxsT3ZlcmxheS50c3g/YmVhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IFBob25lLCBQaG9uZU9mZiwgVmlkZW8sIFZpZGVvT2ZmLCBNaWMsIE1pY09mZiwgUGhvbmVJbmNvbWluZywgQWxlcnRUcmlhbmdsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyB3ZWJydGNNYW5hZ2VyLCB0eXBlIENhbGxTdGF0ZSwgdHlwZSBDYWxsVHlwZSB9IGZyb20gJy4uL2xpYi93ZWJydGMnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHsgdXNlQXBwU3RhdGUgfSBmcm9tICcuLi9saWIvc3RvcmUnO1xuaW1wb3J0IEF2YXRhciBmcm9tICcuL0F2YXRhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbGxPdmVybGF5KCkge1xuICBjb25zdCB7IGNvbnRhY3RzIH0gPSB1c2VBcHBTdGF0ZSgpO1xuICBjb25zdCBbY2FsbFN0YXRlLCBzZXRDYWxsU3RhdGVdID0gdXNlU3RhdGU8Q2FsbFN0YXRlPignaWRsZScpO1xuICBjb25zdCBbcmVtb3RlUHVia2V5LCBzZXRSZW1vdGVQdWJrZXldID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjYWxsVHlwZSwgc2V0Q2FsbFR5cGVdID0gdXNlU3RhdGU8Q2FsbFR5cGU+KCdhdWRpbycpO1xuICBjb25zdCBbbXV0ZWQsIHNldE11dGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZpZGVvT2ZmLCBzZXRWaWRlb09mZl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlbGFwc2VkLCBzZXRFbGFwc2VkXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbbG9jYWxTdHJlYW0sIHNldExvY2FsU3RyZWFtXSA9IHVzZVN0YXRlPE1lZGlhU3RyZWFtIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtyZW1vdGVTdHJlYW0sIHNldFJlbW90ZVN0cmVhbV0gPSB1c2VTdGF0ZTxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY2FsbEVycm9yLCBzZXRDYWxsRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgbG9jYWxWaWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcbiAgY29uc3QgcmVtb3RlVmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3ZWJydGNNYW5hZ2VyLmluaXQoKTtcblxuICAgIGNvbnN0IHVuc3ViU3RhdGUgPSB3ZWJydGNNYW5hZ2VyLm9uU3RhdGVDaGFuZ2UoKHN0YXRlLCBwdWJrZXksIHR5cGUsIGVycm9yKSA9PiB7XG4gICAgICBzZXRDYWxsU3RhdGUoc3RhdGUpO1xuICAgICAgc2V0UmVtb3RlUHVia2V5KHB1YmtleSk7XG4gICAgICBzZXRDYWxsVHlwZSh0eXBlKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBzZXRDYWxsRXJyb3IoZXJyb3IpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENhbGxFcnJvcihudWxsKSwgNDAwMCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUgPT09ICdpZGxlJykge1xuICAgICAgICBzZXRNdXRlZChmYWxzZSk7XG4gICAgICAgIHNldFZpZGVvT2ZmKGZhbHNlKTtcbiAgICAgICAgc2V0RWxhcHNlZCgwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHVuc3ViU3RyZWFtID0gd2VicnRjTWFuYWdlci5vblN0cmVhbSgobG9jYWwsIHJlbW90ZSkgPT4ge1xuICAgICAgc2V0TG9jYWxTdHJlYW0obG9jYWwpO1xuICAgICAgc2V0UmVtb3RlU3RyZWFtKHJlbW90ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJTdGF0ZSgpO1xuICAgICAgdW5zdWJTdHJlYW0oKTtcbiAgICAgIHdlYnJ0Y01hbmFnZXIuZGVzdHJveSgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsb2NhbFZpZGVvUmVmLmN1cnJlbnQgJiYgbG9jYWxTdHJlYW0pIHtcbiAgICAgIGxvY2FsVmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBsb2NhbFN0cmVhbTtcbiAgICB9XG4gIH0sIFtsb2NhbFN0cmVhbV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlbW90ZVZpZGVvUmVmLmN1cnJlbnQgJiYgcmVtb3RlU3RyZWFtKSB7XG4gICAgICByZW1vdGVWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHJlbW90ZVN0cmVhbTtcbiAgICB9XG4gIH0sIFtyZW1vdGVTdHJlYW1dKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjYWxsU3RhdGUgIT09ICdjb25uZWN0ZWQnKSByZXR1cm47XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZXRFbGFwc2VkKE1hdGguZmxvb3IoKERhdGUubm93KCkgLSB3ZWJydGNNYW5hZ2VyLmNhbGxTdGFydFRpbWUpIC8gMTAwMCkpO1xuICAgIH0sIDEwMDApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW2NhbGxTdGF0ZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZU11dGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgaXNNdXRlZCA9IHdlYnJ0Y01hbmFnZXIudG9nZ2xlTXV0ZSgpO1xuICAgIHNldE11dGVkKGlzTXV0ZWQpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlVmlkZW8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgaXNPZmYgPSB3ZWJydGNNYW5hZ2VyLnRvZ2dsZVZpZGVvKCk7XG4gICAgc2V0VmlkZW9PZmYoaXNPZmYpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY29udGFjdCA9IHJlbW90ZVB1YmtleSA/IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gcmVtb3RlUHVia2V5KSA6IG51bGw7XG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gY29udGFjdD8ubmFtZSB8fCAocmVtb3RlUHVia2V5ID8gbm9zdHJDbGllbnQuc2hvcnRlbktleShyZW1vdGVQdWJrZXkpIDogJ9Cd0LXQuNC30LLQtdGB0YLQvdGL0LknKTtcblxuICBjb25zdCBmb3JtYXRFbGFwc2VkID0gKHM6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHMgLyA2MCk7XG4gICAgY29uc3Qgc2VjID0gcyAlIDYwO1xuICAgIHJldHVybiBgJHttLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gIH07XG5cbiAgLy8g0J/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YMg0LTQsNC20LUg0LrQvtCz0LTQsCDQt9Cy0L7QvdC+0Log0L3QtSDQsNC60YLQuNCy0LXQvVxuICBpZiAoY2FsbFN0YXRlID09PSAnaWRsZScgJiYgIWNhbGxFcnJvcikgcmV0dXJuIG51bGw7XG5cbiAgLy8g0KLQvtC70YzQutC+INC+0YjQuNCx0LrQsCDigJQg0LzQsNC70LXQvdGM0LrQuNC5INGC0L7RgdGCXG4gIGlmIChjYWxsU3RhdGUgPT09ICdpZGxlJyAmJiBjYWxsRXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IC0yMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgeTogLTIwIH19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiB6LVsxMDBdIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTUgcHktMyBiZy1yZWQvOTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLTJ4bCBzaGFkb3ctMnhsIHNoYWRvdy1yZWQvMjAgdGV4dC13aGl0ZSB0ZXh0LXNtIG1heC13LW1kXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctNSBoLTUgc2hyaW5rLTBcIiAvPlxuICAgICAgICAgIDxzcGFuPntjYWxsRXJyb3J9PC9zcGFuPlxuICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVsxMDBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICAgID5cbiAgICAgICAgey8qINCk0L7QvSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWJnLzk1IGJhY2tkcm9wLWJsdXIteGxcIiAvPlxuXG4gICAgICAgIHsvKiDQktC40LTQtdC+INC00LvRjyDQstC40LTQtdC+0LfQstC+0L3QutCwICovfVxuICAgICAgICB7Y2FsbFR5cGUgPT09ICd2aWRlbycgJiYgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICByZWY9e3JlbW90ZVZpZGVvUmVmfVxuICAgICAgICAgICAgICBhdXRvUGxheVxuICAgICAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMjBcIiAvPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBzY2FsZTogMC44LCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgc2NhbGU6IDEsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCB3LTMyIGgtNDQgc206dy00MCBzbTpoLTU2IHJvdW5kZWQtMnhsIG92ZXJmbG93LWhpZGRlbiBib3JkZXItMiBib3JkZXItd2hpdGUvMjAgc2hhZG93LTJ4bCB6LTEwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAgICAgcmVmPXtsb2NhbFZpZGVvUmVmfVxuICAgICAgICAgICAgICAgIGF1dG9QbGF5XG4gICAgICAgICAgICAgICAgcGxheXNJbmxpbmVcbiAgICAgICAgICAgICAgICBtdXRlZFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06ICdzY2FsZVgoLTEpJyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiDQkNGD0LTQuNC+0LfQstC+0L3QvtC6IC8g0JLRi9C30L7QsiAvINCS0YXQvtC00Y/RidC40LkgKi99XG4gICAgICAgIHsoY2FsbFR5cGUgPT09ICdhdWRpbycgfHwgY2FsbFN0YXRlICE9PSAnY29ubmVjdGVkJykgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgeyhjYWxsU3RhdGUgPT09ICdjYWxsaW5nJyB8fCBjYWxsU3RhdGUgPT09ICdyaW5naW5nJykgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy00MCBoLTQwIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItYWNjZW50LzIwIGFuaW1hdGUtcHVsc2UtcmluZ1wiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTU2IGgtNTYgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItYWNjZW50LzEwIGFuaW1hdGUtcHVsc2UtcmluZ1wiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMC41cycgfX0gLz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IHNjYWxlOiAwLjUgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBzY2FsZTogMSB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IHR5cGU6ICdzcHJpbmcnLCBzdGlmZm5lc3M6IDIwMCB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgICAgcHVia2V5PXtyZW1vdGVQdWJrZXkgfHwgJyd9XG4gICAgICAgICAgICAgICAgbmFtZT17Y29udGFjdD8ubmFtZX1cbiAgICAgICAgICAgICAgICBwaWN0dXJlPXtjb250YWN0Py5waWN0dXJlfVxuICAgICAgICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgICAgICAgc2hvd0JvcmRlcj17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICAgICAgPG1vdGlvbi5oMlxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDEwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjEgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lfVxuICAgICAgICAgICAgPC9tb3Rpb24uaDI+XG5cbiAgICAgICAgICAgIDxtb3Rpb24ucFxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuMiB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjYWxsU3RhdGUgPT09ICdjYWxsaW5nJyAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYW5pbWF0ZS1jYWxsLXB1bHNlXCI+0JLRi9C30L7Qsi4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2NhbGxTdGF0ZSA9PT0gJ3JpbmdpbmcnICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhbmltYXRlLWNhbGwtcHVsc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxQaG9uZUluY29taW5nIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAg0JLRhdC+0LTRj9GJ0LjQuSB7Y2FsbFR5cGUgPT09ICd2aWRlbycgPyAn0LLQuNC00LXQvicgOiAn0LDRg9C00LjQvid9INC30LLQvtC90L7QulxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2NhbGxTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW5cIj57Zm9ybWF0RWxhcHNlZChlbGFwc2VkKX08L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L21vdGlvbi5wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiDQmNC90YTQviDQstC40LTQtdC+0LfQstC+0L3QutCwICovfVxuICAgICAgICB7Y2FsbFR5cGUgPT09ICd2aWRlbycgJiYgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTQgei0xMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtMnhsIHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgPEF2YXRhciBwdWJrZXk9e3JlbW90ZVB1YmtleSB8fCAnJ30gbmFtZT17Y29udGFjdD8ubmFtZX0gcGljdHVyZT17Y29udGFjdD8ucGljdHVyZX0gc2l6ZT1cInhzXCIgc2hvd0JvcmRlciAvPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlXCI+e2Rpc3BsYXlOYW1lfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyZWVuXCI+e2Zvcm1hdEVsYXBzZWQoZWxhcHNlZCl9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qINCa0L3QvtC/0LrQuCDRg9C/0YDQsNCy0LvQtdC90LjRjyAqL31cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBpbml0aWFsPXt7IHk6IDUwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgYW5pbWF0ZT17eyB5OiAwLCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgdHJhbnNpdGlvbj17eyBkZWxheTogMC4zIH19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTggc206Ym90dG9tLTEyIGxlZnQtMCByaWdodC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC00IHotMTBcIlxuICAgICAgICA+XG4gICAgICAgICAgey8qINCS0YXQvtC00Y/RidC40Lk6INCf0YDQuNC90Y/RgtGMIC8g0J7RgtC60LvQvtC90LjRgtGMICovfVxuICAgICAgICAgIHtjYWxsU3RhdGUgPT09ICdyaW5naW5nJyAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLnJlamVjdENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLXJlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgc2hhZG93LXJlZC8zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGhvbmVPZmYgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3ZWJydGNNYW5hZ2VyLmFjY2VwdENhbGwoKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLWdyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyBzaGFkb3ctZ3JlZW4vMzBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFBob25lIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7Lyog0JIg0LfQstC+0L3QutC1ICovfVxuICAgICAgICAgIHsoY2FsbFN0YXRlID09PSAnY2FsbGluZycgfHwgY2FsbFN0YXRlID09PSAnY29ubmVjdGVkJykgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjEgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlTXV0ZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTE0IGgtMTQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICBtdXRlZCA/ICdiZy1yZWQvMjAgdGV4dC1yZWQnIDogJ2JnLXdoaXRlLzEwIHRleHQtd2hpdGUgaG92ZXI6Ymctd2hpdGUvMjAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bXV0ZWQgPyA8TWljT2ZmIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPiA6IDxNaWMgY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+fVxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG5cbiAgICAgICAgICAgICAge2NhbGxUeXBlID09PSAndmlkZW8nICYmIChcbiAgICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVWaWRlb31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTQgaC0xNCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9PZmYgPyAnYmctcmVkLzIwIHRleHQtcmVkJyA6ICdiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3ZpZGVvT2ZmID8gPFZpZGVvT2ZmIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPiA6IDxWaWRlbyBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz59XG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdlYnJ0Y01hbmFnZXIuZW5kQ2FsbCgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctcmVkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyBzaGFkb3ctcmVkLzMwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQaG9uZU9mZiBjbGFzc05hbWU9XCJ3LTcgaC03IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICA8L21vdGlvbi5kaXY+XG4gICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsIlBob25lIiwiUGhvbmVPZmYiLCJWaWRlbyIsIlZpZGVvT2ZmIiwiTWljIiwiTWljT2ZmIiwiUGhvbmVJbmNvbWluZyIsIkFsZXJ0VHJpYW5nbGUiLCJ3ZWJydGNNYW5hZ2VyIiwibm9zdHJDbGllbnQiLCJ1c2VBcHBTdGF0ZSIsIkF2YXRhciIsIkNhbGxPdmVybGF5IiwiY29udGFjdHMiLCJjYWxsU3RhdGUiLCJzZXRDYWxsU3RhdGUiLCJyZW1vdGVQdWJrZXkiLCJzZXRSZW1vdGVQdWJrZXkiLCJjYWxsVHlwZSIsInNldENhbGxUeXBlIiwibXV0ZWQiLCJzZXRNdXRlZCIsInZpZGVvT2ZmIiwic2V0VmlkZW9PZmYiLCJlbGFwc2VkIiwic2V0RWxhcHNlZCIsImxvY2FsU3RyZWFtIiwic2V0TG9jYWxTdHJlYW0iLCJyZW1vdGVTdHJlYW0iLCJzZXRSZW1vdGVTdHJlYW0iLCJjYWxsRXJyb3IiLCJzZXRDYWxsRXJyb3IiLCJsb2NhbFZpZGVvUmVmIiwicmVtb3RlVmlkZW9SZWYiLCJpbml0IiwidW5zdWJTdGF0ZSIsIm9uU3RhdGVDaGFuZ2UiLCJzdGF0ZSIsInB1YmtleSIsInR5cGUiLCJlcnJvciIsInNldFRpbWVvdXQiLCJ1bnN1YlN0cmVhbSIsIm9uU3RyZWFtIiwibG9jYWwiLCJyZW1vdGUiLCJkZXN0cm95IiwiY3VycmVudCIsInNyY09iamVjdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiY2FsbFN0YXJ0VGltZSIsImNsZWFySW50ZXJ2YWwiLCJoYW5kbGVUb2dnbGVNdXRlIiwiaXNNdXRlZCIsInRvZ2dsZU11dGUiLCJoYW5kbGVUb2dnbGVWaWRlbyIsImlzT2ZmIiwidG9nZ2xlVmlkZW8iLCJjb250YWN0IiwiZmluZCIsImMiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJzaG9ydGVuS2V5IiwiZm9ybWF0RWxhcHNlZCIsInMiLCJtIiwic2VjIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImRpdiIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsImFuaW1hdGUiLCJleGl0IiwiY2xhc3NOYW1lIiwic3BhbiIsInZpZGVvIiwicmVmIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsInNjYWxlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJhbmltYXRpb25EZWxheSIsInRyYW5zaXRpb24iLCJzdGlmZm5lc3MiLCJwaWN0dXJlIiwic2l6ZSIsInNob3dCb3JkZXIiLCJoMiIsImRlbGF5IiwiZm9udEZhbWlseSIsInAiLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJvbkNsaWNrIiwicmVqZWN0Q2FsbCIsImFjY2VwdENhbGwiLCJlbmRDYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/CallOverlay.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatView.tsx":
/*!*************************************!*\
  !*** ./src/components/ChatView.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/menu.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/reply.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Check,Copy,Download,Hash,Image,Loader2,Menu,Paperclip,Phone,Reply,Search,Send,Video,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _lib_chunkStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n/* harmony import */ var _lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/fileUtils */ \"(ssr)/./src/lib/fileUtils.ts\");\n/* harmony import */ var _lib_webrtc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/webrtc */ \"(ssr)/./src/lib/webrtc.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\n\n\n\n\nfunction Highlight({ text, highlight }) {\n    if (!highlight.trim()) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            children: text\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n            lineNumber: 39,\n            columnNumber: 12\n        }, this);\n    }\n    const regex = new RegExp(`(${highlight})`, \"gi\");\n    const parts = text.split(regex);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        children: parts.map((part, i)=>regex.test(part) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mark\", {\n                className: \"bg-yellow-300 text-black rounded-sm\",\n                children: part\n            }, i, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 48,\n                columnNumber: 11\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: part\n            }, i, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 52,\n                columnNumber: 11\n            }, this))\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n        lineNumber: 45,\n        columnNumber: 5\n    }, this);\n}\nfunction ChatView() {\n    const { activeChat, contacts, channels } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.useAppState)();\n    const isChannel = !!activeChat && activeChat.startsWith(\"channel:\");\n    const channelId = isChannel ? activeChat.slice(\"channel:\".length) : \"\";\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [pendingAttachment, setPendingAttachment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sendProgress, setSendProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [replyTo, setReplyTo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewImage, setPreviewImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearchVisible, setIsSearchVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const contact = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>contacts.find((c)=>c.pubkey === activeChat), [\n        contacts,\n        activeChat\n    ]);\n    const channel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>channels.find((c)=>c.id === channelId), [\n        channels,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isSearchVisible) {\n            searchInputRef.current?.focus();\n        }\n    }, [\n        isSearchVisible\n    ]);\n    const filteredMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!searchQuery.trim()) return messages;\n        return messages.filter((msg)=>msg.content?.toLowerCase().includes(searchQuery.toLowerCase()));\n    }, [\n        messages,\n        searchQuery\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat) return;\n        if (isChannel) {\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n        } else {\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.requestProfile(activeChat);\n        }\n        setPendingAttachment(null);\n        setSendProgress(null);\n        setReplyTo(null);\n        setError(\"\");\n    }, [\n        activeChat,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubMsg = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onMessage((msg)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n            if (!activeChat || isChannel) return;\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n        });\n        const unsubChannel = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onChannelMessage((msg)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addChannelMessage)(msg);\n            if (!channelId || !isChannel || msg.channelId !== channelId) return;\n            setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n        });\n        return ()=>{\n            unsubMsg();\n            unsubChannel();\n        };\n    }, [\n        activeChat,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsub = _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.onProfile((pubkey, profile)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.updateContactProfile)(pubkey, profile.name, profile.picture, profile.about);\n        });\n        return unsub;\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeChat) return;\n        setMessages(isChannel ? (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId) : (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n    }, [\n        activeChat,\n        contacts,\n        channels,\n        isChannel,\n        channelId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (searchQuery) return;\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages,\n        searchQuery\n    ]);\n    const handleSend = async ()=>{\n        if (!input.trim() && !pendingAttachment || !activeChat || sending) return;\n        const text = input.trim();\n        setInput(\"\");\n        setSending(true);\n        setError(\"\");\n        setSendProgress(null);\n        try {\n            if (isChannel) {\n                if (pendingAttachment) throw new Error(\"Attachments are not supported in public channels.\");\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendChannelMessage(channelId, text, replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addChannelMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getChannelMessages)(channelId));\n            } else if (pendingAttachment) {\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendAttachment(activeChat, pendingAttachment, text, (sent, total)=>setSendProgress({\n                        sent,\n                        total\n                    }), replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n                setPendingAttachment(null);\n            } else {\n                const msg = await _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.sendDirectMessage(activeChat, text, replyTo || undefined);\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.addMessage)(msg);\n                setMessages((0,_lib_store__WEBPACK_IMPORTED_MODULE_4__.getMessages)(activeChat));\n            }\n            setReplyTo(null);\n            setSendProgress(null);\n        } catch (err) {\n            setError(err.message || \"Failed to send\");\n        } finally{\n            setSending(false);\n        }\n    };\n    const handleCall = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((type)=>{\n        if (!activeChat || isChannel) return;\n        _lib_webrtc__WEBPACK_IMPORTED_MODULE_7__.webrtcManager.initiateCall(activeChat, type);\n    }, [\n        activeChat,\n        isChannel\n    ]);\n    const handleFileSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        e.target.value = \"\";\n        setError(\"\");\n        try {\n            const attachment = await (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.processFile)(file);\n            if (attachment) setPendingAttachment(attachment);\n        } catch (err) {\n            setError(err.message);\n        }\n    }, []);\n    const handleCopy = async (text, id)=>{\n        await navigator.clipboard.writeText(text);\n        setCopied(id);\n        setTimeout(()=>setCopied(\"\"), 1400);\n    };\n    const handleDownload = async (msg)=>{\n        if (!msg.attachment) return;\n        if (msg.attachment.chunked && msg.attachment.transferId) {\n            await (0,_lib_chunkStore__WEBPACK_IMPORTED_MODULE_5__.downloadChunkedTransfer)(msg.attachment.transferId, msg.attachment.name, msg.attachment.mimeType);\n            return;\n        }\n        (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.downloadAttachment)(msg.attachment);\n    };\n    if (!activeChat) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex-1 flex items-center justify-center bg-bg\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-text mb-2\",\n                        style: {\n                            fontFamily: \"Space Grotesk\"\n                        },\n                        children: \"Anonymous Decentralized Messenger\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 220,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-text-secondary text-sm\",\n                        children: \"Choose contact or channel to start.\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 219,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n            lineNumber: 218,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col bg-bg h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-b border-border bg-bg-secondary/50 backdrop-blur-sm flex items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: _lib_store__WEBPACK_IMPORTED_MODULE_4__.goBackToSidebar,\n                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary md:hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 231,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 230,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: _lib_store__WEBPACK_IMPORTED_MODULE_4__.toggleSidebar,\n                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hidden lg:block\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 234,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, this),\n                    isChannel ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-8 h-8 rounded-full bg-cyan/15 border border-cyan/25 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            className: \"w-4 h-4 text-cyan\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 239,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 238,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        pubkey: activeChat,\n                        name: contact?.name,\n                        picture: contact?.picture,\n                        size: \"sm\",\n                        showBorder: true\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 242,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, {\n                            initial: false,\n                            mode: \"wait\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: -10\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0,\n                                    y: 10\n                                },\n                                transition: {\n                                    duration: 0.2\n                                },\n                                className: \"w-full\",\n                                children: isSearchVisible ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-full\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 257,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: searchInputRef,\n                                            type: \"text\",\n                                            value: searchQuery,\n                                            onChange: (e)=>setSearchQuery(e.target.value),\n                                            placeholder: \"Search in chat...\",\n                                            className: \"w-full bg-bg-tertiary border border-border rounded-lg pl-8 pr-8 py-1 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 258,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setIsSearchVisible(false);\n                                                setSearchQuery(\"\");\n                                            },\n                                            className: \"absolute right-2 top-1/2 -translate-y-1/2 p-0.5 text-text-muted hover:text-text\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 267,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 266,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 256,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm font-medium text-text truncate\",\n                                            children: isChannel ? `# ${channel?.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(channelId)}` : contact?.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(activeChat)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 272,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[10px] text-text-muted\",\n                                            children: isChannel ? \"Public channel over relays\" : \"Encrypted DM over relays\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 275,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 271,\n                                    columnNumber: 17\n                                }, this)\n                            }, isSearchVisible ? \"search\" : \"title\", false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 246,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 245,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setIsSearchVisible(!isSearchVisible),\n                                className: `p-2 rounded-lg hover:bg-bg-hover transition-colors ${isSearchVisible ? \"bg-bg-tertiary text-accent\" : \"text-text-muted hover:text-text-secondary\"}`,\n                                title: \"Search\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 286,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 11\n                            }, this),\n                            !isChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCall(\"audio\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-green transition-colors\",\n                                        title: \"Audio call\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 290,\n                                            columnNumber: 174\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 290,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCall(\"video\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                        title: \"Video call\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 291,\n                                            columnNumber: 175\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleCopy(activeChat, \"header\"),\n                                        className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-text-secondary transition-colors\",\n                                        title: \"Copy key\",\n                                        children: copied === \"header\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            className: \"w-4 h-4 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 293,\n                                            columnNumber: 40\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 293,\n                                            columnNumber: 83\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 284,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 229,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto px-4 py-4 space-y-2\",\n                children: [\n                    filteredMessages.map((msg)=>{\n                        const isMe = msg.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                            initial: {\n                                opacity: 0,\n                                y: 8\n                            },\n                            animate: {\n                                opacity: 1,\n                                y: 0\n                            },\n                            className: `flex ${isMe ? \"justify-end\" : \"justify-start\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `group relative max-w-[78%] rounded-2xl text-sm overflow-hidden ${isMe ? \"bg-accent text-white rounded-br-md\" : \"bg-bg-secondary border border-border text-text rounded-bl-md\"}`,\n                                children: [\n                                    msg.replyTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `mx-2 mt-2 px-2 py-1 rounded-md text-[11px] ${isMe ? \"bg-white/15 text-white/80\" : \"bg-bg-tertiary text-text-secondary\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium truncate\",\n                                                children: msg.replyTo.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey ? \"You\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(msg.replyTo.from)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 308,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"truncate\",\n                                                children: msg.replyTo.text\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 309,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 307,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.msgType === \"image\" && msg.attachment && !msg.attachment.chunked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"cursor-pointer\",\n                                        onClick: ()=>setPreviewImage(`data:${msg.attachment.mimeType};base64,${msg.attachment.data}`),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            src: `data:${msg.attachment.mimeType};base64,${msg.attachment.data}`,\n                                            alt: msg.attachment.name,\n                                            width: 300,\n                                            height: 200,\n                                            className: \"max-w-full max-h-64 rounded-t-2xl object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 315,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 314,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.attachment && msg.msgType === \"file\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 px-3.5 pt-3 cursor-pointer\",\n                                        onClick: ()=>handleDownload(msg),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-10 h-10 rounded-xl flex items-center justify-center text-lg ${isMe ? \"bg-white/15\" : \"bg-bg-tertiary\"}`,\n                                                children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.getFileIcon)(msg.attachment.mimeType)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 321,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs font-medium truncate ${isMe ? \"text-white\" : \"text-text\"}`,\n                                                        children: msg.attachment.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 325,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-[10px] ${isMe ? \"text-white/60\" : \"text-text-muted\"}`,\n                                                        children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(msg.attachment.size)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 326,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 324,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: `w-4 h-4 shrink-0 ${isMe ? \"text-white/60\" : \"text-text-muted\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 328,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 320,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.attachment && msg.msgType === \"image\" && msg.attachment.chunked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 px-3.5 pt-3 cursor-pointer\",\n                                        onClick: ()=>handleDownload(msg),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-10 h-10 rounded-xl flex items-center justify-center text-lg ${isMe ? \"bg-white/15\" : \"bg-bg-tertiary\"}`,\n                                                children: \"\\uD83D\\uDDBC\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 334,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs font-medium truncate ${isMe ? \"text-white\" : \"text-text\"}`,\n                                                        children: msg.attachment.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 336,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-[10px] ${isMe ? \"text-white/60\" : \"text-text-muted\"}`,\n                                                        children: \"Chunked image, click to download\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                        lineNumber: 337,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 335,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: `w-4 h-4 shrink-0 ${isMe ? \"text-white/60\" : \"text-text-muted\"}`\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 339,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 333,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3.5 py-2.5\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"whitespace-pre-wrap break-words\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Highlight, {\n                                                text: msg.content,\n                                                highlight: searchQuery\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 346,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 345,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 344,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `flex items-center gap-1 px-3.5 pb-2 ${isMe ? \"justify-end\" : \"justify-start\"}`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-[10px] ${isMe ? \"text-white/50\" : \"text-text-muted\"}`,\n                                            children: new Date(msg.timestamp).toLocaleTimeString([], {\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                            lineNumber: 352,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 351,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `absolute top-1 ${isMe ? \"left-0 -translate-x-9\" : \"right-0 translate-x-9\"} flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity`,\n                                        children: [\n                                            msg.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleCopy(msg.content, msg.id),\n                                                className: \"p-1 rounded bg-bg-secondary border border-border\",\n                                                children: copied === msg.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    className: \"w-3 h-3 text-green\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 360,\n                                                    columnNumber: 44\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                    className: \"w-3 h-3 text-text-muted\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 360,\n                                                    columnNumber: 87\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 359,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setReplyTo({\n                                                        id: msg.id,\n                                                        from: msg.from,\n                                                        text: msg.content || msg.attachment?.name || \"\"\n                                                    }),\n                                                className: \"p-1 rounded bg-bg-secondary border border-border\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                    className: \"w-3 h-3 text-text-muted\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                    lineNumber: 364,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 363,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 357,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 15\n                            }, this)\n                        }, msg.id, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 304,\n                            columnNumber: 13\n                        }, this);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 371,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 300,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, {\n                children: replyTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 py-2 border-t border-border bg-bg-secondary/40 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-start justify-between gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-[11px] text-text-muted\",\n                                        children: [\n                                            \"Reply to \",\n                                            replyTo.from === _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.publicKey ? \"you\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_3__.nostrClient.shortenKey(replyTo.from)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 379,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-text-secondary truncate\",\n                                        children: replyTo.text || \"(attachment)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 380,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 378,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setReplyTo(null),\n                                className: \"p-1.5 rounded hover:bg-bg-hover\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: \"w-3.5 h-3.5 text-text-muted\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 382,\n                                    columnNumber: 100\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 377,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 376,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 374,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, {\n                children: pendingAttachment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 border-t border-border bg-bg-secondary/30 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-3 flex items-center gap-3\",\n                        children: [\n                            pendingAttachment.type === \"image\" && pendingAttachment.data ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 rounded-xl overflow-hidden border border-border shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: `data:${pendingAttachment.mimeType};base64,${pendingAttachment.data}`,\n                                    alt: \"Attachment preview\",\n                                    width: 64,\n                                    height: 64,\n                                    className: \"w-full h-full object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 394,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 393,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 rounded-xl bg-bg-tertiary border border-border flex items-center justify-center text-2xl shrink-0\",\n                                children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.getFileIcon)(pendingAttachment.mimeType)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 397,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-text truncate\",\n                                        children: pendingAttachment.name\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 400,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-text-muted\",\n                                        children: (0,_lib_fileUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(pendingAttachment.size)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 401,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 399,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setPendingAttachment(null),\n                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-red transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 404,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 403,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 391,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 390,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 388,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, {\n                children: sendProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 border-t border-border bg-bg-secondary/30 overflow-hidden\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between text-xs text-text-secondary mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: \"w-3 h-3 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                                lineNumber: 417,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Uploading...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 416,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            sendProgress.sent,\n                                            \"/\",\n                                            sendProgress.total,\n                                            \" chunks\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 420,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 415,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full h-1.5 bg-bg-tertiary rounded-full overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                                    className: \"h-full bg-accent rounded-full\",\n                                    initial: {\n                                        width: 0\n                                    },\n                                    animate: {\n                                        width: `${sendProgress.sent / sendProgress.total * 100}%`\n                                    },\n                                    transition: {\n                                        duration: 0.2\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 423,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 422,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 414,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 413,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 411,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, {\n                children: error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                    initial: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    animate: {\n                        height: \"auto\",\n                        opacity: 1\n                    },\n                    exit: {\n                        height: 0,\n                        opacity: 0\n                    },\n                    className: \"px-4 py-2 bg-red-dim border-t border-red/20\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-red\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                        lineNumber: 433,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 432,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 430,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 border-t border-border bg-bg-secondary/30\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-end gap-2\",\n                    children: [\n                        !isChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-0.5 pb-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>imageInputRef.current?.click(),\n                                    className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                    title: \"Send image\",\n                                    disabled: sending,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 443,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 442,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>fileInputRef.current?.click(),\n                                    className: \"p-2 rounded-lg hover:bg-bg-hover text-text-muted hover:text-accent transition-colors\",\n                                    title: \"Send file\",\n                                    disabled: sending,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                        lineNumber: 446,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 441,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: imageInputRef,\n                            type: \"file\",\n                            accept: \"image/*\",\n                            className: \"hidden\",\n                            onChange: handleFileSelect\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 451,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: fileInputRef,\n                            type: \"file\",\n                            className: \"hidden\",\n                            onChange: handleFileSelect\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 452,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\" && !e.shiftKey) {\n                                    e.preventDefault();\n                                    handleSend();\n                                }\n                            },\n                            placeholder: pendingAttachment ? \"Add caption...\" : isChannel ? \"Post message to channel...\" : \"Write message...\",\n                            rows: 1,\n                            disabled: sending,\n                            className: \"flex-1 bg-bg-tertiary border border-border rounded-xl px-4 py-3 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none max-h-32 disabled:opacity-50\",\n                            style: {\n                                minHeight: \"44px\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 454,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.button, {\n                            whileHover: {\n                                scale: sending ? 1 : 1.05\n                            },\n                            whileTap: {\n                                scale: sending ? 1 : 0.95\n                            },\n                            onClick: handleSend,\n                            disabled: !input.trim() && !pendingAttachment || sending,\n                            className: \"p-3 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-colors shrink-0\",\n                            children: sending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                className: \"w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 471,\n                                columnNumber: 24\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 471,\n                                columnNumber: 71\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 470,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 439,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 438,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, {\n                children: previewImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                    initial: {\n                        opacity: 0\n                    },\n                    animate: {\n                        opacity: 1\n                    },\n                    exit: {\n                        opacity: 0\n                    },\n                    className: \"fixed inset-0 z-[90] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4\",\n                    onClick: ()=>setPreviewImage(null),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"absolute top-4 right-4 p-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors z-10\",\n                            onClick: ()=>setPreviewImage(null),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Check_Copy_Download_Hash_Image_Loader2_Menu_Paperclip_Phone_Reply_Search_Send_Video_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                className: \"w-6 h-6\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 480,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 479,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_13__.motion.div, {\n                            initial: {\n                                scale: 0.9\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            exit: {\n                                scale: 0.9\n                            },\n                            className: \"relative max-w-full max-h-full\",\n                            onClick: (e)=>e.stopPropagation(),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                src: previewImage,\n                                alt: \"Image preview\",\n                                layout: \"fill\",\n                                objectFit: \"contain\",\n                                className: \"rounded-lg\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                                lineNumber: 483,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                            lineNumber: 482,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                    lineNumber: 478,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n                lineNumber: 476,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/ChatView.tsx\",\n        lineNumber: 228,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7OzswQkFLaEYsOERBQUNqRCwyREFBZUE7MEJBQ2J1RSw4QkFDQyw4REFBQ3RFLGtEQUFNQSxDQUFDNEksR0FBRztvQkFBQ1MsU0FBUzt3QkFBRUUsU0FBUztvQkFBRTtvQkFBR0UsU0FBUzt3QkFBRUYsU0FBUztvQkFBRTtvQkFBR0csTUFBTTt3QkFBRUgsU0FBUztvQkFBRTtvQkFBR3ZHLFdBQVU7b0JBQXlGa0csU0FBUyxJQUFNM0UsZ0JBQWdCOztzQ0FDcE4sOERBQUMwRTs0QkFBT2pHLFdBQVU7NEJBQXdHa0csU0FBUyxJQUFNM0UsZ0JBQWdCO3NDQUN2Siw0RUFBQ3ZELDRLQUFDQTtnQ0FBQ2dDLFdBQVU7Ozs7Ozs7Ozs7O3NDQUVmLDhEQUFDaEQsa0RBQU1BLENBQUM0SSxHQUFHOzRCQUFDUyxTQUFTO2dDQUFFc0MsT0FBTzs0QkFBSTs0QkFBR2xDLFNBQVM7Z0NBQUVrQyxPQUFPOzRCQUFFOzRCQUFHakMsTUFBTTtnQ0FBRWlDLE9BQU87NEJBQUk7NEJBQUczSSxXQUFVOzRCQUFpQ2tHLFNBQVNyQixDQUFBQSxJQUFLQSxFQUFFZ0UsZUFBZTtzQ0FDMUosNEVBQUM1SyxrREFBU0E7Z0NBQUNzSixLQUFLakc7Z0NBQWNrRyxLQUFJO2dDQUFnQnNCLFFBQU87Z0NBQU9DLFdBQVU7Z0NBQVUvSSxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzVHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9jb21wb25lbnRzL0NoYXRWaWV3LnRzeD80MWI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBbmltYXRlUHJlc2VuY2UsIG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHtcbiAgQXJyb3dMZWZ0LFxuICBDaGVjayxcbiAgQ29weSxcbiAgRG93bmxvYWQsXG4gIEhhc2gsXG4gIEltYWdlIGFzIEltYWdlSWNvbixcbiAgTG9hZGVyMixcbiAgTWVudSxcbiAgUGFwZXJjbGlwLFxuICBQaG9uZSxcbiAgUmVwbHksXG4gIFNlbmQsXG4gIFNlYXJjaCxcbiAgVmlkZW8sXG4gIFgsXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgTmV4dEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQsIHR5cGUgQXR0YWNobWVudCwgdHlwZSBEaXJlY3RNZXNzYWdlLCB0eXBlIFJlcGx5UmVmIH0gZnJvbSAnLi4vbGliL25vc3RyJztcbmltcG9ydCB7XG4gIGFkZENoYW5uZWxNZXNzYWdlLFxuICBhZGRNZXNzYWdlLFxuICBnZXRDaGFubmVsTWVzc2FnZXMsXG4gIGdldE1lc3NhZ2VzLFxuICBnb0JhY2tUb1NpZGViYXIsXG4gIHRvZ2dsZVNpZGViYXIsXG4gIHVwZGF0ZUNvbnRhY3RQcm9maWxlLFxuICB1c2VBcHBTdGF0ZSxcbn0gZnJvbSAnLi4vbGliL3N0b3JlJztcbmltcG9ydCB7IGRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIH0gZnJvbSAnLi4vbGliL2NodW5rU3RvcmUnO1xuaW1wb3J0IHsgZG93bmxvYWRBdHRhY2htZW50LCBmb3JtYXRGaWxlU2l6ZSwgZ2V0RmlsZUljb24sIHByb2Nlc3NGaWxlIH0gZnJvbSAnLi4vbGliL2ZpbGVVdGlscyc7XG5pbXBvcnQgeyB3ZWJydGNNYW5hZ2VyIH0gZnJvbSAnLi4vbGliL3dlYnJ0Yyc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJy4vQXZhdGFyJztcblxuZnVuY3Rpb24gSGlnaGxpZ2h0KHsgdGV4dCwgaGlnaGxpZ2h0IH06IHsgdGV4dDogc3RyaW5nOyBoaWdobGlnaHQ6IHN0cmluZyB9KSB7XG4gIGlmICghaGlnaGxpZ2h0LnRyaW0oKSkge1xuICAgIHJldHVybiA8c3Bhbj57dGV4dH08L3NwYW4+O1xuICB9XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7aGlnaGxpZ2h0fSlgLCAnZ2knKTtcbiAgY29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KHJlZ2V4KTtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuPlxuICAgICAge3BhcnRzLm1hcCgocGFydCwgaSkgPT5cbiAgICAgICAgcmVnZXgudGVzdChwYXJ0KSA/IChcbiAgICAgICAgICA8bWFyayBrZXk9e2l9IGNsYXNzTmFtZT1cImJnLXllbGxvdy0zMDAgdGV4dC1ibGFjayByb3VuZGVkLXNtXCI+XG4gICAgICAgICAgICB7cGFydH1cbiAgICAgICAgICA8L21hcms+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHNwYW4ga2V5PXtpfT57cGFydH08L3NwYW4+XG4gICAgICAgICksXG4gICAgICApfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFZpZXcoKSB7XG4gIGNvbnN0IHsgYWN0aXZlQ2hhdCwgY29udGFjdHMsIGNoYW5uZWxzIH0gPSB1c2VBcHBTdGF0ZSgpO1xuICBjb25zdCBpc0NoYW5uZWwgPSAhIWFjdGl2ZUNoYXQgJiYgYWN0aXZlQ2hhdC5zdGFydHNXaXRoKCdjaGFubmVsOicpO1xuICBjb25zdCBjaGFubmVsSWQgPSBpc0NoYW5uZWwgPyBhY3RpdmVDaGF0IS5zbGljZSgnY2hhbm5lbDonLmxlbmd0aCkgOiAnJztcblxuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlbmRpbmcsIHNldFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPERpcmVjdE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbcGVuZGluZ0F0dGFjaG1lbnQsIHNldFBlbmRpbmdBdHRhY2htZW50XSA9IHVzZVN0YXRlPEF0dGFjaG1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbmRQcm9ncmVzcywgc2V0U2VuZFByb2dyZXNzXSA9IHVzZVN0YXRlPHsgc2VudDogbnVtYmVyOyB0b3RhbDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlcGx5VG8sIHNldFJlcGx5VG9dID0gdXNlU3RhdGU8UmVwbHlSZWYgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3ByZXZpZXdJbWFnZSwgc2V0UHJldmlld0ltYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1NlYXJjaFZpc2libGUsIHNldElzU2VhcmNoVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbWFnZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNlYXJjaElucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IGNvbnRhY3QgPSB1c2VNZW1vKCgpID0+IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gYWN0aXZlQ2hhdCksIFtjb250YWN0cywgYWN0aXZlQ2hhdF0pO1xuICBjb25zdCBjaGFubmVsID0gdXNlTWVtbygoKSA9PiBjaGFubmVscy5maW5kKGMgPT4gYy5pZCA9PT0gY2hhbm5lbElkKSwgW2NoYW5uZWxzLCBjaGFubmVsSWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1NlYXJjaFZpc2libGUpIHtcbiAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbaXNTZWFyY2hWaXNpYmxlXSk7XG5cbiAgY29uc3QgZmlsdGVyZWRNZXNzYWdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VhcmNoUXVlcnkudHJpbSgpKSByZXR1cm4gbWVzc2FnZXM7XG4gICAgcmV0dXJuIG1lc3NhZ2VzLmZpbHRlcihtc2cgPT4gbXNnLmNvbnRlbnQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkpO1xuICB9LCBbbWVzc2FnZXMsIHNlYXJjaFF1ZXJ5XSk7XG5cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCkgcmV0dXJuO1xuICAgIGlmIChpc0NoYW5uZWwpIHtcbiAgICAgIHNldE1lc3NhZ2VzKGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUoYWN0aXZlQ2hhdCk7XG4gICAgfVxuICAgIHNldFBlbmRpbmdBdHRhY2htZW50KG51bGwpO1xuICAgIHNldFNlbmRQcm9ncmVzcyhudWxsKTtcbiAgICBzZXRSZXBseVRvKG51bGwpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgfSwgW2FjdGl2ZUNoYXQsIGlzQ2hhbm5lbCwgY2hhbm5lbElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1Yk1zZyA9IG5vc3RyQ2xpZW50Lm9uTWVzc2FnZShtc2cgPT4ge1xuICAgICAgYWRkTWVzc2FnZShtc2cpO1xuICAgICAgaWYgKCFhY3RpdmVDaGF0IHx8IGlzQ2hhbm5lbCkgcmV0dXJuO1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVuc3ViQ2hhbm5lbCA9IG5vc3RyQ2xpZW50Lm9uQ2hhbm5lbE1lc3NhZ2UobXNnID0+IHtcbiAgICAgIGFkZENoYW5uZWxNZXNzYWdlKG1zZyk7XG4gICAgICBpZiAoIWNoYW5uZWxJZCB8fCAhaXNDaGFubmVsIHx8IG1zZy5jaGFubmVsSWQgIT09IGNoYW5uZWxJZCkgcmV0dXJuO1xuICAgICAgc2V0TWVzc2FnZXMoZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWxJZCkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1Yk1zZygpO1xuICAgICAgdW5zdWJDaGFubmVsKCk7XG4gICAgfTtcbiAgfSwgW2FjdGl2ZUNoYXQsIGlzQ2hhbm5lbCwgY2hhbm5lbElkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1YiA9IG5vc3RyQ2xpZW50Lm9uUHJvZmlsZSgocHVia2V5LCBwcm9maWxlKSA9PiB7XG4gICAgICB1cGRhdGVDb250YWN0UHJvZmlsZShwdWJrZXksIHByb2ZpbGUubmFtZSwgcHJvZmlsZS5waWN0dXJlLCBwcm9maWxlLmFib3V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5zdWI7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlQ2hhdCkgcmV0dXJuO1xuICAgIHNldE1lc3NhZ2VzKGlzQ2hhbm5lbCA/IGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpIDogZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICB9LCBbYWN0aXZlQ2hhdCwgY29udGFjdHMsIGNoYW5uZWxzLCBpc0NoYW5uZWwsIGNoYW5uZWxJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlYXJjaFF1ZXJ5KSByZXR1cm47XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlcywgc2VhcmNoUXVlcnldKTtcblxuICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICgoIWlucHV0LnRyaW0oKSAmJiAhcGVuZGluZ0F0dGFjaG1lbnQpIHx8ICFhY3RpdmVDaGF0IHx8IHNlbmRpbmcpIHJldHVybjtcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXQudHJpbSgpO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRTZW5kUHJvZ3Jlc3MobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ2hhbm5lbCkge1xuICAgICAgICBpZiAocGVuZGluZ0F0dGFjaG1lbnQpIHRocm93IG5ldyBFcnJvcignQXR0YWNobWVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gcHVibGljIGNoYW5uZWxzLicpO1xuICAgICAgICBjb25zdCBtc2cgPSBhd2FpdCBub3N0ckNsaWVudC5zZW5kQ2hhbm5lbE1lc3NhZ2UoY2hhbm5lbElkLCB0ZXh0LCByZXBseVRvIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgIGFkZENoYW5uZWxNZXNzYWdlKG1zZyk7XG4gICAgICAgIHNldE1lc3NhZ2VzKGdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsSWQpKTtcbiAgICAgIH0gZWxzZSBpZiAocGVuZGluZ0F0dGFjaG1lbnQpIHtcbiAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgbm9zdHJDbGllbnQuc2VuZEF0dGFjaG1lbnQoXG4gICAgICAgICAgYWN0aXZlQ2hhdCxcbiAgICAgICAgICBwZW5kaW5nQXR0YWNobWVudCxcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIChzZW50LCB0b3RhbCkgPT4gc2V0U2VuZFByb2dyZXNzKHsgc2VudCwgdG90YWwgfSksXG4gICAgICAgICAgcmVwbHlUbyB8fCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICAgIGFkZE1lc3NhZ2UobXNnKTtcbiAgICAgICAgc2V0TWVzc2FnZXMoZ2V0TWVzc2FnZXMoYWN0aXZlQ2hhdCkpO1xuICAgICAgICBzZXRQZW5kaW5nQXR0YWNobWVudChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IG5vc3RyQ2xpZW50LnNlbmREaXJlY3RNZXNzYWdlKGFjdGl2ZUNoYXQsIHRleHQsIHJlcGx5VG8gfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgYWRkTWVzc2FnZShtc2cpO1xuICAgICAgICBzZXRNZXNzYWdlcyhnZXRNZXNzYWdlcyhhY3RpdmVDaGF0KSk7XG4gICAgICB9XG4gICAgICBzZXRSZXBseVRvKG51bGwpO1xuICAgICAgc2V0U2VuZFByb2dyZXNzKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoKGVyciBhcyBFcnJvcikubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2VuZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbGwgPSB1c2VDYWxsYmFjaygodHlwZTogJ2F1ZGlvJyB8ICd2aWRlbycpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUNoYXQgfHwgaXNDaGFubmVsKSByZXR1cm47XG4gICAgd2VicnRjTWFuYWdlci5pbml0aWF0ZUNhbGwoYWN0aXZlQ2hhdCwgdHlwZSk7XG4gIH0sIFthY3RpdmVDaGF0LCBpc0NoYW5uZWxdKTtcblxuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgZS50YXJnZXQudmFsdWUgPSAnJztcbiAgICBzZXRFcnJvcignJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBhd2FpdCBwcm9jZXNzRmlsZShmaWxlKTtcbiAgICAgIGlmIChhdHRhY2htZW50KSBzZXRQZW5kaW5nQXR0YWNobWVudChhdHRhY2htZW50KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKChlcnIgYXMgRXJyb3IpLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNvcHkgPSBhc3luYyAodGV4dDogc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgc2V0Q29waWVkKGlkKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZCgnJyksIDE0MDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gYXN5bmMgKG1zZzogRGlyZWN0TWVzc2FnZSkgPT4ge1xuICAgIGlmICghbXNnLmF0dGFjaG1lbnQpIHJldHVybjtcbiAgICBpZiAobXNnLmF0dGFjaG1lbnQuY2h1bmtlZCAmJiBtc2cuYXR0YWNobWVudC50cmFuc2ZlcklkKSB7XG4gICAgICBhd2FpdCBkb3dubG9hZENodW5rZWRUcmFuc2Zlcihtc2cuYXR0YWNobWVudC50cmFuc2ZlcklkLCBtc2cuYXR0YWNobWVudC5uYW1lLCBtc2cuYXR0YWNobWVudC5taW1lVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvd25sb2FkQXR0YWNobWVudChtc2cuYXR0YWNobWVudCk7XG4gIH07XG5cbiAgaWYgKCFhY3RpdmVDaGF0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC10ZXh0IG1iLTJcIiBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX0+QW5vbnltb3VzIERlY2VudHJhbGl6ZWQgTWVzc2VuZ2VyPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IHRleHQtc21cIj5DaG9vc2UgY29udGFjdCBvciBjaGFubmVsIHRvIHN0YXJ0LjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIGJnLWJnIGgtZnVsbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgYm9yZGVyLWIgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvNTAgYmFja2Ryb3AtYmx1ci1zbSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2dvQmFja1RvU2lkZWJhcn0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBtZDpoaWRkZW5cIj5cbiAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGVTaWRlYmFyfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhpZGRlbiBsZzpibG9ja1wiPlxuICAgICAgICAgIDxNZW51IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICB7aXNDaGFubmVsID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctY3lhbi8xNSBib3JkZXIgYm9yZGVyLWN5YW4vMjUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxIYXNoIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1jeWFuXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8QXZhdGFyIHB1YmtleT17YWN0aXZlQ2hhdH0gbmFtZT17Y29udGFjdD8ubmFtZX0gcGljdHVyZT17Y29udGFjdD8ucGljdHVyZX0gc2l6ZT1cInNtXCIgc2hvd0JvcmRlciAvPlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlIGluaXRpYWw9e2ZhbHNlfSBtb2RlPVwid2FpdFwiPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAga2V5PXtpc1NlYXJjaFZpc2libGUgPyAnc2VhcmNoJyA6ICd0aXRsZSd9XG4gICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogLTEwIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHk6IDEwIH19XG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMiB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNTZWFyY2hWaXNpYmxlID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdy00IGgtNCB0ZXh0LXRleHQtbXV0ZWRcIiAvPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHJlZj17c2VhcmNoSW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGluIGNoYXQuLi5cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBwbC04IHByLTggcHktMSB0ZXh0LXNtIHRleHQtdGV4dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRJc1NlYXJjaFZpc2libGUoZmFsc2UpOyBzZXRTZWFyY2hRdWVyeSgnJyk7IH19IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHAtMC41IHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICB7aXNDaGFubmVsID8gYCMgJHtjaGFubmVsPy5uYW1lIHx8IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkoY2hhbm5lbElkKX1gIDogKGNvbnRhY3Q/Lm5hbWUgfHwgbm9zdHJDbGllbnQuc2hvcnRlbktleShhY3RpdmVDaGF0KSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC10ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpc0NoYW5uZWwgPyAnUHVibGljIGNoYW5uZWwgb3ZlciByZWxheXMnIDogJ0VuY3J5cHRlZCBETSBvdmVyIHJlbGF5cyd9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNTZWFyY2hWaXNpYmxlKCFpc1NlYXJjaFZpc2libGUpfSBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0cmFuc2l0aW9uLWNvbG9ycyAke2lzU2VhcmNoVmlzaWJsZSA/ICdiZy1iZy10ZXJ0aWFyeSB0ZXh0LWFjY2VudCcgOiAndGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtdGV4dC1zZWNvbmRhcnknfWB9IHRpdGxlPVwiU2VhcmNoXCI+XG4gICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHshaXNDaGFubmVsICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlQ2FsbCgnYXVkaW8nKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtZ3JlZW4gdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIkF1ZGlvIGNhbGxcIj48UGhvbmUgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlQ2FsbCgndmlkZW8nKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LW11dGVkIGhvdmVyOnRleHQtYWNjZW50IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJWaWRlbyBjYWxsXCI+PFZpZGVvIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNvcHkoYWN0aXZlQ2hhdCwgJ2hlYWRlcicpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC10ZXh0LXNlY29uZGFyeSB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiQ29weSBrZXlcIj5cbiAgICAgICAgICAgICAgICB7Y29waWVkID09PSAnaGVhZGVyJyA/IDxDaGVjayBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JlZW5cIiAvPiA6IDxDb3B5IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtNCBweS00IHNwYWNlLXktMlwiPlxuICAgICAgICB7ZmlsdGVyZWRNZXNzYWdlcy5tYXAobXNnID0+IHtcbiAgICAgICAgICBjb25zdCBpc01lID0gbXNnLmZyb20gPT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG1vdGlvbi5kaXYga2V5PXttc2cuaWR9IGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogOCB9fSBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX0gY2xhc3NOYW1lPXtgZmxleCAke2lzTWUgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGdyb3VwIHJlbGF0aXZlIG1heC13LVs3OCVdIHJvdW5kZWQtMnhsIHRleHQtc20gb3ZlcmZsb3ctaGlkZGVuICR7aXNNZSA/ICdiZy1hY2NlbnQgdGV4dC13aGl0ZSByb3VuZGVkLWJyLW1kJyA6ICdiZy1iZy1zZWNvbmRhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgdGV4dC10ZXh0IHJvdW5kZWQtYmwtbWQnfWB9PlxuICAgICAgICAgICAgICAgIHttc2cucmVwbHlUbyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG14LTIgbXQtMiBweC0yIHB5LTEgcm91bmRlZC1tZCB0ZXh0LVsxMXB4XSAke2lzTWUgPyAnYmctd2hpdGUvMTUgdGV4dC13aGl0ZS84MCcgOiAnYmctYmctdGVydGlhcnkgdGV4dC10ZXh0LXNlY29uZGFyeSd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRydW5jYXRlXCI+e21zZy5yZXBseVRvLmZyb20gPT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleSA/ICdZb3UnIDogbm9zdHJDbGllbnQuc2hvcnRlbktleShtc2cucmVwbHlUby5mcm9tKX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e21zZy5yZXBseVRvLnRleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHttc2cubXNnVHlwZSA9PT0gJ2ltYWdlJyAmJiBtc2cuYXR0YWNobWVudCAmJiAhbXNnLmF0dGFjaG1lbnQuY2h1bmtlZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KCkgPT4gc2V0UHJldmlld0ltYWdlKGBkYXRhOiR7bXNnLmF0dGFjaG1lbnQhLm1pbWVUeXBlfTtiYXNlNjQsJHttc2cuYXR0YWNobWVudCEuZGF0YX1gKX0+XG4gICAgICAgICAgICAgICAgICAgIDxOZXh0SW1hZ2Ugc3JjPXtgZGF0YToke21zZy5hdHRhY2htZW50Lm1pbWVUeXBlfTtiYXNlNjQsJHttc2cuYXR0YWNobWVudC5kYXRhfWB9IGFsdD17bXNnLmF0dGFjaG1lbnQubmFtZX0gd2lkdGg9ezMwMH0gaGVpZ2h0PXsyMDB9IGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgbWF4LWgtNjQgcm91bmRlZC10LTJ4bCBvYmplY3QtY292ZXJcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHttc2cuYXR0YWNobWVudCAmJiBtc2cubXNnVHlwZSA9PT0gJ2ZpbGUnICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMy41IHB0LTMgY3Vyc29yLXBvaW50ZXJcIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEb3dubG9hZChtc2cpfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEwIGgtMTAgcm91bmRlZC14bCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWxnICR7aXNNZSA/ICdiZy13aGl0ZS8xNScgOiAnYmctYmctdGVydGlhcnknfWB9PlxuICAgICAgICAgICAgICAgICAgICAgIHtnZXRGaWxlSWNvbihtc2cuYXR0YWNobWVudC5taW1lVHlwZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyBmb250LW1lZGl1bSB0cnVuY2F0ZSAke2lzTWUgPyAndGV4dC13aGl0ZScgOiAndGV4dC10ZXh0J31gfT57bXNnLmF0dGFjaG1lbnQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1bMTBweF0gJHtpc01lID8gJ3RleHQtd2hpdGUvNjAnIDogJ3RleHQtdGV4dC1tdXRlZCd9YH0+e2Zvcm1hdEZpbGVTaXplKG1zZy5hdHRhY2htZW50LnNpemUpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxEb3dubG9hZCBjbGFzc05hbWU9e2B3LTQgaC00IHNocmluay0wICR7aXNNZSA/ICd0ZXh0LXdoaXRlLzYwJyA6ICd0ZXh0LXRleHQtbXV0ZWQnfWB9IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge21zZy5hdHRhY2htZW50ICYmIG1zZy5tc2dUeXBlID09PSAnaW1hZ2UnICYmIG1zZy5hdHRhY2htZW50LmNodW5rZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zLjUgcHQtMyBjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9eygpID0+IGhhbmRsZURvd25sb2FkKG1zZyl9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMTAgaC0xMCByb3VuZGVkLXhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbGcgJHtpc01lID8gJ2JnLXdoaXRlLzE1JyA6ICdiZy1iZy10ZXJ0aWFyeSd9YH0+8J+WvO+4jzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyBmb250LW1lZGl1bSB0cnVuY2F0ZSAke2lzTWUgPyAndGV4dC13aGl0ZScgOiAndGV4dC10ZXh0J31gfT57bXNnLmF0dGFjaG1lbnQubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1bMTBweF0gJHtpc01lID8gJ3RleHQtd2hpdGUvNjAnIDogJ3RleHQtdGV4dC1tdXRlZCd9YH0+Q2h1bmtlZCBpbWFnZSwgY2xpY2sgdG8gZG93bmxvYWQ8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPXtgdy00IGgtNCBzaHJpbmstMCAke2lzTWUgPyAndGV4dC13aGl0ZS82MCcgOiAndGV4dC10ZXh0LW11dGVkJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHttc2cuY29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMuNSBweS0yLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay13b3Jkc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHQgdGV4dD17bXNnLmNvbnRlbnR9IGhpZ2hsaWdodD17c2VhcmNoUXVlcnl9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTMuNSBwYi0yICR7aXNNZSA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LVsxMHB4XSAke2lzTWUgPyAndGV4dC13aGl0ZS81MCcgOiAndGV4dC10ZXh0LW11dGVkJ31gfT5cbiAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKG1zZy50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSB0b3AtMSAke2lzTWUgPyAnbGVmdC0wIC10cmFuc2xhdGUteC05JyA6ICdyaWdodC0wIHRyYW5zbGF0ZS14LTknfSBmbGV4IGZsZXgtY29sIGdhcC0xIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHlgfT5cbiAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlQ29weShtc2cuY29udGVudCwgbXNnLmlkKX0gY2xhc3NOYW1lPVwicC0xIHJvdW5kZWQgYmctYmctc2Vjb25kYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2NvcGllZCA9PT0gbXNnLmlkID8gPENoZWNrIGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC1ncmVlblwiIC8+IDogPENvcHkgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LXRleHQtbXV0ZWRcIiAvPn1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRSZXBseVRvKHsgaWQ6IG1zZy5pZCwgZnJvbTogbXNnLmZyb20sIHRleHQ6IG1zZy5jb250ZW50IHx8IG1zZy5hdHRhY2htZW50Py5uYW1lIHx8ICcnIH0pfSBjbGFzc05hbWU9XCJwLTEgcm91bmRlZCBiZy1iZy1zZWNvbmRhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFJlcGx5IGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC10ZXh0LW11dGVkXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtyZXBseVRvICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItdCBib3JkZXItYm9yZGVyIGJnLWJnLXNlY29uZGFyeS80MCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC10ZXh0LW11dGVkXCI+UmVwbHkgdG8ge3JlcGx5VG8uZnJvbSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5ID8gJ3lvdScgOiBub3N0ckNsaWVudC5zaG9ydGVuS2V5KHJlcGx5VG8uZnJvbSl9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSB0cnVuY2F0ZVwiPntyZXBseVRvLnRleHQgfHwgJyhhdHRhY2htZW50KSd9PC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRSZXBseVRvKG51bGwpfSBjbGFzc05hbWU9XCJwLTEuNSByb3VuZGVkIGhvdmVyOmJnLWJnLWhvdmVyXCI+PFggY2xhc3NOYW1lPVwidy0zLjUgaC0zLjUgdGV4dC10ZXh0LW11dGVkXCIgLz48L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7cGVuZGluZ0F0dGFjaG1lbnQgJiYgKFxuICAgICAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX0gZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gY2xhc3NOYW1lPVwicHgtNCBib3JkZXItdCBib3JkZXItYm9yZGVyIGJnLWJnLXNlY29uZGFyeS8zMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICB7cGVuZGluZ0F0dGFjaG1lbnQudHlwZSA9PT0gJ2ltYWdlJyAmJiBwZW5kaW5nQXR0YWNobWVudC5kYXRhID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItYm9yZGVyIHNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICA8TmV4dEltYWdlIHNyYz17YGRhdGE6JHtwZW5kaW5nQXR0YWNobWVudC5taW1lVHlwZX07YmFzZTY0LCR7cGVuZGluZ0F0dGFjaG1lbnQuZGF0YX1gfSBhbHQ9XCJBdHRhY2htZW50IHByZXZpZXdcIiB3aWR0aD17NjR9IGhlaWdodD17NjR9IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLXhsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtMnhsIHNocmluay0wXCI+e2dldEZpbGVJY29uKHBlbmRpbmdBdHRhY2htZW50Lm1pbWVUeXBlKX08L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0IHRydW5jYXRlXCI+e3BlbmRpbmdBdHRhY2htZW50Lm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkXCI+e2Zvcm1hdEZpbGVTaXplKHBlbmRpbmdBdHRhY2htZW50LnNpemUpfTwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0UGVuZGluZ0F0dGFjaG1lbnQobnVsbCl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXJlZCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2VuZFByb2dyZXNzICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19IGNsYXNzTmFtZT1cInB4LTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvMzAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IG1iLTFcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTMgaC0zIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICBVcGxvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+e3NlbmRQcm9ncmVzcy5zZW50fS97c2VuZFByb2dyZXNzLnRvdGFsfSBjaHVua3M8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTEuNSBiZy1iZy10ZXJ0aWFyeSByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPG1vdGlvbi5kaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGJnLWFjY2VudCByb3VuZGVkLWZ1bGxcIiBpbml0aWFsPXt7IHdpZHRoOiAwIH19IGFuaW1hdGU9e3sgd2lkdGg6IGAkeyhzZW5kUHJvZ3Jlc3Muc2VudCAvIHNlbmRQcm9ncmVzcy50b3RhbCkgKiAxMDB9JWAgfX0gdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4yIH19IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICApfVxuICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPG1vdGlvbi5kaXYgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBoZWlnaHQ6ICdhdXRvJywgb3BhY2l0eTogMSB9fSBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcmVkLWRpbSBib3JkZXItdCBib3JkZXItcmVkLzIwXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iZy1zZWNvbmRhcnkvMzBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBnYXAtMlwiPlxuICAgICAgICAgIHshaXNDaGFubmVsICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTAuNSBwYi0xXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaW1hZ2VJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtbXV0ZWQgaG92ZXI6dGV4dC1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIlNlbmQgaW1hZ2VcIiBkaXNhYmxlZD17c2VuZGluZ30+XG4gICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiU2VuZCBmaWxlXCIgZGlzYWJsZWQ9e3NlbmRpbmd9PlxuICAgICAgICAgICAgICAgIDxQYXBlcmNsaXAgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxpbnB1dCByZWY9e2ltYWdlSW5wdXRSZWZ9IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIGNsYXNzTmFtZT1cImhpZGRlblwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fSAvPlxuICAgICAgICAgIDxpbnB1dCByZWY9e2ZpbGVJbnB1dFJlZn0gdHlwZT1cImZpbGVcIiBjbGFzc05hbWU9XCJoaWRkZW5cIiBvbkNoYW5nZT17aGFuZGxlRmlsZVNlbGVjdH0gLz5cblxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgdmFsdWU9e2lucHV0fVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHtcbiAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGhhbmRsZVNlbmQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtwZW5kaW5nQXR0YWNobWVudCA/ICdBZGQgY2FwdGlvbi4uLicgOiAoaXNDaGFubmVsID8gJ1Bvc3QgbWVzc2FnZSB0byBjaGFubmVsLi4uJyA6ICdXcml0ZSBtZXNzYWdlLi4uJyl9XG4gICAgICAgICAgICByb3dzPXsxfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbmRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC14bCBweC00IHB5LTMgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwIHJlc2l6ZS1ub25lIG1heC1oLTMyIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgc3R5bGU9e3sgbWluSGVpZ2h0OiAnNDRweCcgfX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPG1vdGlvbi5idXR0b24gd2hpbGVIb3Zlcj17eyBzY2FsZTogc2VuZGluZyA/IDEgOiAxLjA1IH19IHdoaWxlVGFwPXt7IHNjYWxlOiBzZW5kaW5nID8gMSA6IDAuOTUgfX0gb25DbGljaz17aGFuZGxlU2VuZH0gZGlzYWJsZWQ9eyghaW5wdXQudHJpbSgpICYmICFwZW5kaW5nQXR0YWNobWVudCkgfHwgc2VuZGluZ30gY2xhc3NOYW1lPVwicC0zIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgZGlzYWJsZWQ6b3BhY2l0eS0zMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC13aGl0ZSByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHNocmluay0wXCI+XG4gICAgICAgICAgICB7c2VuZGluZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNSBoLTUgYW5pbWF0ZS1zcGluXCIgLz4gOiA8U2VuZCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7cHJldmlld0ltYWdlICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotWzkwXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay85MCBiYWNrZHJvcC1ibHVyLXNtIHAtNFwiIG9uQ2xpY2s9eygpID0+IHNldFByZXZpZXdJbWFnZShudWxsKX0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgcC0yIHJvdW5kZWQtbGcgYmctd2hpdGUvMTAgdGV4dC13aGl0ZSBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9ycyB6LTEwXCIgb25DbGljaz17KCkgPT4gc2V0UHJldmlld0ltYWdlKG51bGwpfT5cbiAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgc2NhbGU6IDAuOSB9fSBhbmltYXRlPXt7IHNjYWxlOiAxIH19IGV4aXQ9e3sgc2NhbGU6IDAuOSB9fSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtdy1mdWxsIG1heC1oLWZ1bGxcIiBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PlxuICAgICAgICAgICAgICA8TmV4dEltYWdlIHNyYz17cHJldmlld0ltYWdlfSBhbHQ9XCJJbWFnZSBwcmV2aWV3XCIgbGF5b3V0PVwiZmlsbFwiIG9iamVjdEZpdD1cImNvbnRhaW5cIiBjbGFzc05hbWU9XCJyb3VuZGVkLWxnXCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFuaW1hdGVQcmVzZW5jZSIsIm1vdGlvbiIsIkFycm93TGVmdCIsIkNoZWNrIiwiQ29weSIsIkRvd25sb2FkIiwiSGFzaCIsIkltYWdlIiwiSW1hZ2VJY29uIiwiTG9hZGVyMiIsIk1lbnUiLCJQYXBlcmNsaXAiLCJQaG9uZSIsIlJlcGx5IiwiU2VuZCIsIlNlYXJjaCIsIlZpZGVvIiwiWCIsIk5leHRJbWFnZSIsIm5vc3RyQ2xpZW50IiwiYWRkQ2hhbm5lbE1lc3NhZ2UiLCJhZGRNZXNzYWdlIiwiZ2V0Q2hhbm5lbE1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXMiLCJnb0JhY2tUb1NpZGViYXIiLCJ0b2dnbGVTaWRlYmFyIiwidXBkYXRlQ29udGFjdFByb2ZpbGUiLCJ1c2VBcHBTdGF0ZSIsImRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIiwiZG93bmxvYWRBdHRhY2htZW50IiwiZm9ybWF0RmlsZVNpemUiLCJnZXRGaWxlSWNvbiIsInByb2Nlc3NGaWxlIiwid2VicnRjTWFuYWdlciIsIkF2YXRhciIsIkhpZ2hsaWdodCIsInRleHQiLCJoaWdobGlnaHQiLCJ0cmltIiwic3BhbiIsInJlZ2V4IiwiUmVnRXhwIiwicGFydHMiLCJzcGxpdCIsIm1hcCIsInBhcnQiLCJpIiwidGVzdCIsIm1hcmsiLCJjbGFzc05hbWUiLCJDaGF0VmlldyIsImFjdGl2ZUNoYXQiLCJjb250YWN0cyIsImNoYW5uZWxzIiwiaXNDaGFubmVsIiwic3RhcnRzV2l0aCIsImNoYW5uZWxJZCIsInNsaWNlIiwibGVuZ3RoIiwiaW5wdXQiLCJzZXRJbnB1dCIsInNlbmRpbmciLCJzZXRTZW5kaW5nIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsInBlbmRpbmdBdHRhY2htZW50Iiwic2V0UGVuZGluZ0F0dGFjaG1lbnQiLCJzZW5kUHJvZ3Jlc3MiLCJzZXRTZW5kUHJvZ3Jlc3MiLCJyZXBseVRvIiwic2V0UmVwbHlUbyIsInByZXZpZXdJbWFnZSIsInNldFByZXZpZXdJbWFnZSIsImVycm9yIiwic2V0RXJyb3IiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwiaXNTZWFyY2hWaXNpYmxlIiwic2V0SXNTZWFyY2hWaXNpYmxlIiwibWVzc2FnZXNFbmRSZWYiLCJpbWFnZUlucHV0UmVmIiwiZmlsZUlucHV0UmVmIiwic2VhcmNoSW5wdXRSZWYiLCJjb250YWN0IiwiZmluZCIsImMiLCJwdWJrZXkiLCJjaGFubmVsIiwiaWQiLCJjdXJyZW50IiwiZm9jdXMiLCJmaWx0ZXJlZE1lc3NhZ2VzIiwiZmlsdGVyIiwibXNnIiwiY29udGVudCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJyZXF1ZXN0UHJvZmlsZSIsInVuc3ViTXNnIiwib25NZXNzYWdlIiwidW5zdWJDaGFubmVsIiwib25DaGFubmVsTWVzc2FnZSIsInVuc3ViIiwib25Qcm9maWxlIiwicHJvZmlsZSIsIm5hbWUiLCJwaWN0dXJlIiwiYWJvdXQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaGFuZGxlU2VuZCIsIkVycm9yIiwic2VuZENoYW5uZWxNZXNzYWdlIiwidW5kZWZpbmVkIiwic2VuZEF0dGFjaG1lbnQiLCJzZW50IiwidG90YWwiLCJzZW5kRGlyZWN0TWVzc2FnZSIsImVyciIsIm1lc3NhZ2UiLCJoYW5kbGVDYWxsIiwidHlwZSIsImluaXRpYXRlQ2FsbCIsImhhbmRsZUZpbGVTZWxlY3QiLCJlIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwidmFsdWUiLCJhdHRhY2htZW50IiwiaGFuZGxlQ29weSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInNldFRpbWVvdXQiLCJoYW5kbGVEb3dubG9hZCIsImNodW5rZWQiLCJ0cmFuc2ZlcklkIiwibWltZVR5cGUiLCJkaXYiLCJoMiIsInN0eWxlIiwiZm9udEZhbWlseSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsInNob3dCb3JkZXIiLCJpbml0aWFsIiwibW9kZSIsIm9wYWNpdHkiLCJ5IiwiYW5pbWF0ZSIsImV4aXQiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJyZWYiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwic2hvcnRlbktleSIsInRpdGxlIiwiaXNNZSIsImZyb20iLCJwdWJsaWNLZXkiLCJtc2dUeXBlIiwiZGF0YSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwiRGF0ZSIsInRpbWVzdGFtcCIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJjbGljayIsImRpc2FibGVkIiwiYWNjZXB0IiwidGV4dGFyZWEiLCJvbktleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0Iiwicm93cyIsIm1pbkhlaWdodCIsIndoaWxlSG92ZXIiLCJzY2FsZSIsIndoaWxlVGFwIiwic3RvcFByb3BhZ2F0aW9uIiwibGF5b3V0Iiwib2JqZWN0Rml0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatView.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/LoginScreen.tsx":
/*!****************************************!*\
  !*** ./src/components/LoginScreen.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/shield.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/log-in.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/key.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Globe,Key,LogIn,Plus,Shield,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n\n\n\n\n\n\nfunction LoginScreen() {\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"choice\");\n    const [generatedKeys, setGeneratedKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [importKey, setImportKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [savedKey, setSavedKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleGenerate = ()=>{\n        const keys = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.generateKeys();\n        setGeneratedKeys(keys);\n        setMode(\"generate\");\n    };\n    const handleCopyKey = async ()=>{\n        if (!generatedKeys) return;\n        await navigator.clipboard.writeText(generatedKeys.privateKey);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 2000);\n    };\n    const handleConfirmGenerated = ()=>{\n        if (!generatedKeys) return;\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.login(generatedKeys.privateKey);\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectToRelays();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadContacts)();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadChannels)();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(true);\n    };\n    const handleImport = ()=>{\n        setError(\"\");\n        const key = importKey.trim().replace(/^nsec1/, \"\");\n        if (!_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.isValidHexKey(key)) {\n            setError(\"Invalid private key. Must be 64 hex characters.\");\n            return;\n        }\n        try {\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.login(key);\n            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectToRelays();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadContacts)();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.loadChannels)();\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(true);\n        } catch  {\n            setError(\"Failed to login with this key.\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex items-center justify-center bg-bg p-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 overflow-hidden pointer-events-none\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-1/4 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan/5 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                lineNumber: 57,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: 20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                className: \"relative z-10 w-full max-w-md\",\n                children: [\n                    mode === \"choice\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                                initial: {\n                                    scale: 0.8\n                                },\n                                animate: {\n                                    scale: 1\n                                },\n                                transition: {\n                                    type: \"spring\",\n                                    stiffness: 200\n                                },\n                                className: \"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-accent/10 border border-accent/20 mb-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-10 h-10 text-accent\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                    lineNumber: 75,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-3xl font-bold text-text mb-2\",\n                                style: {\n                                    fontFamily: \"Space Grotesk\"\n                                },\n                                children: \"NOSTR P2P\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-text-secondary text-sm mb-2\",\n                                children: \"Decentralized. Encrypted. Censorship-resistant.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 81,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center gap-4 text-xs text-text-muted mb-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 85,\n                                                columnNumber: 57\n                                            }, this),\n                                            \" E2E Encrypted\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 86,\n                                                columnNumber: 57\n                                            }, this),\n                                            \" No Central Server\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 86,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleGenerate,\n                                        className: \"w-full flex items-center gap-3 px-5 py-4 bg-accent hover:bg-accent-hover text-white rounded-xl transition-colors text-sm font-medium\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-5 h-5\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 96,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Generate New Identity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 98,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs opacity-70\",\n                                                        children: \"Create a new keypair\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 99,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 97,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 90,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: ()=>setMode(\"import\"),\n                                        className: \"w-full flex items-center gap-3 px-5 py-4 bg-bg-tertiary hover:bg-bg-hover border border-border rounded-xl transition-colors text-sm font-medium text-text\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-5 h-5 text-text-secondary\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 109,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Import Private Key\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 111,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-text-muted\",\n                                                        children: \"Use existing Nostr identity\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                        lineNumber: 112,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 110,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 103,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 89,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"generate\" && generatedKeys && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMode(\"choice\"),\n                                className: \"text-text-secondary hover:text-text text-sm mb-4 flex items-center gap-1\",\n                                children: \" Back\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green/10 border border-green/20 mb-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                            className: \"w-7 h-7 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 127,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 126,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-text\",\n                                        style: {\n                                            fontFamily: \"Space Grotesk\"\n                                        },\n                                        children: \"Your New Identity\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary text-xs mt-1\",\n                                        children: \"Save your private key securely!\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 130,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 125,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                                children: \"Public Key\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 135,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-bg-tertiary border border-border rounded-lg p-3 text-xs text-text-secondary font-mono break-all\",\n                                                children: generatedKeys.publicKey\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 136,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                                children: \"Private Key (SECRET)\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 142,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-red-dim border border-red/20 rounded-lg p-3 text-xs text-red font-mono break-all\",\n                                                children: generatedKeys.privateKey\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 143,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleCopyKey,\n                                        className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-bg-tertiary hover:bg-bg-hover border border-border rounded-lg text-sm text-text transition-colors\",\n                                        children: [\n                                            copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-4 h-4 text-green\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 27\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 70\n                                            }, this),\n                                            copied ? \"Copied!\" : \"Copy Private Key\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-2 text-sm text-text-secondary cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: savedKey,\n                                                onChange: (e)=>setSavedKey(e.target.checked),\n                                                className: \"rounded accent-accent\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"I have saved my private key securely\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 156,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleConfirmGenerated,\n                                        disabled: !savedKey,\n                                        className: \"w-full px-5 py-4 bg-accent hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-all text-sm font-medium\",\n                                        children: \"Enter Messenger\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 166,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 120,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"import\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMode(\"choice\"),\n                                className: \"text-text-secondary hover:text-text text-sm mb-4 flex items-center gap-1\",\n                                children: \" Back\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-accent/10 border border-accent/20 mb-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_Globe_Key_LogIn_Plus_Shield_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-7 h-7 text-accent\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 187,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-text\",\n                                        style: {\n                                            fontFamily: \"Space Grotesk\"\n                                        },\n                                        children: \"Import Key\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 189,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary text-xs mt-1\",\n                                        children: \"Enter your Nostr private key (hex)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 185,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            value: importKey,\n                                            onChange: (e)=>setImportKey(e.target.value),\n                                            placeholder: \"Enter 64-character hex private key...\",\n                                            rows: 3,\n                                            className: \"w-full bg-bg-tertiary border border-border rounded-lg p-3 text-sm text-text font-mono resize-none focus:outline-none focus:border-accent placeholder:text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                            lineNumber: 195,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 194,\n                                        columnNumber: 15\n                                    }, this),\n                                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red text-xs\",\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 205,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {\n                                        whileHover: {\n                                            scale: 1.02\n                                        },\n                                        whileTap: {\n                                            scale: 0.98\n                                        },\n                                        onClick: handleImport,\n                                        className: \"w-full px-5 py-4 bg-accent hover:bg-accent-hover text-white rounded-xl transition-colors text-sm font-medium\",\n                                        children: \"Login\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/LoginScreen.tsx\",\n        lineNumber: 56,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7OzBDQUkvSCw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTtrREFDYiw0RUFBQ3pDLHNIQUFLQTs0Q0FBQ3lDLFdBQVU7Ozs7Ozs7Ozs7O2tEQUVuQiw4REFBQ2tCO3dDQUFHbEIsV0FBVTt3Q0FBOEJVLE9BQU87NENBQUVDLFlBQVk7d0NBQWdCO2tEQUFHOzs7Ozs7a0RBQ3BGLDhEQUFDQzt3Q0FBRVosV0FBVTtrREFBbUM7Ozs7Ozs7Ozs7OzswQ0FHbEQsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0Q7a0RBQ0MsNEVBQUM0Qjs0Q0FDQ0MsT0FBT3REOzRDQUNQaUQsVUFBVUMsQ0FBQUEsSUFBS2pELGFBQWFpRCxFQUFFQyxNQUFNLENBQUNHLEtBQUs7NENBQzFDQyxhQUFZOzRDQUNaQyxNQUFNOzRDQUNOOUIsV0FBVTs7Ozs7Ozs7Ozs7b0NBSWJ4Qix1QkFDQyw4REFBQ29DO3dDQUFFWixXQUFVO2tEQUFvQnhCOzs7Ozs7a0RBR25DLDhEQUFDcEIsaURBQU1BLENBQUMwRCxNQUFNO3dDQUNaQyxZQUFZOzRDQUFFVixPQUFPO3dDQUFLO3dDQUMxQlcsVUFBVTs0Q0FBRVgsT0FBTzt3Q0FBSzt3Q0FDeEJZLFNBQVN2Qjt3Q0FDVE0sV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4PzgxN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IEtleSwgUGx1cywgTG9nSW4sIENvcHksIENoZWNrLCBTaGllbGQsIFphcCwgR2xvYmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQgfSBmcm9tICcuLi9saWIvbm9zdHInO1xuaW1wb3J0IHsgc2V0TG9nZ2VkSW4sIGxvYWRDb250YWN0cywgbG9hZENoYW5uZWxzIH0gZnJvbSAnLi4vbGliL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW5TY3JlZW4oKSB7XG4gIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IHVzZVN0YXRlPCdjaG9pY2UnIHwgJ2dlbmVyYXRlJyB8ICdpbXBvcnQnPignY2hvaWNlJyk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRLZXlzLCBzZXRHZW5lcmF0ZWRLZXlzXSA9IHVzZVN0YXRlPHsgcHJpdmF0ZUtleTogc3RyaW5nOyBwdWJsaWNLZXk6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbXBvcnRLZXksIHNldEltcG9ydEtleV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2F2ZWRLZXksIHNldFNhdmVkS2V5XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBrZXlzID0gbm9zdHJDbGllbnQuZ2VuZXJhdGVLZXlzKCk7XG4gICAgc2V0R2VuZXJhdGVkS2V5cyhrZXlzKTtcbiAgICBzZXRNb2RlKCdnZW5lcmF0ZScpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvcHlLZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFnZW5lcmF0ZWRLZXlzKSByZXR1cm47XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoZ2VuZXJhdGVkS2V5cy5wcml2YXRlS2V5KTtcbiAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb25maXJtR2VuZXJhdGVkID0gKCkgPT4ge1xuICAgIGlmICghZ2VuZXJhdGVkS2V5cykgcmV0dXJuO1xuICAgIG5vc3RyQ2xpZW50LmxvZ2luKGdlbmVyYXRlZEtleXMucHJpdmF0ZUtleSk7XG4gICAgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgbG9hZENvbnRhY3RzKCk7XG4gICAgbG9hZENoYW5uZWxzKCk7XG4gICAgc2V0TG9nZ2VkSW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1wb3J0ID0gKCkgPT4ge1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBjb25zdCBrZXkgPSBpbXBvcnRLZXkudHJpbSgpLnJlcGxhY2UoL15uc2VjMS8sICcnKTtcbiAgICBpZiAoIW5vc3RyQ2xpZW50LmlzVmFsaWRIZXhLZXkoa2V5KSkge1xuICAgICAgc2V0RXJyb3IoJ0ludmFsaWQgcHJpdmF0ZSBrZXkuIE11c3QgYmUgNjQgaGV4IGNoYXJhY3RlcnMuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBub3N0ckNsaWVudC5sb2dpbihrZXkpO1xuICAgICAgbm9zdHJDbGllbnQuY29ubmVjdFRvUmVsYXlzKCk7XG4gICAgICBsb2FkQ29udGFjdHMoKTtcbiAgICAgIGxvYWRDaGFubmVscygpO1xuICAgICAgc2V0TG9nZ2VkSW4odHJ1ZSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvZ2luIHdpdGggdGhpcyBrZXkuJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmcgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgb3ZlcmZsb3ctaGlkZGVuIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMS80IGxlZnQtMS80IHctOTYgaC05NiBiZy1hY2NlbnQvNSByb3VuZGVkLWZ1bGwgYmx1ci0zeGxcIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0xLzQgcmlnaHQtMS80IHctOTYgaC05NiBiZy1jeWFuLzUgcm91bmRlZC1mdWxsIGJsdXItM3hsXCIgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwIHctZnVsbCBtYXgtdy1tZFwiXG4gICAgICA+XG4gICAgICAgIHttb2RlID09PSAnY2hvaWNlJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBzY2FsZTogMC44IH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3sgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyB0eXBlOiAnc3ByaW5nJywgc3RpZmZuZXNzOiAyMDAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjAgaC0yMCByb3VuZGVkLTJ4bCBiZy1hY2NlbnQvMTAgYm9yZGVyIGJvcmRlci1hY2NlbnQvMjAgbWItNlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHRleHQtYWNjZW50XCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXRleHQgbWItMlwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5cbiAgICAgICAgICAgICAgTk9TVFIgUDJQXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXNtIG1iLTJcIj5cbiAgICAgICAgICAgICAgRGVjZW50cmFsaXplZC4gRW5jcnlwdGVkLiBDZW5zb3JzaGlwLXJlc2lzdGFudC5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTQgdGV4dC14cyB0ZXh0LXRleHQtbXV0ZWQgbWItOFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxTaGllbGQgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEUyRSBFbmNyeXB0ZWQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBObyBDZW50cmFsIFNlcnZlcjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDIgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45OCB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC01IHB5LTQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5HZW5lcmF0ZSBOZXcgSWRlbnRpdHk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTcwXCI+Q3JlYXRlIGEgbmV3IGtleXBhaXI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TW9kZSgnaW1wb3J0Jyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTUgcHktNCBiZy1iZy10ZXJ0aWFyeSBob3ZlcjpiZy1iZy1ob3ZlciBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMb2dJbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtdGV4dC1zZWNvbmRhcnlcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PkltcG9ydCBQcml2YXRlIEtleTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZFwiPlVzZSBleGlzdGluZyBOb3N0ciBpZGVudGl0eTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7bW9kZSA9PT0gJ2dlbmVyYXRlJyAmJiBnZW5lcmF0ZWRLZXlzICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdjaG9pY2UnKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdGV4dC1zbSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLXhsIGJnLWdyZWVuLzEwIGJvcmRlciBib3JkZXItZ3JlZW4vMjAgbWItNFwiPlxuICAgICAgICAgICAgICAgIDxLZXkgY2xhc3NOYW1lPVwidy03IGgtNyB0ZXh0LWdyZWVuXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXRleHRcIiBzdHlsZT17eyBmb250RmFtaWx5OiAnU3BhY2UgR3JvdGVzaycgfX0+WW91ciBOZXcgSWRlbnRpdHk8L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtc2Vjb25kYXJ5IHRleHQteHMgbXQtMVwiPlNhdmUgeW91ciBwcml2YXRlIGtleSBzZWN1cmVseSE8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtbXV0ZWQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIG1iLTEgYmxvY2tcIj5QdWJsaWMgS2V5PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIHRleHQteHMgdGV4dC10ZXh0LXNlY29uZGFyeSBmb250LW1vbm8gYnJlYWstYWxsXCI+XG4gICAgICAgICAgICAgICAgICB7Z2VuZXJhdGVkS2V5cy5wdWJsaWNLZXl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBtYi0xIGJsb2NrXCI+UHJpdmF0ZSBLZXkgKFNFQ1JFVCk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLWRpbSBib3JkZXIgYm9yZGVyLXJlZC8yMCByb3VuZGVkLWxnIHAtMyB0ZXh0LXhzIHRleHQtcmVkIGZvbnQtbW9ubyBicmVhay1hbGxcIj5cbiAgICAgICAgICAgICAgICAgIHtnZW5lcmF0ZWRLZXlzLnByaXZhdGVLZXl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb3B5S2V5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBweC00IHB5LTMgYmctYmctdGVydGlhcnkgaG92ZXI6YmctYmctaG92ZXIgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXNtIHRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y29waWVkID8gPENoZWNrIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlblwiIC8+IDogPENvcHkgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+fVxuICAgICAgICAgICAgICAgIHtjb3BpZWQgPyAnQ29waWVkIScgOiAnQ29weSBQcml2YXRlIEtleSd9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtzYXZlZEtleX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNhdmVkS2V5KGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBhY2NlbnQtYWNjZW50XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIEkgaGF2ZSBzYXZlZCBteSBwcml2YXRlIGtleSBzZWN1cmVseVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4wMiB9fVxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybUdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNhdmVkS2V5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC01IHB5LTQgYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFbnRlciBNZXNzZW5nZXJcbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge21vZGUgPT09ICdpbXBvcnQnICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKCdjaG9pY2UnKX0gY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdGV4dC1zbSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLXhsIGJnLWFjY2VudC8xMCBib3JkZXIgYm9yZGVyLWFjY2VudC8yMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgPExvZ0luIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1hY2NlbnRcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5JbXBvcnQgS2V5PC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LXhzIG10LTFcIj5FbnRlciB5b3VyIE5vc3RyIHByaXZhdGUga2V5IChoZXgpPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17aW1wb3J0S2V5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0SW1wb3J0S2V5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgNjQtY2hhcmFjdGVyIGhleCBwcml2YXRlIGtleS4uLlwiXG4gICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIHRleHQtc20gdGV4dC10ZXh0IGZvbnQtbW9ubyByZXNpemUtbm9uZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQgdGV4dC14c1wiPntlcnJvcn08L3A+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAyIH19XG4gICAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTggfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVJbXBvcnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTUgcHktNCBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIExvZ2luXG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9tb3Rpb24uZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwibW90aW9uIiwiS2V5IiwiUGx1cyIsIkxvZ0luIiwiQ29weSIsIkNoZWNrIiwiU2hpZWxkIiwiWmFwIiwiR2xvYmUiLCJub3N0ckNsaWVudCIsInNldExvZ2dlZEluIiwibG9hZENvbnRhY3RzIiwibG9hZENoYW5uZWxzIiwiTG9naW5TY3JlZW4iLCJtb2RlIiwic2V0TW9kZSIsImdlbmVyYXRlZEtleXMiLCJzZXRHZW5lcmF0ZWRLZXlzIiwiaW1wb3J0S2V5Iiwic2V0SW1wb3J0S2V5IiwiZXJyb3IiLCJzZXRFcnJvciIsImNvcGllZCIsInNldENvcGllZCIsInNhdmVkS2V5Iiwic2V0U2F2ZWRLZXkiLCJoYW5kbGVHZW5lcmF0ZSIsImtleXMiLCJnZW5lcmF0ZUtleXMiLCJoYW5kbGVDb3B5S2V5IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwicHJpdmF0ZUtleSIsInNldFRpbWVvdXQiLCJoYW5kbGVDb25maXJtR2VuZXJhdGVkIiwibG9naW4iLCJjb25uZWN0VG9SZWxheXMiLCJoYW5kbGVJbXBvcnQiLCJrZXkiLCJ0cmltIiwicmVwbGFjZSIsImlzVmFsaWRIZXhLZXkiLCJkaXYiLCJjbGFzc05hbWUiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwic2NhbGUiLCJ0cmFuc2l0aW9uIiwidHlwZSIsInN0aWZmbmVzcyIsImgxIiwic3R5bGUiLCJmb250RmFtaWx5IiwicCIsInNwYW4iLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJvbkNsaWNrIiwiaDIiLCJsYWJlbCIsInB1YmxpY0tleSIsImlucHV0IiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwidGV4dGFyZWEiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwicm93cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/LoginScreen.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Sidebar.tsx":
/*!************************************!*\
  !*** ./src/components/Sidebar.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/radio.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/user-plus.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/camera.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/wifi.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,Check,Copy,Hash,LogOut,MessageCircle,Radio,Search,Settings,Trash2,UserPlus,Wifi,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _lib_nostr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/nostr */ \"(ssr)/./src/lib/nostr.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/store */ \"(ssr)/./src/lib/store.ts\");\n/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Avatar */ \"(ssr)/./src/components/Avatar.tsx\");\n\n\n\n\n\n\n\nfunction Sidebar() {\n    const { contacts, channels, activeChat, showSidebar } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.useAppState)();\n    const [showAddContact, setShowAddContact] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showProfile, setShowProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCreateChannel, setShowCreateChannel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newContactKey, setNewContactKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newContactName, setNewContactName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChannelName, setNewChannelName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChannelAbout, setNewChannelAbout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [joinChannelId, setJoinChannelId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newRelay, setNewRelay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [profileName, setProfileName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileAbout, setProfileAbout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profilePicture, setProfilePicture] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileSaving, setProfileSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [addError, setAddError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const u1 = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onConnection(()=>setTick((t)=>t + 1));\n        const u2 = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onChannel((channel)=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(channel));\n        return ()=>{\n            u1();\n            u2();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsub = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.onProfile((pubkey, profile)=>{\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.updateContactProfile)(pubkey, profile.name, profile.picture, profile.about);\n            if (pubkey === _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey) {\n                setProfileName(profile.name || \"\");\n                setProfileAbout(profile.about || \"\");\n                setProfilePicture(profile.picture || \"\");\n            }\n        });\n        return unsub;\n    }, []);\n    const handleAddContact = ()=>{\n        setAddError(\"\");\n        const key = newContactKey.trim();\n        if (!_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.isValidHexKey(key)) {\n            setAddError(\"Invalid public key. Expected 64-char hex.\");\n            return;\n        }\n        if (key === _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey) {\n            setAddError(\"You cannot add yourself.\");\n            return;\n        }\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addContact)(key, newContactName.trim() || undefined);\n        setNewContactKey(\"\");\n        setNewContactName(\"\");\n        setShowAddContact(false);\n    };\n    const handleCreateChannel = async ()=>{\n        const name = newChannelName.trim();\n        if (!name) return;\n        try {\n            const channel = await _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.createChannel(name, newChannelAbout.trim());\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(channel);\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channel.id}`);\n            setNewChannelName(\"\");\n            setNewChannelAbout(\"\");\n            setShowCreateChannel(false);\n        } catch  {\n        // ignore\n        }\n    };\n    const handleJoinChannel = ()=>{\n        const channelId = joinChannelId.trim();\n        if (!channelId) return;\n        const known = channels.find((c)=>c.id === channelId);\n        if (!known) {\n            const localChannel = {\n                id: channelId,\n                name: `channel-${channelId.slice(0, 8)}`,\n                createdBy: \"\",\n                createdAt: Date.now()\n            };\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.addChannel)(localChannel);\n        }\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channelId}`);\n        setJoinChannelId(\"\");\n    };\n    const handleCopyPubkey = async ()=>{\n        await navigator.clipboard.writeText(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 1800);\n    };\n    const handleOpenProfile = ()=>{\n        const p = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getProfile(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey);\n        setProfileName(p?.name || \"\");\n        setProfileAbout(p?.about || \"\");\n        setProfilePicture(p?.picture || \"\");\n        setShowProfile(true);\n    };\n    const handleSaveProfile = async ()=>{\n        setProfileSaving(true);\n        try {\n            await _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.updateProfile({\n                name: profileName,\n                about: profileAbout,\n                picture: profilePicture\n            });\n        } catch  {\n        // ignore\n        }\n        setProfileSaving(false);\n        setShowProfile(false);\n    };\n    const handleAvatarUpload = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        if (file.size > 200 * 1024) return;\n        const reader = new FileReader();\n        reader.onload = ()=>setProfilePicture(reader.result);\n        reader.readAsDataURL(file);\n    };\n    const handleAddRelay = ()=>{\n        let url = newRelay.trim();\n        if (!url) return;\n        if (!url.startsWith(\"wss://\") && !url.startsWith(\"ws://\")) url = `wss://${url}`;\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.addRelay(url);\n        setNewRelay(\"\");\n        setTick((t)=>t + 1);\n    };\n    const handleLogout = ()=>{\n        _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.logout();\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setLoggedIn)(false);\n    };\n    const filteredContacts = contacts.filter((c)=>{\n        if (!searchQuery) return true;\n        const q = searchQuery.toLowerCase();\n        return c.name?.toLowerCase().includes(q) || c.pubkey.includes(q);\n    }).sort((a, b)=>(b.lastMessageTime || 0) - (a.lastMessageTime || 0));\n    const filteredChannels = channels.filter((c)=>{\n        if (!searchQuery) return true;\n        const q = searchQuery.toLowerCase();\n        return c.name.toLowerCase().includes(q) || c.id.includes(q);\n    });\n    const connectedCount = _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.connectedRelayCount;\n    if (!showSidebar) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: _lib_store__WEBPACK_IMPORTED_MODULE_3__.toggleSidebar,\n            className: \"fixed top-4 left-4 z-50 lg:hidden bg-bg-secondary border border-border rounded-lg p-2 text-text-secondary hover:text-text\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                className: \"w-5 h-5\"\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n            lineNumber: 174,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                initial: {\n                    x: -320\n                },\n                animate: {\n                    x: 0\n                },\n                className: \"w-full md:w-80 h-full bg-bg-secondary border-r border-border flex flex-col shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 border-b border-border\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                className: \"text-lg font-bold text-text\",\n                                                style: {\n                                                    fontFamily: \"Space Grotesk\"\n                                                },\n                                                children: \"NOSTR MESH\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 189,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                        className: `w-3 h-3 ${connectedCount > 0 ? \"text-green\" : \"text-red\"}`\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 191,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: connectedCount > 0 ? \"text-green\" : \"text-red\",\n                                                        children: connectedCount\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 192,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 190,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowAddContact(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Add contact\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 196,\n                                                    columnNumber: 182\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 196,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowCreateChannel(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Create channel\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 197,\n                                                    columnNumber: 188\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 197,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowSettings(true),\n                                                className: \"p-2 rounded-lg hover:bg-bg-hover text-text-secondary hover:text-text transition-colors\",\n                                                title: \"Settings\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 198,\n                                                    columnNumber: 177\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 198,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 195,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleOpenProfile,\n                                className: \"w-full flex items-center gap-2.5 px-2 py-2 bg-bg-tertiary hover:bg-bg-hover rounded-lg transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        pubkey: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey,\n                                        name: profileName,\n                                        picture: profilePicture,\n                                        size: \"sm\",\n                                        showBorder: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 203,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-w-0 text-left\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-medium text-text truncate\",\n                                                children: profileName || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 205,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-[10px] text-text-muted font-mono truncate\",\n                                                children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 204,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            handleCopyPubkey();\n                                        },\n                                        className: \"p-1 rounded hover:bg-bg-active transition-colors\",\n                                        title: \"Copy key\",\n                                        children: copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-3 h-3 text-green\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 25\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-3 h-3 text-text-muted\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 68\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 202,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative mt-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 214,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        value: searchQuery,\n                                        onChange: (e)=>setSearchQuery(e.target.value),\n                                        placeholder: \"Search chats/channels...\",\n                                        className: \"w-full pl-9 pr-3 py-2 bg-bg-tertiary border border-border rounded-lg text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 213,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pt-3 pb-1 text-[10px] uppercase tracking-wider text-text-muted\",\n                                children: \"Contacts\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 220,\n                                columnNumber: 11\n                            }, this),\n                            filteredContacts.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 text-xs text-text-muted\",\n                                children: \"No contacts yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 222,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: filteredContacts.map((contact)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContactItem, {\n                                        contact: contact,\n                                        isActive: activeChat === contact.pubkey,\n                                        onClick: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(contact.pubkey),\n                                        onRemove: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.removeContact)(contact.pubkey)\n                                    }, contact.pubkey, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 226,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 224,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pt-4 pb-1 text-[10px] uppercase tracking-wider text-text-muted\",\n                                children: \"Channels\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 237,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 pb-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: joinChannelId,\n                                            onChange: (e)=>setJoinChannelId(e.target.value),\n                                            placeholder: \"Channel ID\",\n                                            className: \"flex-1 bg-bg-tertiary border border-border rounded-lg px-2.5 py-2 text-xs text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 240,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleJoinChannel,\n                                            className: \"px-2.5 py-2 bg-accent hover:bg-accent-hover rounded-lg text-xs text-white\",\n                                            children: \"Join\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                    lineNumber: 239,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 238,\n                                columnNumber: 11\n                            }, this),\n                            filteredChannels.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 text-xs text-text-muted\",\n                                children: \"No channels yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 245,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1\",\n                                children: filteredChannels.map((channel)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>(0,_lib_store__WEBPACK_IMPORTED_MODULE_3__.setActiveChat)(`channel:${channel.id}`),\n                                        className: `w-full flex items-center gap-2 px-4 py-2.5 text-left transition-colors ${activeChat === `channel:${channel.id}` ? \"bg-accent/10 border-r-2 border-accent\" : \"hover:bg-bg-hover\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4 text-cyan shrink-0\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 254,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-text truncate\",\n                                                        children: channel.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 256,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-[10px] text-text-muted font-mono truncate\",\n                                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(channel.id)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 257,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 255,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, channel.id, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 249,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 219,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 185,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showAddContact && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowAddContact(false),\n                    title: \"Add Contact\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newContactKey,\n                                onChange: (e)=>setNewContactKey(e.target.value),\n                                placeholder: \"Public key (64 hex)\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 270,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newContactName,\n                                onChange: (e)=>setNewContactName(e.target.value),\n                                placeholder: \"Display name (optional)\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 15\n                            }, this),\n                            addError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-red text-xs\",\n                                children: addError\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 272,\n                                columnNumber: 28\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleAddContact,\n                                className: \"w-full px-4 py-3 bg-accent hover:bg-accent-hover text-white rounded-lg text-sm font-medium transition-colors\",\n                                children: \"Add\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 273,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 268,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 266,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showCreateChannel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowCreateChannel(false),\n                    title: \"Create Channel\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: newChannelName,\n                                onChange: (e)=>setNewChannelName(e.target.value),\n                                placeholder: \"Channel name\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: newChannelAbout,\n                                onChange: (e)=>setNewChannelAbout(e.target.value),\n                                rows: 3,\n                                placeholder: \"About channel\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleCreateChannel,\n                                className: \"w-full px-4 py-3 bg-cyan/20 hover:bg-cyan/30 text-cyan rounded-lg text-sm font-medium transition-colors\",\n                                children: \"Create\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 281,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 279,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showProfile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowProfile(false),\n                    title: \"My Profile\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative group\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            pubkey: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey,\n                                            name: profileName,\n                                            picture: profilePicture,\n                                            size: \"xl\",\n                                            showBorder: true\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"w-6 h-6 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 299,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    accept: \"image/*\",\n                                                    className: \"hidden\",\n                                                    onChange: handleAvatarUpload\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                    lineNumber: 300,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                            lineNumber: 298,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                    lineNumber: 296,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: profileName,\n                                onChange: (e)=>setProfileName(e.target.value),\n                                placeholder: \"Name\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: profileAbout,\n                                onChange: (e)=>setProfileAbout(e.target.value),\n                                rows: 2,\n                                placeholder: \"About\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50 resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: profilePicture,\n                                onChange: (e)=>setProfilePicture(e.target.value),\n                                placeholder: \"Avatar URL\",\n                                className: \"w-full bg-bg-tertiary border border-border rounded-lg px-3 py-2.5 text-sm text-text placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 306,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSaveProfile,\n                                disabled: profileSaving,\n                                className: \"w-full px-4 py-3 bg-accent hover:bg-accent-hover disabled:opacity-50 text-white rounded-lg text-sm font-medium transition-colors\",\n                                children: profileSaving ? \"Saving...\" : \"Save\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 307,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 293,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 291,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                children: showSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Modal, {\n                    onClose: ()=>setShowSettings(false),\n                    title: \"Settings\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4 max-h-[70vh] overflow-y-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-text-muted uppercase tracking-wider mb-2 block flex items-center gap-1.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 318,\n                                                columnNumber: 122\n                                            }, this),\n                                            \" Relays\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 318,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-1 mb-2\",\n                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.relays.map((relay)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between px-3 py-2 bg-bg-tertiary rounded-lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: `w-2 h-2 rounded-full ${_lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getRelayStatus(relay) === \"connected\" ? \"bg-green\" : _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.getRelayStatus(relay) === \"connecting\" ? \"bg-yellow\" : \"bg-red\"}`\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                                lineNumber: 323,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-text-secondary font-mono\",\n                                                                children: relay.replace(\"wss://\", \"\")\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                                lineNumber: 324,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 322,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.removeRelay(relay);\n                                                            setTick((t)=>t + 1);\n                                                        },\n                                                        className: \"text-text-muted hover:text-red transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                            lineNumber: 326,\n                                                            columnNumber: 165\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                        lineNumber: 326,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, relay, true, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 321,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 319,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: newRelay,\n                                                onChange: (e)=>setNewRelay(e.target.value),\n                                                onKeyDown: (e)=>e.key === \"Enter\" && handleAddRelay(),\n                                                placeholder: \"wss://relay.example.com\",\n                                                className: \"flex-1 bg-bg-tertiary border border-border rounded-lg px-3 py-2 text-xs text-text font-mono placeholder:text-text-muted focus:outline-none focus:border-accent/50\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 331,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleAddRelay,\n                                                className: \"px-3 py-2 bg-accent hover:bg-accent-hover text-white rounded-lg text-xs transition-colors\",\n                                                children: \"+\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                                lineNumber: 332,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 330,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 317,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-xs text-text-muted uppercase tracking-wider mb-1 block\",\n                                        children: \"Public key\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-bg-tertiary rounded-lg p-3 text-xs text-text-secondary font-mono break-all\",\n                                        children: _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.publicKey\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 338,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleLogout,\n                                className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-dim hover:bg-red/20 border border-red/20 text-red rounded-lg text-sm transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                        lineNumber: 341,\n                                        columnNumber: 208\n                                    }, this),\n                                    \" Logout\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 341,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 316,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 315,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 313,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction ContactItem({ contact, isActive, onClick, onRemove }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `group flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors relative ${isActive ? \"bg-accent/10 border-r-2 border-accent\" : \"hover:bg-bg-hover\"}`,\n        onClick: onClick,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Avatar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                pubkey: contact.pubkey,\n                name: contact.name,\n                picture: contact.picture,\n                size: \"md\",\n                showBorder: true\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 353,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium text-text truncate\",\n                                children: contact.name || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(contact.pubkey)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 356,\n                                columnNumber: 11\n                            }, this),\n                            contact.lastMessageTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] text-text-muted shrink-0 ml-2\",\n                                children: formatTime(contact.lastMessageTime)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 357,\n                                columnNumber: 39\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 355,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-text-muted truncate\",\n                                children: contact.lastMessage || _lib_nostr__WEBPACK_IMPORTED_MODULE_2__.nostrClient.shortenKey(contact.pubkey)\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 11\n                            }, this),\n                            (contact.unread || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 shrink-0 bg-accent text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center\",\n                                children: contact.unread\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 361,\n                                columnNumber: 41\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                        lineNumber: 359,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 354,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onRemove();\n                },\n                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-lg bg-red-dim text-red opacity-0 group-hover:opacity-100 hover:bg-red/20 transition-all\",\n                title: \"Remove\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                    className: \"w-3 h-3\"\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 364,\n                    columnNumber: 238\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                lineNumber: 364,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n        lineNumber: 352,\n        columnNumber: 5\n    }, this);\n}\nfunction Modal({ children, onClose, title }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n        initial: {\n            opacity: 0\n        },\n        animate: {\n            opacity: 1\n        },\n        exit: {\n            opacity: 0\n        },\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n            initial: {\n                scale: 0.95,\n                opacity: 0\n            },\n            animate: {\n                scale: 1,\n                opacity: 1\n            },\n            exit: {\n                scale: 0.95,\n                opacity: 0\n            },\n            onClick: (e)=>e.stopPropagation(),\n            className: \"w-full max-w-md bg-bg-secondary border border-border rounded-xl p-5\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-bold text-text\",\n                            style: {\n                                fontFamily: \"Space Grotesk\"\n                            },\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                            lineNumber: 374,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-1 rounded-lg hover:bg-bg-hover text-text-secondary\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_Check_Copy_Hash_LogOut_MessageCircle_Radio_Search_Settings_Trash2_UserPlus_Wifi_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                                lineNumber: 375,\n                                columnNumber: 102\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                            lineNumber: 375,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n                    lineNumber: 373,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n            lineNumber: 372,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Sidebar.tsx\",\n        lineNumber: 371,\n        columnNumber: 5\n    }, this);\n}\nfunction formatTime(ts) {\n    const d = new Date(ts);\n    const now = new Date();\n    const diff = now.getTime() - d.getTime();\n    if (diff < 86400000 && d.getDate() === now.getDate()) return d.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n    });\n    if (diff < 604800000) return d.toLocaleDateString(\"en-US\", {\n        weekday: \"short\"\n    });\n    return d.toLocaleDateString(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUl6RixLQUFLd0Y7SUFDbkIsTUFBTXZGLE1BQU0sSUFBSUQ7SUFDaEIsTUFBTTBGLE9BQU96RixJQUFJMEYsT0FBTyxLQUFLRixFQUFFRSxPQUFPO0lBQ3RDLElBQUlELE9BQU8sWUFBWUQsRUFBRUcsT0FBTyxPQUFPM0YsSUFBSTJGLE9BQU8sSUFBSSxPQUFPSCxFQUFFSSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUU7UUFBRUMsTUFBTTtRQUFXQyxRQUFRO0lBQVU7SUFDM0gsSUFBSUwsT0FBTyxXQUFXLE9BQU9ELEVBQUVPLGtCQUFrQixDQUFDLFNBQVM7UUFBRUMsU0FBUztJQUFRO0lBQzlFLE9BQU9SLEVBQUVPLGtCQUFrQixDQUFDLFNBQVM7UUFBRUUsT0FBTztRQUFTQyxLQUFLO0lBQVU7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3g/NTU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IENhbWVyYSwgQ2hlY2ssIENvcHksIEhhc2gsIExvZ091dCwgTWVzc2FnZUNpcmNsZSwgUmFkaW8sIFNlYXJjaCwgU2V0dGluZ3MsIFRyYXNoMiwgVXNlclBsdXMsIFdpZmksIFggfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgbm9zdHJDbGllbnQsIHR5cGUgQ2hhbm5lbCwgdHlwZSBDb250YWN0IH0gZnJvbSAnLi4vbGliL25vc3RyJztcbmltcG9ydCB7XG4gIGFkZENoYW5uZWwsXG4gIGFkZENvbnRhY3QsXG4gIHJlbW92ZUNvbnRhY3QsXG4gIHNldEFjdGl2ZUNoYXQsXG4gIHNldExvZ2dlZEluLFxuICB0b2dnbGVTaWRlYmFyLFxuICB1cGRhdGVDb250YWN0UHJvZmlsZSxcbiAgdXNlQXBwU3RhdGUsXG59IGZyb20gJy4uL2xpYi9zdG9yZSc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJy4vQXZhdGFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2lkZWJhcigpIHtcbiAgY29uc3QgeyBjb250YWN0cywgY2hhbm5lbHMsIGFjdGl2ZUNoYXQsIHNob3dTaWRlYmFyIH0gPSB1c2VBcHBTdGF0ZSgpO1xuICBjb25zdCBbc2hvd0FkZENvbnRhY3QsIHNldFNob3dBZGRDb250YWN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQcm9maWxlLCBzZXRTaG93UHJvZmlsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q3JlYXRlQ2hhbm5lbCwgc2V0U2hvd0NyZWF0ZUNoYW5uZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3Q29udGFjdEtleSwgc2V0TmV3Q29udGFjdEtleV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDb250YWN0TmFtZSwgc2V0TmV3Q29udGFjdE5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Q2hhbm5lbE5hbWUsIHNldE5ld0NoYW5uZWxOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0NoYW5uZWxBYm91dCwgc2V0TmV3Q2hhbm5lbEFib3V0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2pvaW5DaGFubmVsSWQsIHNldEpvaW5DaGFubmVsSWRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld1JlbGF5LCBzZXROZXdSZWxheV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9maWxlTmFtZSwgc2V0UHJvZmlsZU5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbcHJvZmlsZUFib3V0LCBzZXRQcm9maWxlQWJvdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbcHJvZmlsZVBpY3R1cmUsIHNldFByb2ZpbGVQaWN0dXJlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Byb2ZpbGVTYXZpbmcsIHNldFByb2ZpbGVTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWRkRXJyb3IsIHNldEFkZEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgWywgc2V0VGlja10gPSB1c2VTdGF0ZSgwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHUxID0gbm9zdHJDbGllbnQub25Db25uZWN0aW9uKCgpID0+IHNldFRpY2sodCA9PiB0ICsgMSkpO1xuICAgIGNvbnN0IHUyID0gbm9zdHJDbGllbnQub25DaGFubmVsKGNoYW5uZWwgPT4gYWRkQ2hhbm5lbChjaGFubmVsKSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHUxKCk7XG4gICAgICB1MigpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3ViID0gbm9zdHJDbGllbnQub25Qcm9maWxlKChwdWJrZXksIHByb2ZpbGUpID0+IHtcbiAgICAgIHVwZGF0ZUNvbnRhY3RQcm9maWxlKHB1YmtleSwgcHJvZmlsZS5uYW1lLCBwcm9maWxlLnBpY3R1cmUsIHByb2ZpbGUuYWJvdXQpO1xuICAgICAgaWYgKHB1YmtleSA9PT0gbm9zdHJDbGllbnQucHVibGljS2V5KSB7XG4gICAgICAgIHNldFByb2ZpbGVOYW1lKHByb2ZpbGUubmFtZSB8fCAnJyk7XG4gICAgICAgIHNldFByb2ZpbGVBYm91dChwcm9maWxlLmFib3V0IHx8ICcnKTtcbiAgICAgICAgc2V0UHJvZmlsZVBpY3R1cmUocHJvZmlsZS5waWN0dXJlIHx8ICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdW5zdWI7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVBZGRDb250YWN0ID0gKCkgPT4ge1xuICAgIHNldEFkZEVycm9yKCcnKTtcbiAgICBjb25zdCBrZXkgPSBuZXdDb250YWN0S2V5LnRyaW0oKTtcbiAgICBpZiAoIW5vc3RyQ2xpZW50LmlzVmFsaWRIZXhLZXkoa2V5KSkge1xuICAgICAgc2V0QWRkRXJyb3IoJ0ludmFsaWQgcHVibGljIGtleS4gRXhwZWN0ZWQgNjQtY2hhciBoZXguJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleSkge1xuICAgICAgc2V0QWRkRXJyb3IoJ1lvdSBjYW5ub3QgYWRkIHlvdXJzZWxmLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZGRDb250YWN0KGtleSwgbmV3Q29udGFjdE5hbWUudHJpbSgpIHx8IHVuZGVmaW5lZCk7XG4gICAgc2V0TmV3Q29udGFjdEtleSgnJyk7XG4gICAgc2V0TmV3Q29udGFjdE5hbWUoJycpO1xuICAgIHNldFNob3dBZGRDb250YWN0KGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDcmVhdGVDaGFubmVsID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdDaGFubmVsTmFtZS50cmltKCk7XG4gICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNoYW5uZWwgPSBhd2FpdCBub3N0ckNsaWVudC5jcmVhdGVDaGFubmVsKG5hbWUsIG5ld0NoYW5uZWxBYm91dC50cmltKCkpO1xuICAgICAgYWRkQ2hhbm5lbChjaGFubmVsKTtcbiAgICAgIHNldEFjdGl2ZUNoYXQoYGNoYW5uZWw6JHtjaGFubmVsLmlkfWApO1xuICAgICAgc2V0TmV3Q2hhbm5lbE5hbWUoJycpO1xuICAgICAgc2V0TmV3Q2hhbm5lbEFib3V0KCcnKTtcbiAgICAgIHNldFNob3dDcmVhdGVDaGFubmVsKGZhbHNlKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVKb2luQ2hhbm5lbCA9ICgpID0+IHtcbiAgICBjb25zdCBjaGFubmVsSWQgPSBqb2luQ2hhbm5lbElkLnRyaW0oKTtcbiAgICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGtub3duID0gY2hhbm5lbHMuZmluZChjID0+IGMuaWQgPT09IGNoYW5uZWxJZCk7XG4gICAgaWYgKCFrbm93bikge1xuICAgICAgY29uc3QgbG9jYWxDaGFubmVsOiBDaGFubmVsID0ge1xuICAgICAgICBpZDogY2hhbm5lbElkLFxuICAgICAgICBuYW1lOiBgY2hhbm5lbC0ke2NoYW5uZWxJZC5zbGljZSgwLCA4KX1gLFxuICAgICAgICBjcmVhdGVkQnk6ICcnLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICB9O1xuICAgICAgYWRkQ2hhbm5lbChsb2NhbENoYW5uZWwpO1xuICAgIH1cbiAgICBzZXRBY3RpdmVDaGF0KGBjaGFubmVsOiR7Y2hhbm5lbElkfWApO1xuICAgIHNldEpvaW5DaGFubmVsSWQoJycpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvcHlQdWJrZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQobm9zdHJDbGllbnQucHVibGljS2V5KTtcbiAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAxODAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVPcGVuUHJvZmlsZSA9ICgpID0+IHtcbiAgICBjb25zdCBwID0gbm9zdHJDbGllbnQuZ2V0UHJvZmlsZShub3N0ckNsaWVudC5wdWJsaWNLZXkpO1xuICAgIHNldFByb2ZpbGVOYW1lKHA/Lm5hbWUgfHwgJycpO1xuICAgIHNldFByb2ZpbGVBYm91dChwPy5hYm91dCB8fCAnJyk7XG4gICAgc2V0UHJvZmlsZVBpY3R1cmUocD8ucGljdHVyZSB8fCAnJyk7XG4gICAgc2V0U2hvd1Byb2ZpbGUodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZVByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0UHJvZmlsZVNhdmluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbm9zdHJDbGllbnQudXBkYXRlUHJvZmlsZSh7IG5hbWU6IHByb2ZpbGVOYW1lLCBhYm91dDogcHJvZmlsZUFib3V0LCBwaWN0dXJlOiBwcm9maWxlUGljdHVyZSB9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgICBzZXRQcm9maWxlU2F2aW5nKGZhbHNlKTtcbiAgICBzZXRTaG93UHJvZmlsZShmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXZhdGFyVXBsb2FkID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgaWYgKGZpbGUuc2l6ZSA+IDIwMCAqIDEwMjQpIHJldHVybjtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiBzZXRQcm9maWxlUGljdHVyZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkUmVsYXkgPSAoKSA9PiB7XG4gICAgbGV0IHVybCA9IG5ld1JlbGF5LnRyaW0oKTtcbiAgICBpZiAoIXVybCkgcmV0dXJuO1xuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoJ3dzczovLycpICYmICF1cmwuc3RhcnRzV2l0aCgnd3M6Ly8nKSkgdXJsID0gYHdzczovLyR7dXJsfWA7XG4gICAgbm9zdHJDbGllbnQuYWRkUmVsYXkodXJsKTtcbiAgICBzZXROZXdSZWxheSgnJyk7XG4gICAgc2V0VGljayh0ID0+IHQgKyAxKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVMb2dvdXQgPSAoKSA9PiB7XG4gICAgbm9zdHJDbGllbnQubG9nb3V0KCk7XG4gICAgc2V0TG9nZ2VkSW4oZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGZpbHRlcmVkQ29udGFjdHMgPSBjb250YWN0c1xuICAgIC5maWx0ZXIoYyA9PiB7XG4gICAgICBpZiAoIXNlYXJjaFF1ZXJ5KSByZXR1cm4gdHJ1ZTtcbiAgICAgIGNvbnN0IHEgPSBzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIGMubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fCBjLnB1YmtleS5pbmNsdWRlcyhxKTtcbiAgICB9KVxuICAgIC5zb3J0KChhLCBiKSA9PiAoYi5sYXN0TWVzc2FnZVRpbWUgfHwgMCkgLSAoYS5sYXN0TWVzc2FnZVRpbWUgfHwgMCkpO1xuXG4gIGNvbnN0IGZpbHRlcmVkQ2hhbm5lbHMgPSBjaGFubmVscy5maWx0ZXIoYyA9PiB7XG4gICAgaWYgKCFzZWFyY2hRdWVyeSkgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgcSA9IHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGMubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8IGMuaWQuaW5jbHVkZXMocSk7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbm5lY3RlZENvdW50ID0gbm9zdHJDbGllbnQuY29ubmVjdGVkUmVsYXlDb3VudDtcblxuICBpZiAoIXNob3dTaWRlYmFyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17dG9nZ2xlU2lkZWJhcn1cbiAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgbGVmdC00IHotNTAgbGc6aGlkZGVuIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHAtMiB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dFwiXG4gICAgICA+XG4gICAgICAgIDxNZXNzYWdlQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgeDogLTMyMCB9fSBhbmltYXRlPXt7IHg6IDAgfX0gY2xhc3NOYW1lPVwidy1mdWxsIG1kOnctODAgaC1mdWxsIGJnLWJnLXNlY29uZGFyeSBib3JkZXItciBib3JkZXItYm9yZGVyIGZsZXggZmxleC1jb2wgc2hyaW5rLTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT5OT1NUUiBNRVNIPC9oMT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgPFJhZGlvIGNsYXNzTmFtZT17YHctMyBoLTMgJHtjb25uZWN0ZWRDb3VudCA+IDAgPyAndGV4dC1ncmVlbicgOiAndGV4dC1yZWQnfWB9IC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjb25uZWN0ZWRDb3VudCA+IDAgPyAndGV4dC1ncmVlbicgOiAndGV4dC1yZWQnfT57Y29ubmVjdGVkQ291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZGRDb250YWN0KHRydWUpfSBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1iZy1ob3ZlciB0ZXh0LXRleHQtc2Vjb25kYXJ5IGhvdmVyOnRleHQtdGV4dCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiQWRkIGNvbnRhY3RcIj48VXNlclBsdXMgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0NyZWF0ZUNoYW5uZWwodHJ1ZSl9IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnkgaG92ZXI6dGV4dC10ZXh0IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCJDcmVhdGUgY2hhbm5lbFwiPjxIYXNoIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dTZXR0aW5ncyh0cnVlKX0gY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctYmctaG92ZXIgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIlNldHRpbmdzXCI+PFNldHRpbmdzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZU9wZW5Qcm9maWxlfSBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIuNSBweC0yIHB5LTIgYmctYmctdGVydGlhcnkgaG92ZXI6YmctYmctaG92ZXIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgPEF2YXRhciBwdWJrZXk9e25vc3RyQ2xpZW50LnB1YmxpY0tleX0gbmFtZT17cHJvZmlsZU5hbWV9IHBpY3R1cmU9e3Byb2ZpbGVQaWN0dXJlfSBzaXplPVwic21cIiBzaG93Qm9yZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dCB0cnVuY2F0ZVwiPntwcm9maWxlTmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KG5vc3RyQ2xpZW50LnB1YmxpY0tleSl9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXRleHQtbXV0ZWQgZm9udC1tb25vIHRydW5jYXRlXCI+e25vc3RyQ2xpZW50LnNob3J0ZW5LZXkobm9zdHJDbGllbnQucHVibGljS2V5KX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaGFuZGxlQ29weVB1YmtleSgpOyB9fSBjbGFzc05hbWU9XCJwLTEgcm91bmRlZCBob3ZlcjpiZy1iZy1hY3RpdmUgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIkNvcHkga2V5XCI+XG4gICAgICAgICAgICAgIHtjb3BpZWQgPyA8Q2hlY2sgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWdyZWVuXCIgLz4gOiA8Q29weSBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtdGV4dC1tdXRlZFwiIC8+fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG10LTNcIj5cbiAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB3LTQgaC00IHRleHQtdGV4dC1tdXRlZFwiIC8+XG4gICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3NlYXJjaFF1ZXJ5fSBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNoYXRzL2NoYW5uZWxzLi4uXCIgY2xhc3NOYW1lPVwidy1mdWxsIHBsLTkgcHItMyBweS0yIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB0LTMgcGItMSB0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgdGV4dC10ZXh0LW11dGVkXCI+Q29udGFjdHM8L2Rpdj5cbiAgICAgICAgICB7ZmlsdGVyZWRDb250YWN0cy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZFwiPk5vIGNvbnRhY3RzIHlldC48L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0xXCI+XG4gICAgICAgICAgICAgIHtmaWx0ZXJlZENvbnRhY3RzLm1hcChjb250YWN0ID0+IChcbiAgICAgICAgICAgICAgICA8Q29udGFjdEl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT17Y29udGFjdC5wdWJrZXl9XG4gICAgICAgICAgICAgICAgICBjb250YWN0PXtjb250YWN0fVxuICAgICAgICAgICAgICAgICAgaXNBY3RpdmU9e2FjdGl2ZUNoYXQgPT09IGNvbnRhY3QucHVia2V5fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlQ2hhdChjb250YWN0LnB1YmtleSl9XG4gICAgICAgICAgICAgICAgICBvblJlbW92ZT17KCkgPT4gcmVtb3ZlQ29udGFjdChjb250YWN0LnB1YmtleSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB0LTQgcGItMSB0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgdGV4dC10ZXh0LW11dGVkXCI+Q2hhbm5lbHM8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcGItMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17am9pbkNoYW5uZWxJZH0gb25DaGFuZ2U9e2UgPT4gc2V0Sm9pbkNoYW5uZWxJZChlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiQ2hhbm5lbCBJRFwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTIuNSBweS0yIHRleHQteHMgdGV4dC10ZXh0IGZvbnQtbW9ubyBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUpvaW5DaGFubmVsfSBjbGFzc05hbWU9XCJweC0yLjUgcHktMiBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHJvdW5kZWQtbGcgdGV4dC14cyB0ZXh0LXdoaXRlXCI+Sm9pbjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2ZpbHRlcmVkQ2hhbm5lbHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC14cyB0ZXh0LXRleHQtbXV0ZWRcIj5ObyBjaGFubmVscyB5ZXQuPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMVwiPlxuICAgICAgICAgICAgICB7ZmlsdGVyZWRDaGFubmVscy5tYXAoY2hhbm5lbCA9PiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtjaGFubmVsLmlkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlQ2hhdChgY2hhbm5lbDoke2NoYW5uZWwuaWR9YCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yLjUgdGV4dC1sZWZ0IHRyYW5zaXRpb24tY29sb3JzICR7YWN0aXZlQ2hhdCA9PT0gYGNoYW5uZWw6JHtjaGFubmVsLmlkfWAgPyAnYmctYWNjZW50LzEwIGJvcmRlci1yLTIgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEhhc2ggY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWN5YW4gc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0IHRydW5jYXRlXCI+e2NoYW5uZWwubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBmb250LW1vbm8gdHJ1bmNhdGVcIj57bm9zdHJDbGllbnQuc2hvcnRlbktleShjaGFubmVsLmlkKX08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3Nob3dBZGRDb250YWN0ICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0FkZENvbnRhY3QoZmFsc2UpfSB0aXRsZT1cIkFkZCBDb250YWN0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NvbnRhY3RLZXl9IG9uQ2hhbmdlPXtlID0+IHNldE5ld0NvbnRhY3RLZXkoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlB1YmxpYyBrZXkgKDY0IGhleClcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdDb250YWN0TmFtZX0gb25DaGFuZ2U9e2UgPT4gc2V0TmV3Q29udGFjdE5hbWUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkRpc3BsYXkgbmFtZSAob3B0aW9uYWwpXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAge2FkZEVycm9yICYmIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkIHRleHQteHNcIj57YWRkRXJyb3J9PC9wPn1cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBZGRDb250YWN0fSBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIGJnLWFjY2VudCBob3ZlcjpiZy1hY2NlbnQtaG92ZXIgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIj5BZGQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAge3Nob3dDcmVhdGVDaGFubmVsICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd0NyZWF0ZUNoYW5uZWwoZmFsc2UpfSB0aXRsZT1cIkNyZWF0ZSBDaGFubmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e25ld0NoYW5uZWxOYW1lfSBvbkNoYW5nZT17ZSA9PiBzZXROZXdDaGFubmVsTmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiQ2hhbm5lbCBuYW1lXCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtuZXdDaGFubmVsQWJvdXR9IG9uQ2hhbmdlPXtlID0+IHNldE5ld0NoYW5uZWxBYm91dChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezN9IHBsYWNlaG9sZGVyPVwiQWJvdXQgY2hhbm5lbFwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMi41IHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MCByZXNpemUtbm9uZVwiIC8+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ3JlYXRlQ2hhbm5lbH0gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1jeWFuLzIwIGhvdmVyOmJnLWN5YW4vMzAgdGV4dC1jeWFuIHJvdW5kZWQtbGcgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1wiPkNyZWF0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2hvd1Byb2ZpbGUgJiYgKFxuICAgICAgICAgIDxNb2RhbCBvbkNsb3NlPXsoKSA9PiBzZXRTaG93UHJvZmlsZShmYWxzZSl9IHRpdGxlPVwiTXkgUHJvZmlsZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgcHVia2V5PXtub3N0ckNsaWVudC5wdWJsaWNLZXl9IG5hbWU9e3Byb2ZpbGVOYW1lfSBwaWN0dXJlPXtwcm9maWxlUGljdHVyZX0gc2l6ZT1cInhsXCIgc2hvd0JvcmRlciAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNTAgcm91bmRlZC1mdWxsIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPENhbWVyYSBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgY2xhc3NOYW1lPVwiaGlkZGVuXCIgb25DaGFuZ2U9e2hhbmRsZUF2YXRhclVwbG9hZH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e3Byb2ZpbGVOYW1lfSBvbkNoYW5nZT17ZSA9PiBzZXRQcm9maWxlTmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiTmFtZVwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMi41IHRleHQtc20gdGV4dC10ZXh0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1tdXRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWFjY2VudC81MFwiIC8+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17cHJvZmlsZUFib3V0fSBvbkNoYW5nZT17ZSA9PiBzZXRQcm9maWxlQWJvdXQoZS50YXJnZXQudmFsdWUpfSByb3dzPXsyfSBwbGFjZWhvbGRlcj1cIkFib3V0XCIgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJnLXRlcnRpYXJ5IGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcHgtMyBweS0yLjUgdGV4dC1zbSB0ZXh0LXRleHQgcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwIHJlc2l6ZS1ub25lXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtwcm9maWxlUGljdHVyZX0gb25DaGFuZ2U9e2UgPT4gc2V0UHJvZmlsZVBpY3R1cmUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIkF2YXRhciBVUkxcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmctdGVydGlhcnkgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIuNSB0ZXh0LXNtIHRleHQtdGV4dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtbXV0ZWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1hY2NlbnQvNTBcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNhdmVQcm9maWxlfSBkaXNhYmxlZD17cHJvZmlsZVNhdmluZ30gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIj57cHJvZmlsZVNhdmluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUnfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKX1cbiAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7c2hvd1NldHRpbmdzICYmIChcbiAgICAgICAgICA8TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd1NldHRpbmdzKGZhbHNlKX0gdGl0bGU9XCJTZXR0aW5nc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgbWF4LWgtWzcwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMiBibG9jayBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+PFdpZmkgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IFJlbGF5czwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTEgbWItMlwiPlxuICAgICAgICAgICAgICAgICAge25vc3RyQ2xpZW50LnJlbGF5cy5tYXAocmVsYXkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cmVsYXl9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTIgYmctYmctdGVydGlhcnkgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0yIGgtMiByb3VuZGVkLWZ1bGwgJHtub3N0ckNsaWVudC5nZXRSZWxheVN0YXR1cyhyZWxheSkgPT09ICdjb25uZWN0ZWQnID8gJ2JnLWdyZWVuJyA6IG5vc3RyQ2xpZW50LmdldFJlbGF5U3RhdHVzKHJlbGF5KSA9PT0gJ2Nvbm5lY3RpbmcnID8gJ2JnLXllbGxvdycgOiAnYmctcmVkJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGZvbnQtbW9ub1wiPntyZWxheS5yZXBsYWNlKCd3c3M6Ly8nLCAnJyl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBub3N0ckNsaWVudC5yZW1vdmVSZWxheShyZWxheSk7IHNldFRpY2sodCA9PiB0ICsgMSk7IH19IGNsYXNzTmFtZT1cInRleHQtdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LXJlZCB0cmFuc2l0aW9uLWNvbG9yc1wiPjxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuZXdSZWxheX0gb25DaGFuZ2U9e2UgPT4gc2V0TmV3UmVsYXkoZS50YXJnZXQudmFsdWUpfSBvbktleURvd249e2UgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgaGFuZGxlQWRkUmVsYXkoKX0gcGxhY2Vob2xkZXI9XCJ3c3M6Ly9yZWxheS5leGFtcGxlLmNvbVwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iZy10ZXJ0aWFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXhzIHRleHQtdGV4dCBmb250LW1vbm8gcGxhY2Vob2xkZXI6dGV4dC10ZXh0LW11dGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItYWNjZW50LzUwXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQWRkUmVsYXl9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LWhvdmVyIHRleHQtd2hpdGUgcm91bmRlZC1sZyB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1tdXRlZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMSBibG9ja1wiPlB1YmxpYyBrZXk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmctdGVydGlhcnkgcm91bmRlZC1sZyBwLTMgdGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGZvbnQtbW9ubyBicmVhay1hbGxcIj57bm9zdHJDbGllbnQucHVibGljS2V5fTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHB4LTQgcHktMyBiZy1yZWQtZGltIGhvdmVyOmJnLXJlZC8yMCBib3JkZXIgYm9yZGVyLXJlZC8yMCB0ZXh0LXJlZCByb3VuZGVkLWxnIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIj48TG9nT3V0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiBMb2dvdXQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICA8Lz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ29udGFjdEl0ZW0oeyBjb250YWN0LCBpc0FjdGl2ZSwgb25DbGljaywgb25SZW1vdmUgfTogeyBjb250YWN0OiBDb250YWN0OyBpc0FjdGl2ZTogYm9vbGVhbjsgb25DbGljazogKCkgPT4gdm9pZDsgb25SZW1vdmU6ICgpID0+IHZvaWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBweS0zIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHJlbGF0aXZlICR7aXNBY3RpdmUgPyAnYmctYWNjZW50LzEwIGJvcmRlci1yLTIgYm9yZGVyLWFjY2VudCcgOiAnaG92ZXI6YmctYmctaG92ZXInfWB9IG9uQ2xpY2s9e29uQ2xpY2t9PlxuICAgICAgPEF2YXRhciBwdWJrZXk9e2NvbnRhY3QucHVia2V5fSBuYW1lPXtjb250YWN0Lm5hbWV9IHBpY3R1cmU9e2NvbnRhY3QucGljdHVyZX0gc2l6ZT1cIm1kXCIgc2hvd0JvcmRlciAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0IHRydW5jYXRlXCI+e2NvbnRhY3QubmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KGNvbnRhY3QucHVia2V5KX08L3NwYW4+XG4gICAgICAgICAge2NvbnRhY3QubGFzdE1lc3NhZ2VUaW1lICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtdGV4dC1tdXRlZCBzaHJpbmstMCBtbC0yXCI+e2Zvcm1hdFRpbWUoY29udGFjdC5sYXN0TWVzc2FnZVRpbWUpfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC10ZXh0LW11dGVkIHRydW5jYXRlXCI+e2NvbnRhY3QubGFzdE1lc3NhZ2UgfHwgbm9zdHJDbGllbnQuc2hvcnRlbktleShjb250YWN0LnB1YmtleSl9PC9zcGFuPlxuICAgICAgICAgIHsoY29udGFjdC51bnJlYWQgfHwgMCkgPiAwICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgc2hyaW5rLTAgYmctYWNjZW50IHRleHQtd2hpdGUgdGV4dC1bMTBweF0gZm9udC1ib2xkIHJvdW5kZWQtZnVsbCB3LTUgaC01IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+e2NvbnRhY3QudW5yZWFkfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e2UgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBvblJlbW92ZSgpOyB9fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTEuNSByb3VuZGVkLWxnIGJnLXJlZC1kaW0gdGV4dC1yZWQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOmJnLXJlZC8yMCB0cmFuc2l0aW9uLWFsbFwiIHRpdGxlPVwiUmVtb3ZlXCI+PFRyYXNoMiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz48L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gTW9kYWwoeyBjaGlsZHJlbiwgb25DbG9zZSwgdGl0bGUgfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBvbkNsb3NlOiAoKSA9PiB2b2lkOyB0aXRsZTogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bW90aW9uLmRpdiBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19IGV4aXQ9e3sgb3BhY2l0eTogMCB9fSBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNjAgYmFja2Ryb3AtYmx1ci1zbSBwLTRcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgIDxtb3Rpb24uZGl2IGluaXRpYWw9e3sgc2NhbGU6IDAuOTUsIG9wYWNpdHk6IDAgfX0gYW5pbWF0ZT17eyBzY2FsZTogMSwgb3BhY2l0eTogMSB9fSBleGl0PXt7IHNjYWxlOiAwLjk1LCBvcGFjaXR5OiAwIH19IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0gY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLWJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLXhsIHAtNVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtdGV4dFwiIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdTcGFjZSBHcm90ZXNrJyB9fT57dGl0bGV9PC9oMz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWxnIGhvdmVyOmJnLWJnLWhvdmVyIHRleHQtdGV4dC1zZWNvbmRhcnlcIj48WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbW90aW9uLmRpdj5cbiAgICA8L21vdGlvbi5kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUodHM6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSh0cyk7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gZC5nZXRUaW1lKCk7XG4gIGlmIChkaWZmIDwgODY0MDAwMDAgJiYgZC5nZXREYXRlKCkgPT09IG5vdy5nZXREYXRlKCkpIHJldHVybiBkLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICBpZiAoZGlmZiA8IDYwNDgwMDAwMCkgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgd2Vla2RheTogJ3Nob3J0JyB9KTtcbiAgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiQW5pbWF0ZVByZXNlbmNlIiwibW90aW9uIiwiQ2FtZXJhIiwiQ2hlY2siLCJDb3B5IiwiSGFzaCIsIkxvZ091dCIsIk1lc3NhZ2VDaXJjbGUiLCJSYWRpbyIsIlNlYXJjaCIsIlNldHRpbmdzIiwiVHJhc2gyIiwiVXNlclBsdXMiLCJXaWZpIiwiWCIsIm5vc3RyQ2xpZW50IiwiYWRkQ2hhbm5lbCIsImFkZENvbnRhY3QiLCJyZW1vdmVDb250YWN0Iiwic2V0QWN0aXZlQ2hhdCIsInNldExvZ2dlZEluIiwidG9nZ2xlU2lkZWJhciIsInVwZGF0ZUNvbnRhY3RQcm9maWxlIiwidXNlQXBwU3RhdGUiLCJBdmF0YXIiLCJTaWRlYmFyIiwiY29udGFjdHMiLCJjaGFubmVscyIsImFjdGl2ZUNoYXQiLCJzaG93U2lkZWJhciIsInNob3dBZGRDb250YWN0Iiwic2V0U2hvd0FkZENvbnRhY3QiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJzaG93UHJvZmlsZSIsInNldFNob3dQcm9maWxlIiwic2hvd0NyZWF0ZUNoYW5uZWwiLCJzZXRTaG93Q3JlYXRlQ2hhbm5lbCIsIm5ld0NvbnRhY3RLZXkiLCJzZXROZXdDb250YWN0S2V5IiwibmV3Q29udGFjdE5hbWUiLCJzZXROZXdDb250YWN0TmFtZSIsIm5ld0NoYW5uZWxOYW1lIiwic2V0TmV3Q2hhbm5lbE5hbWUiLCJuZXdDaGFubmVsQWJvdXQiLCJzZXROZXdDaGFubmVsQWJvdXQiLCJqb2luQ2hhbm5lbElkIiwic2V0Sm9pbkNoYW5uZWxJZCIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJuZXdSZWxheSIsInNldE5ld1JlbGF5IiwiY29waWVkIiwic2V0Q29waWVkIiwicHJvZmlsZU5hbWUiLCJzZXRQcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dCIsInNldFByb2ZpbGVBYm91dCIsInByb2ZpbGVQaWN0dXJlIiwic2V0UHJvZmlsZVBpY3R1cmUiLCJwcm9maWxlU2F2aW5nIiwic2V0UHJvZmlsZVNhdmluZyIsImFkZEVycm9yIiwic2V0QWRkRXJyb3IiLCJzZXRUaWNrIiwidTEiLCJvbkNvbm5lY3Rpb24iLCJ0IiwidTIiLCJvbkNoYW5uZWwiLCJjaGFubmVsIiwidW5zdWIiLCJvblByb2ZpbGUiLCJwdWJrZXkiLCJwcm9maWxlIiwibmFtZSIsInBpY3R1cmUiLCJhYm91dCIsInB1YmxpY0tleSIsImhhbmRsZUFkZENvbnRhY3QiLCJrZXkiLCJ0cmltIiwiaXNWYWxpZEhleEtleSIsInVuZGVmaW5lZCIsImhhbmRsZUNyZWF0ZUNoYW5uZWwiLCJjcmVhdGVDaGFubmVsIiwiaWQiLCJoYW5kbGVKb2luQ2hhbm5lbCIsImNoYW5uZWxJZCIsImtub3duIiwiZmluZCIsImMiLCJsb2NhbENoYW5uZWwiLCJzbGljZSIsImNyZWF0ZWRCeSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJoYW5kbGVDb3B5UHVia2V5IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2V0VGltZW91dCIsImhhbmRsZU9wZW5Qcm9maWxlIiwicCIsImdldFByb2ZpbGUiLCJoYW5kbGVTYXZlUHJvZmlsZSIsInVwZGF0ZVByb2ZpbGUiLCJoYW5kbGVBdmF0YXJVcGxvYWQiLCJlIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwic2l6ZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiaGFuZGxlQWRkUmVsYXkiLCJ1cmwiLCJzdGFydHNXaXRoIiwiYWRkUmVsYXkiLCJoYW5kbGVMb2dvdXQiLCJsb2dvdXQiLCJmaWx0ZXJlZENvbnRhY3RzIiwiZmlsdGVyIiwicSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzb3J0IiwiYSIsImIiLCJsYXN0TWVzc2FnZVRpbWUiLCJmaWx0ZXJlZENoYW5uZWxzIiwiY29ubmVjdGVkQ291bnQiLCJjb25uZWN0ZWRSZWxheUNvdW50IiwiYnV0dG9uIiwib25DbGljayIsImNsYXNzTmFtZSIsImRpdiIsImluaXRpYWwiLCJ4IiwiYW5pbWF0ZSIsImgxIiwic3R5bGUiLCJmb250RmFtaWx5Iiwic3BhbiIsInRpdGxlIiwic2hvd0JvcmRlciIsInNob3J0ZW5LZXkiLCJzdG9wUHJvcGFnYXRpb24iLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImxlbmd0aCIsIm1hcCIsImNvbnRhY3QiLCJDb250YWN0SXRlbSIsImlzQWN0aXZlIiwib25SZW1vdmUiLCJNb2RhbCIsIm9uQ2xvc2UiLCJ0ZXh0YXJlYSIsInJvd3MiLCJsYWJlbCIsInR5cGUiLCJhY2NlcHQiLCJkaXNhYmxlZCIsInJlbGF5cyIsInJlbGF5IiwiZ2V0UmVsYXlTdGF0dXMiLCJyZXBsYWNlIiwicmVtb3ZlUmVsYXkiLCJvbktleURvd24iLCJmb3JtYXRUaW1lIiwibGFzdE1lc3NhZ2UiLCJ1bnJlYWQiLCJjaGlsZHJlbiIsIm9wYWNpdHkiLCJleGl0Iiwic2NhbGUiLCJoMyIsInRzIiwiZCIsImRpZmYiLCJnZXRUaW1lIiwiZ2V0RGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwibW9udGgiLCJkYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Sidebar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ThemeProvider.tsx":
/*!******************************************!*\
  !*** ./src/components/ThemeProvider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ ThemeProvider auto */ \n\nfunction ThemeProvider({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_1__.ThemeProvider, {\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/ThemeProvider.tsx\",\n        lineNumber: 7,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVrRTtBQUczRCxTQUFTQSxjQUFjLEVBQUVFLFFBQVEsRUFBRSxHQUFHQyxPQUEyQjtJQUN0RSxxQkFBTyw4REFBQ0Ysc0RBQWtCQTtRQUFFLEdBQUdFLEtBQUs7a0JBQUdEOzs7Ozs7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFjZWhvbGRlci1tb2RlbC0xLy4vc3JjL2NvbXBvbmVudHMvVGhlbWVQcm92aWRlci50c3g/NmY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgVGhlbWVQcm92aWRlciBhcyBOZXh0VGhlbWVzUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCB0eXBlIHsgVGhlbWVQcm92aWRlclByb3BzIH0gZnJvbSBcIm5leHQtdGhlbWVzL2Rpc3QvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogVGhlbWVQcm92aWRlclByb3BzKSB7XG4gIHJldHVybiA8TmV4dFRoZW1lc1Byb3ZpZGVyIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvTmV4dFRoZW1lc1Byb3ZpZGVyPjtcbn1cbiJdLCJuYW1lcyI6WyJUaGVtZVByb3ZpZGVyIiwiTmV4dFRoZW1lc1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJwcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ThemeProvider.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Welcome.tsx":
/*!************************************!*\
  !*** ./src/components/Welcome.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Welcome: () => (/* binding */ Welcome)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sun.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/moon.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AtSign,MessageSquare,Moon,Sun,Users,Zap!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/at-sign.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ Welcome auto */ \n\n\n\nfunction FeatureCard({ icon, title, children, color }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-bg-secondary p-6 rounded-2xl border border-border transform hover:-translate-y-1 transition-transform duration-300 ease-in-out\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-start gap-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `p-2 rounded-lg`,\n                    style: {\n                        backgroundColor: `${color}1A`\n                    },\n                    children: icon\n                }, void 0, false, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 17,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"font-bold text-text text-lg\",\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 21,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-text-secondary mt-1\",\n                            children: children\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 22,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\nfunction ThemeToggle() {\n    const { theme, setTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: \"p-2 rounded-full text-text-secondary hover:text-text hover:bg-bg-tertiary transition-colors\",\n        onClick: ()=>setTheme(theme === \"dark\" ? \"light\" : \"dark\"),\n        children: theme === \"dark\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            size: 20\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 37,\n            columnNumber: 27\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            size: 20\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n            lineNumber: 37,\n            columnNumber: 47\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 33,\n        columnNumber: 5\n    }, this);\n}\nfunction Welcome() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen w-full flex items-center justify-center bg-bg p-4 relative overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-accent/10 via-bg/0 to-bg/0 opacity-70\"\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-4xl bg-bg-secondary/50 backdrop-blur-2xl border border-border rounded-3xl shadow-glow p-8 md:p-12 z-10\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 bg-gradient-to-br from-accent to-blue-500 rounded-full mb-6 shadow-lg\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                size: 32,\n                                className: \"text-white\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                lineNumber: 50,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 49,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-text to-text-secondary\",\n                            children: [\n                                \"Welcome to \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"bg-clip-text text-transparent bg-gradient-to-r from-accent to-blue-500\",\n                                    children: \"Nostr\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 54,\n                                    columnNumber: 24\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 53,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-text-secondary text-lg md:text-xl max-w-2xl mb-10\",\n                            children: \"A new kind of social network. Decentralized, open, and free.\"\n                        }, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 57,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full grid grid-cols-1 md:grid-cols-3 gap-6 text-left mb-10\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Direct Messages\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-accent\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 62,\n                                        columnNumber: 56\n                                    }, void 0),\n                                    color: \"#7C3AED\",\n                                    children: \"Encrypted, peer-to-peer conversations.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 62,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Public Channels\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-cyan\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 56\n                                    }, void 0),\n                                    color: \"#22D3EE\",\n                                    children: \"Join communities and discussions.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 65,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeatureCard, {\n                                    title: \"Your Identity\",\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AtSign_MessageSquare_Moon_Sun_Users_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        size: 24,\n                                        className: \"text-green\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                        lineNumber: 68,\n                                        columnNumber: 54\n                                    }, void 0),\n                                    color: \"#4ADE80\",\n                                    children: \"Controlled by you, not a corporation.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                                    lineNumber: 68,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeToggle, {}, void 0, false, {\n                            fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                            lineNumber: 73,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                    lineNumber: 48,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n                lineNumber: 46,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/nostr/src/components/Welcome.tsx\",\n        lineNumber: 44,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9XZWxjb21lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQzRFO0FBQ3JDO0FBQ2I7QUFTMUIsU0FBU1EsWUFBWSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQW9CO0lBQ3JFLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVcsQ0FBQyxjQUFjLENBQUM7b0JBQUVDLE9BQU87d0JBQUVDLGlCQUFpQixDQUFDLEVBQUVKLE1BQU0sRUFBRSxDQUFDO29CQUFBOzhCQUNyRUg7Ozs7Ozs4QkFFSCw4REFBQ0k7O3NDQUNDLDhEQUFDSTs0QkFBR0gsV0FBVTtzQ0FBK0JKOzs7Ozs7c0NBQzdDLDhEQUFDUTs0QkFBRUosV0FBVTtzQ0FBb0NIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLFNBQVNRO0lBQ1AsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHZixxREFBUUE7SUFFcEMscUJBQ0UsOERBQUNnQjtRQUNDUixXQUFVO1FBQ1ZTLFNBQVMsSUFBTUYsU0FBU0QsVUFBVSxTQUFTLFVBQVU7a0JBRXBEQSxVQUFVLHVCQUFTLDhEQUFDaEIsbUhBQUdBO1lBQUNvQixNQUFNOzs7OztpQ0FBUyw4REFBQ25CLG1IQUFJQTtZQUFDbUIsTUFBTTs7Ozs7Ozs7Ozs7QUFHMUQ7QUFFTyxTQUFTQztJQUNkLHFCQUNFLDhEQUFDWjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7Ozs7OzswQkFDZiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBRWIsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNkLG1IQUFHQTtnQ0FBQ3dCLE1BQU07Z0NBQUlWLFdBQVU7Ozs7Ozs7Ozs7O3NDQUczQiw4REFBQ1k7NEJBQUdaLFdBQVU7O2dDQUFpSDs4Q0FDbEgsOERBQUNhO29DQUFLYixXQUFVOzhDQUF5RTs7Ozs7Ozs7Ozs7O3NDQUd0Ryw4REFBQ0k7NEJBQUVKLFdBQVU7c0NBQXlEOzs7Ozs7c0NBSXRFLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNOO29DQUFZRSxPQUFNO29DQUFrQkQsb0JBQU0sOERBQUNQLG1IQUFhQTt3Q0FBQ3NCLE1BQU07d0NBQUlWLFdBQVU7Ozs7OztvQ0FBaUJGLE9BQU07OENBQVU7Ozs7Ozs4Q0FHL0csOERBQUNKO29DQUFZRSxPQUFNO29DQUFrQkQsb0JBQU0sOERBQUNSLG1IQUFLQTt3Q0FBQ3VCLE1BQU07d0NBQUlWLFdBQVU7Ozs7OztvQ0FBZUYsT0FBTTs4Q0FBVTs7Ozs7OzhDQUdyRyw4REFBQ0o7b0NBQVlFLE9BQU07b0NBQWdCRCxvQkFBTSw4REFBQ04sbUhBQU1BO3dDQUFDcUIsTUFBTTt3Q0FBSVYsV0FBVTs7Ozs7O29DQUFnQkYsT0FBTTs4Q0FBVTs7Ozs7Ozs7Ozs7O3NDQUt2Ryw4REFBQ087Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvY29tcG9uZW50cy9XZWxjb21lLnRzeD81M2Q2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgWmFwLCBVc2VycywgTWVzc2FnZVNxdWFyZSwgQXRTaWduLCBTdW4sIE1vb24gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBGZWF0dXJlQ2FyZFByb3BzIHtcbiAgaWNvbjogUmVhY3QuUmVhY3ROb2RlO1xuICB0aXRsZTogc3RyaW5nO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICBjb2xvcjogc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBGZWF0dXJlQ2FyZCh7IGljb24sIHRpdGxlLCBjaGlsZHJlbiwgY29sb3IgfTogRmVhdHVyZUNhcmRQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmctc2Vjb25kYXJ5IHAtNiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlciB0cmFuc2Zvcm0gaG92ZXI6LXRyYW5zbGF0ZS15LTEgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZ2B9IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogYCR7Y29sb3J9MUFgfX0+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC10ZXh0IHRleHQtbGdcIj57dGl0bGV9PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnkgbXQtMVwiPntjaGlsZHJlbn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRoZW1lVG9nZ2xlKCkge1xuICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWZ1bGwgdGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQgaG92ZXI6YmctYmctdGVydGlhcnkgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgb25DbGljaz17KCkgPT4gc2V0VGhlbWUodGhlbWUgPT09IFwiZGFya1wiID8gXCJsaWdodFwiIDogXCJkYXJrXCIpfVxuICAgID5cbiAgICAgIHt0aGVtZSA9PT0gXCJkYXJrXCIgPyA8U3VuIHNpemU9ezIwfSAvPiA6IDxNb29uIHNpemU9ezIwfSAvPn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFdlbGNvbWUoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJnIHAtNCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZV9hdF9jZW50ZXIsX3ZhcigtLXR3LWdyYWRpZW50LXN0b3BzKSldIGZyb20tYWNjZW50LzEwIHZpYS1iZy8wIHRvLWJnLzAgb3BhY2l0eS03MFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctNHhsIGJnLWJnLXNlY29uZGFyeS81MCBiYWNrZHJvcC1ibHVyLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLTN4bCBzaGFkb3ctZ2xvdyBwLTggbWQ6cC0xMiB6LTEwXCI+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1hY2NlbnQgdG8tYmx1ZS01MDAgcm91bmRlZC1mdWxsIG1iLTYgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICA8WmFwIHNpemU9ezMyfSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTV4bCBtZDp0ZXh0LTZ4bCBmb250LWJvbGQgbWItNCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20tdGV4dCB0by10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgV2VsY29tZSB0byA8c3BhbiBjbGFzc05hbWU9XCJiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBiZy1ncmFkaWVudC10by1yIGZyb20tYWNjZW50IHRvLWJsdWUtNTAwXCI+Tm9zdHI8L3NwYW4+XG4gICAgICAgICAgPC9oMT5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtdGV4dC1zZWNvbmRhcnkgdGV4dC1sZyBtZDp0ZXh0LXhsIG1heC13LTJ4bCBtYi0xMFwiPlxuICAgICAgICAgICAgQSBuZXcga2luZCBvZiBzb2NpYWwgbmV0d29yay4gRGVjZW50cmFsaXplZCwgb3BlbiwgYW5kIGZyZWUuXG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNiB0ZXh0LWxlZnQgbWItMTBcIj5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIkRpcmVjdCBNZXNzYWdlc1wiIGljb249ezxNZXNzYWdlU3F1YXJlIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LWFjY2VudFwiLz59IGNvbG9yPVwiIzdDM0FFRFwiPlxuICAgICAgICAgICAgICBFbmNyeXB0ZWQsIHBlZXItdG8tcGVlciBjb252ZXJzYXRpb25zLlxuICAgICAgICAgICAgPC9GZWF0dXJlQ2FyZD5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIlB1YmxpYyBDaGFubmVsc1wiIGljb249ezxVc2VycyBzaXplPXsyNH0gY2xhc3NOYW1lPVwidGV4dC1jeWFuXCIvPn0gY29sb3I9XCIjMjJEM0VFXCI+XG4gICAgICAgICAgICAgIEpvaW4gY29tbXVuaXRpZXMgYW5kIGRpc2N1c3Npb25zLlxuICAgICAgICAgICAgPC9GZWF0dXJlQ2FyZD5cbiAgICAgICAgICAgIDxGZWF0dXJlQ2FyZCB0aXRsZT1cIllvdXIgSWRlbnRpdHlcIiBpY29uPXs8QXRTaWduIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuXCIvPn0gY29sb3I9XCIjNEFERTgwXCI+XG4gICAgICAgICAgICAgIENvbnRyb2xsZWQgYnkgeW91LCBub3QgYSBjb3Jwb3JhdGlvbi5cbiAgICAgICAgICAgIDwvRmVhdHVyZUNhcmQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8VGhlbWVUb2dnbGUgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJaYXAiLCJVc2VycyIsIk1lc3NhZ2VTcXVhcmUiLCJBdFNpZ24iLCJTdW4iLCJNb29uIiwidXNlVGhlbWUiLCJSZWFjdCIsIkZlYXR1cmVDYXJkIiwiaWNvbiIsInRpdGxlIiwiY2hpbGRyZW4iLCJjb2xvciIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaDMiLCJwIiwiVGhlbWVUb2dnbGUiLCJ0aGVtZSIsInNldFRoZW1lIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJXZWxjb21lIiwiaDEiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Welcome.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/chunkStore.ts":
/*!*******************************!*\
  !*** ./src/lib/chunkStore.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   downloadChunkedTransfer: () => (/* binding */ downloadChunkedTransfer),\n/* harmony export */   ensureTransfer: () => (/* binding */ ensureTransfer),\n/* harmony export */   getTransfer: () => (/* binding */ getTransfer),\n/* harmony export */   isTransferComplete: () => (/* binding */ isTransferComplete),\n/* harmony export */   storeChunk: () => (/* binding */ storeChunk)\n/* harmony export */ });\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb */ \"(ssr)/./node_modules/idb/build/index.js\");\n\nconst DB_NAME = \"nostr-p2p-files\";\nconst DB_VERSION = 1;\nlet dbPromise = null;\nconst getDb = ()=>{\n    if (true) {\n        return null;\n    }\n    if (!dbPromise) {\n        dbPromise = (0,idb__WEBPACK_IMPORTED_MODULE_0__.openDB)(DB_NAME, DB_VERSION, {\n            upgrade (db) {\n                if (!db.objectStoreNames.contains(\"transfers\")) {\n                    db.createObjectStore(\"transfers\", {\n                        keyPath: \"transferId\"\n                    });\n                }\n                if (!db.objectStoreNames.contains(\"chunks\")) {\n                    db.createObjectStore(\"chunks\", {\n                        keyPath: [\n                            \"transferId\",\n                            \"index\"\n                        ]\n                    });\n                }\n            }\n        });\n    }\n    return dbPromise;\n};\nfunction base64ToBytes(base64) {\n    const bin = atob(base64);\n    const out = new Uint8Array(bin.length);\n    for(let i = 0; i < bin.length; i++)out[i] = bin.charCodeAt(i);\n    return out;\n}\nasync function ensureTransfer(meta) {\n    const db = await getDb();\n    if (!db) return null;\n    const existing = await db.get(\"transfers\", meta.transferId);\n    const row = {\n        ...meta,\n        receivedChunks: existing?.receivedChunks ?? meta.receivedChunks ?? 0\n    };\n    await db.put(\"transfers\", row);\n    return row;\n}\nasync function storeChunk(transferId, index, totalChunks, data) {\n    const db = await getDb();\n    if (!db) return;\n    const tx = db.transaction([\n        \"chunks\",\n        \"transfers\"\n    ], \"readwrite\");\n    const key = [\n        transferId,\n        index\n    ];\n    const existing = await tx.objectStore(\"chunks\").get(key);\n    if (!existing) {\n        await tx.objectStore(\"chunks\").put({\n            transferId,\n            index,\n            data\n        });\n        const transfer = await tx.objectStore(\"transfers\").get(transferId);\n        if (transfer) {\n            transfer.receivedChunks = Math.min(transfer.totalChunks, transfer.receivedChunks + 1);\n            await tx.objectStore(\"transfers\").put(transfer);\n        } else {\n            await tx.objectStore(\"transfers\").put({\n                transferId,\n                fileName: \"file\",\n                mimeType: \"application/octet-stream\",\n                fileType: \"file\",\n                size: 0,\n                totalChunks,\n                receivedChunks: 1\n            });\n        }\n    }\n    await tx.done;\n}\nasync function getTransfer(transferId) {\n    const db = await getDb();\n    if (!db) return undefined;\n    return await db.get(\"transfers\", transferId);\n}\nasync function isTransferComplete(transferId) {\n    if (true) {\n        return false;\n    }\n    const transfer = await getTransfer(transferId);\n    if (!transfer) return false;\n    return transfer.totalChunks > 0 && transfer.receivedChunks >= transfer.totalChunks;\n}\nasync function downloadChunkedTransfer(transferId, fallbackName, fallbackMime) {\n    const db = await getDb();\n    if (!db) return;\n    const transfer = await db.get(\"transfers\", transferId);\n    if (!transfer) throw new Error(\"Transfer not found\");\n    const fileName = fallbackName || transfer.fileName || \"file\";\n    const mimeType = fallbackMime || transfer.mimeType || \"application/octet-stream\";\n    const range = IDBKeyRange.bound([\n        transferId,\n        0\n    ], [\n        transferId,\n        Number.MAX_SAFE_INTEGER\n    ]);\n    const store = db.transaction(\"chunks\", \"readonly\").objectStore(\"chunks\");\n    const useFsApi =  false && 0;\n    if (useFsApi) {\n        const picker = window.showSaveFilePicker;\n        const handle = await picker({\n            suggestedName: fileName,\n            types: [\n                {\n                    description: \"File\",\n                    accept: {\n                        [mimeType]: [\n                            \".\" + fileName.split(\".\").pop()\n                        ]\n                    }\n                }\n            ]\n        });\n        const writable = await handle.createWritable();\n        let cursor = await store.openCursor(range);\n        while(cursor){\n            const row = cursor.value;\n            await writable.write(base64ToBytes(row.data));\n            cursor = await cursor.continue();\n        }\n        await writable.close();\n        return;\n    }\n    const parts = [];\n    let cursor = await store.openCursor(range);\n    while(cursor){\n        const row = cursor.value;\n        parts.push(base64ToBytes(row.data));\n        cursor = await cursor.continue();\n    }\n    const blob = new Blob(parts, {\n        type: mimeType\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TVAsT0FBT1EsY0FBYztRQUM1QyxJQUFJQyxTQUFTLE1BQU1kLE1BQU1lLFVBQVUsQ0FBQ3BCO1FBQ3BDLE1BQU9tQixPQUFRO1lBQ2IsTUFBTTdDLE1BQU02QyxPQUFPRSxLQUFLO1lBQ3hCLE1BQU1KLFNBQVNLLEtBQUssQ0FBQzlELGNBQWNjLElBQUlNLElBQUk7WUFDM0N1QyxTQUFTLE1BQU1BLE9BQU9JLFFBQVE7UUFDaEM7UUFDQSxNQUFNTixTQUFTTyxLQUFLO1FBQ3BCO0lBQ0Y7SUFFQSxNQUFNQyxRQUFzQixFQUFFO0lBQzlCLElBQUlOLFNBQVMsTUFBTWQsTUFBTWUsVUFBVSxDQUFDcEI7SUFDcEMsTUFBT21CLE9BQVE7UUFDYixNQUFNN0MsTUFBTTZDLE9BQU9FLEtBQUs7UUFDeEJJLE1BQU1DLElBQUksQ0FBQ2xFLGNBQWNjLElBQUlNLElBQUk7UUFDakN1QyxTQUFTLE1BQU1BLE9BQU9JLFFBQVE7SUFDaEM7SUFDQSxNQUFNSSxPQUFPLElBQUlDLEtBQUtILE9BQU87UUFBRUksTUFBTXhDO0lBQVM7SUFDOUMsTUFBTXlDLE1BQU1DLElBQUlDLGVBQWUsQ0FBQ0w7SUFDaEMsTUFBTU0sSUFBSUMsU0FBU0MsYUFBYSxDQUFDO0lBQ2pDRixFQUFFRyxJQUFJLEdBQUdOO0lBQ1RHLEVBQUVJLFFBQVEsR0FBR2pEO0lBQ2I4QyxTQUFTSSxJQUFJLENBQUNDLFdBQVcsQ0FBQ047SUFDMUJBLEVBQUVPLEtBQUs7SUFDUE4sU0FBU0ksSUFBSSxDQUFDRyxXQUFXLENBQUNSO0lBQzFCRixJQUFJVyxlQUFlLENBQUNaO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvY2h1bmtTdG9yZS50cz9lYjdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9wZW5EQiwgdHlwZSBJREJQRGF0YWJhc2UgfSBmcm9tICdpZGInO1xuXG5pbnRlcmZhY2UgQ2h1bmtSb3cge1xuICB0cmFuc2ZlcklkOiBzdHJpbmc7XG4gIGluZGV4OiBudW1iZXI7XG4gIGRhdGE6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRyYW5zZmVyUm93IHtcbiAgdHJhbnNmZXJJZDogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICBtaW1lVHlwZTogc3RyaW5nO1xuICBmaWxlVHlwZTogJ2ltYWdlJyB8ICdmaWxlJztcbiAgc2l6ZTogbnVtYmVyO1xuICB0b3RhbENodW5rczogbnVtYmVyO1xuICByZWNlaXZlZENodW5rczogbnVtYmVyO1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG5jb25zdCBEQl9OQU1FID0gJ25vc3RyLXAycC1maWxlcyc7XG5jb25zdCBEQl9WRVJTSU9OID0gMTtcblxubGV0IGRiUHJvbWlzZTogUHJvbWlzZTxJREJQRGF0YWJhc2U+IHwgbnVsbCA9IG51bGw7XG5cbmNvbnN0IGdldERiID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5pbmRleGVkREIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIWRiUHJvbWlzZSkge1xuICAgIGRiUHJvbWlzZSA9IG9wZW5EQihEQl9OQU1FLCBEQl9WRVJTSU9OLCB7XG4gICAgICB1cGdyYWRlKGRiKSB7XG4gICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygndHJhbnNmZXJzJykpIHtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgndHJhbnNmZXJzJywgeyBrZXlQYXRoOiAndHJhbnNmZXJJZCcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdjaHVua3MnKSkge1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdjaHVua3MnLCB7IGtleVBhdGg6IFsndHJhbnNmZXJJZCcsICdpbmRleCddIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYlByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzKGJhc2U2NDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGNvbnN0IGJpbiA9IGF0b2IoYmFzZTY0KTtcbiAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgaSsrKSBvdXRbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZVRyYW5zZmVyKG1ldGE6IE9taXQ8VHJhbnNmZXJSb3csICdyZWNlaXZlZENodW5rcyc+ICYgeyByZWNlaXZlZENodW5rcz86IG51bWJlciB9KSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGIoKTtcbiAgaWYgKCFkYikgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGV4aXN0aW5nID0gKGF3YWl0IGRiLmdldCgndHJhbnNmZXJzJywgbWV0YS50cmFuc2ZlcklkKSkgYXMgVHJhbnNmZXJSb3cgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHJvdzogVHJhbnNmZXJSb3cgPSB7XG4gICAgLi4ubWV0YSxcbiAgICByZWNlaXZlZENodW5rczogZXhpc3Rpbmc/LnJlY2VpdmVkQ2h1bmtzID8/IG1ldGEucmVjZWl2ZWRDaHVua3MgPz8gMCxcbiAgfTtcbiAgYXdhaXQgZGIucHV0KCd0cmFuc2ZlcnMnLCByb3cpO1xuICByZXR1cm4gcm93O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcmVDaHVuayh0cmFuc2ZlcklkOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHRvdGFsQ2h1bmtzOiBudW1iZXIsIGRhdGE6IHN0cmluZykge1xuICBjb25zdCBkYiA9IGF3YWl0IGdldERiKCk7XG4gIGlmICghZGIpIHJldHVybjtcbiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ2NodW5rcycsICd0cmFuc2ZlcnMnXSwgJ3JlYWR3cml0ZScpO1xuICBjb25zdCBrZXkgPSBbdHJhbnNmZXJJZCwgaW5kZXhdIGFzIFtzdHJpbmcsIG51bWJlcl07XG4gIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoJ2NodW5rcycpLmdldChrZXkpO1xuICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgYXdhaXQgdHgub2JqZWN0U3RvcmUoJ2NodW5rcycpLnB1dCh7IHRyYW5zZmVySWQsIGluZGV4LCBkYXRhIH0gYXMgQ2h1bmtSb3cpO1xuICAgIGNvbnN0IHRyYW5zZmVyID0gKGF3YWl0IHR4Lm9iamVjdFN0b3JlKCd0cmFuc2ZlcnMnKS5nZXQodHJhbnNmZXJJZCkpIGFzIFRyYW5zZmVyUm93IHwgdW5kZWZpbmVkO1xuICAgIGlmICh0cmFuc2Zlcikge1xuICAgICAgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgPSBNYXRoLm1pbih0cmFuc2Zlci50b3RhbENodW5rcywgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgKyAxKTtcbiAgICAgIGF3YWl0IHR4Lm9iamVjdFN0b3JlKCd0cmFuc2ZlcnMnKS5wdXQodHJhbnNmZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0eC5vYmplY3RTdG9yZSgndHJhbnNmZXJzJykucHV0KHtcbiAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgZmlsZU5hbWU6ICdmaWxlJyxcbiAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICBmaWxlVHlwZTogJ2ZpbGUnLFxuICAgICAgICBzaXplOiAwLFxuICAgICAgICB0b3RhbENodW5rcyxcbiAgICAgICAgcmVjZWl2ZWRDaHVua3M6IDEsXG4gICAgICB9IGFzIFRyYW5zZmVyUm93KTtcbiAgICB9XG4gIH1cbiAgYXdhaXQgdHguZG9uZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRyYW5zZmVyKHRyYW5zZmVySWQ6IHN0cmluZykge1xuICBjb25zdCBkYiA9IGF3YWl0IGdldERiKCk7XG4gIGlmICghZGIpIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiAoYXdhaXQgZGIuZ2V0KCd0cmFuc2ZlcnMnLCB0cmFuc2ZlcklkKSkgYXMgVHJhbnNmZXJSb3cgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc1RyYW5zZmVyQ29tcGxldGUodHJhbnNmZXJJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93LmluZGV4ZWREQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0cmFuc2ZlciA9IGF3YWl0IGdldFRyYW5zZmVyKHRyYW5zZmVySWQpO1xuICBpZiAoIXRyYW5zZmVyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cmFuc2Zlci50b3RhbENodW5rcyA+IDAgJiYgdHJhbnNmZXIucmVjZWl2ZWRDaHVua3MgPj0gdHJhbnNmZXIudG90YWxDaHVua3M7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkb3dubG9hZENodW5rZWRUcmFuc2Zlcih0cmFuc2ZlcklkOiBzdHJpbmcsIGZhbGxiYWNrTmFtZT86IHN0cmluZywgZmFsbGJhY2tNaW1lPzogc3RyaW5nKSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGIoKTtcbiAgaWYgKCFkYikgcmV0dXJuO1xuICBjb25zdCB0cmFuc2ZlciA9IChhd2FpdCBkYi5nZXQoJ3RyYW5zZmVycycsIHRyYW5zZmVySWQpKSBhcyBUcmFuc2ZlclJvdyB8IHVuZGVmaW5lZDtcbiAgaWYgKCF0cmFuc2ZlcikgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2ZlciBub3QgZm91bmQnKTtcblxuICBjb25zdCBmaWxlTmFtZSA9IGZhbGxiYWNrTmFtZSB8fCB0cmFuc2Zlci5maWxlTmFtZSB8fCAnZmlsZSc7XG4gIGNvbnN0IG1pbWVUeXBlID0gZmFsbGJhY2tNaW1lIHx8IHRyYW5zZmVyLm1pbWVUeXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuXG4gIGNvbnN0IHJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQoW3RyYW5zZmVySWQsIDBdLCBbdHJhbnNmZXJJZCwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJdKTtcbiAgY29uc3Qgc3RvcmUgPSBkYi50cmFuc2FjdGlvbignY2h1bmtzJywgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoJ2NodW5rcycpO1xuXG4gIGNvbnN0IHVzZUZzQXBpID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICdzaG93U2F2ZUZpbGVQaWNrZXInIGluIHdpbmRvdyAmJlxuICAgIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQ7XG5cbiAgaWYgKHVzZUZzQXBpKSB7XG4gICAgY29uc3QgcGlja2VyID0gKHdpbmRvdyBhcyBhbnkpLnNob3dTYXZlRmlsZVBpY2tlcjtcbiAgICBjb25zdCBoYW5kbGUgPSBhd2FpdCBwaWNrZXIoe1xuICAgICAgc3VnZ2VzdGVkTmFtZTogZmlsZU5hbWUsXG4gICAgICB0eXBlczogW3sgZGVzY3JpcHRpb246ICdGaWxlJywgYWNjZXB0OiB7IFttaW1lVHlwZV06IFsnLicgKyBmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpXSB9IH1dLFxuICAgIH0pO1xuICAgIGNvbnN0IHdyaXRhYmxlID0gYXdhaXQgaGFuZGxlLmNyZWF0ZVdyaXRhYmxlKCk7XG4gICAgbGV0IGN1cnNvciA9IGF3YWl0IHN0b3JlLm9wZW5DdXJzb3IocmFuZ2UpO1xuICAgIHdoaWxlIChjdXJzb3IpIHtcbiAgICAgIGNvbnN0IHJvdyA9IGN1cnNvci52YWx1ZSBhcyBDaHVua1JvdztcbiAgICAgIGF3YWl0IHdyaXRhYmxlLndyaXRlKGJhc2U2NFRvQnl0ZXMocm93LmRhdGEpKTtcbiAgICAgIGN1cnNvciA9IGF3YWl0IGN1cnNvci5jb250aW51ZSgpO1xuICAgIH1cbiAgICBhd2FpdCB3cml0YWJsZS5jbG9zZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHBhcnRzOiBVaW50OEFycmF5W10gPSBbXTtcbiAgbGV0IGN1cnNvciA9IGF3YWl0IHN0b3JlLm9wZW5DdXJzb3IocmFuZ2UpO1xuICB3aGlsZSAoY3Vyc29yKSB7XG4gICAgY29uc3Qgcm93ID0gY3Vyc29yLnZhbHVlIGFzIENodW5rUm93O1xuICAgIHBhcnRzLnB1c2goYmFzZTY0VG9CeXRlcyhyb3cuZGF0YSkpO1xuICAgIGN1cnNvciA9IGF3YWl0IGN1cnNvci5jb250aW51ZSgpO1xuICB9XG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihwYXJ0cywgeyB0eXBlOiBtaW1lVHlwZSB9KTtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgYS5ocmVmID0gdXJsO1xuICBhLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufVxuIl0sIm5hbWVzIjpbIm9wZW5EQiIsIkRCX05BTUUiLCJEQl9WRVJTSU9OIiwiZGJQcm9taXNlIiwiZ2V0RGIiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJ1cGdyYWRlIiwiZGIiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJiYXNlNjRUb0J5dGVzIiwiYmFzZTY0IiwiYmluIiwiYXRvYiIsIm91dCIsIlVpbnQ4QXJyYXkiLCJsZW5ndGgiLCJpIiwiY2hhckNvZGVBdCIsImVuc3VyZVRyYW5zZmVyIiwibWV0YSIsImV4aXN0aW5nIiwiZ2V0IiwidHJhbnNmZXJJZCIsInJvdyIsInJlY2VpdmVkQ2h1bmtzIiwicHV0Iiwic3RvcmVDaHVuayIsImluZGV4IiwidG90YWxDaHVua3MiLCJkYXRhIiwidHgiLCJ0cmFuc2FjdGlvbiIsImtleSIsIm9iamVjdFN0b3JlIiwidHJhbnNmZXIiLCJNYXRoIiwibWluIiwiZmlsZU5hbWUiLCJtaW1lVHlwZSIsImZpbGVUeXBlIiwic2l6ZSIsImRvbmUiLCJnZXRUcmFuc2ZlciIsInVuZGVmaW5lZCIsImlzVHJhbnNmZXJDb21wbGV0ZSIsImRvd25sb2FkQ2h1bmtlZFRyYW5zZmVyIiwiZmFsbGJhY2tOYW1lIiwiZmFsbGJhY2tNaW1lIiwiRXJyb3IiLCJyYW5nZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwic3RvcmUiLCJ1c2VGc0FwaSIsImlzU2VjdXJlQ29udGV4dCIsInBpY2tlciIsInNob3dTYXZlRmlsZVBpY2tlciIsImhhbmRsZSIsInN1Z2dlc3RlZE5hbWUiLCJ0eXBlcyIsImRlc2NyaXB0aW9uIiwiYWNjZXB0Iiwic3BsaXQiLCJwb3AiLCJ3cml0YWJsZSIsImNyZWF0ZVdyaXRhYmxlIiwiY3Vyc29yIiwib3BlbkN1cnNvciIsInZhbHVlIiwid3JpdGUiLCJjb250aW51ZSIsImNsb3NlIiwicGFydHMiLCJwdXNoIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/chunkStore.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/fileUtils.ts":
/*!******************************!*\
  !*** ./src/lib/fileUtils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBlob: () => (/* binding */ base64ToBlob),\n/* harmony export */   downloadAttachment: () => (/* binding */ downloadAttachment),\n/* harmony export */   fileToBase64: () => (/* binding */ fileToBase64),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getFileIcon: () => (/* binding */ getFileIcon),\n/* harmony export */   isImageType: () => (/* binding */ isImageType),\n/* harmony export */   processFile: () => (/* binding */ processFile)\n/* harmony export */ });\nconst MAX_FILE_SIZE = 2 * 1024 * 1024 * 1024;\nconst INLINE_LIMIT = 8 * 1024 * 1024;\nconst IMAGE_TYPES = [\n    \"image/jpeg\",\n    \"image/png\",\n    \"image/gif\",\n    \"image/webp\",\n    \"image/svg+xml\"\n];\nfunction isImageType(mimeType) {\n    return IMAGE_TYPES.includes(mimeType);\n}\nfunction formatFileSize(bytes) {\n    if (bytes < 1024) return `${bytes} B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n    if (bytes < 1024 * 1024 * 1024) return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n    return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`;\n}\nfunction fileToBase64(file) {\n    return new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>{\n            const result = reader.result;\n            const base64 = result.split(\",\")[1];\n            resolve(base64);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n    });\n}\nfunction compressImage(file, maxWidth, maxHeight, quality) {\n    return new Promise((resolve, reject)=>{\n        const img = new window.Image();\n        const url = URL.createObjectURL(file);\n        img.onload = ()=>{\n            URL.revokeObjectURL(url);\n            let w = img.width;\n            let h = img.height;\n            if (w > maxWidth || h > maxHeight) {\n                const ratio = Math.min(maxWidth / w, maxHeight / h);\n                w = Math.round(w * ratio);\n                h = Math.round(h * ratio);\n            }\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return reject(new Error(\"Canvas context unavailable\"));\n            ctx.drawImage(img, 0, 0, w, h);\n            const dataUrl = canvas.toDataURL(\"image/jpeg\", quality);\n            resolve(dataUrl.split(\",\")[1]);\n        };\n        img.onerror = reject;\n        img.src = url;\n    });\n}\nasync function processFile(file) {\n    if (file.size > MAX_FILE_SIZE) {\n        throw new Error(`File is too large. Maximum: ${formatFileSize(MAX_FILE_SIZE)}.`);\n    }\n    const isImage = isImageType(file.type);\n    const mimeType = isImage ? \"image/jpeg\" : file.type || \"application/octet-stream\";\n    if (file.size > INLINE_LIMIT) {\n        return {\n            type: isImage ? \"image\" : \"file\",\n            name: file.name,\n            mimeType,\n            data: \"\",\n            size: file.size,\n            file,\n            chunked: true\n        };\n    }\n    const base64 = isImage && file.size > 200 * 1024 ? await compressImage(file, 2048, 2048, 0.82) : await fileToBase64(file);\n    return {\n        type: isImage ? \"image\" : \"file\",\n        name: file.name,\n        mimeType,\n        data: base64,\n        size: file.size,\n        file\n    };\n}\nfunction base64ToBlob(base64, mimeType) {\n    const byteChars = atob(base64);\n    const byteNumbers = new Uint8Array(byteChars.length);\n    for(let i = 0; i < byteChars.length; i++)byteNumbers[i] = byteChars.charCodeAt(i);\n    return new Blob([\n        byteNumbers.buffer\n    ], {\n        type: mimeType\n    });\n}\nfunction downloadAttachment(attachment) {\n    const blob = base64ToBlob(attachment.data, attachment.mimeType);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = attachment.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\nfunction getFileIcon(mimeType) {\n    if (mimeType.startsWith(\"image/\")) return \"\\uD83D\\uDDBC\";\n    if (mimeType.startsWith(\"video/\")) return \"\\uD83C\\uDFAC\";\n    if (mimeType.startsWith(\"audio/\")) return \"\\uD83C\\uDFB5\";\n    if (mimeType.includes(\"pdf\")) return \"\\uD83D\\uDCC4\";\n    if (mimeType.includes(\"zip\") || mimeType.includes(\"rar\") || mimeType.includes(\"tar\")) return \"\\uD83D\\uDCE6\";\n    if (mimeType.includes(\"text\")) return \"\\uD83D\\uDCDD\";\n    if (mimeType.includes(\"json\") || mimeType.includes(\"xml\")) return \"\";\n    return \"\\uD83D\\uDCCE\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHM0M7SUFDVDBDLEVBQUVFLFFBQVEsR0FBR0osV0FBV2QsSUFBSTtJQUM1QmIsU0FBU2dDLElBQUksQ0FBQ0MsV0FBVyxDQUFDSjtJQUMxQkEsRUFBRUssS0FBSztJQUNQbEMsU0FBU2dDLElBQUksQ0FBQ0csV0FBVyxDQUFDTjtJQUMxQnpDLElBQUlFLGVBQWUsQ0FBQ0g7QUFDdEI7QUFFTyxTQUFTaUQsWUFBWTFFLFFBQWdCO0lBQzFDLElBQUlBLFNBQVMyRSxVQUFVLENBQUMsV0FBVyxPQUFPO0lBQzFDLElBQUkzRSxTQUFTMkUsVUFBVSxDQUFDLFdBQVcsT0FBTztJQUMxQyxJQUFJM0UsU0FBUzJFLFVBQVUsQ0FBQyxXQUFXLE9BQU87SUFDMUMsSUFBSTNFLFNBQVNDLFFBQVEsQ0FBQyxRQUFRLE9BQU87SUFDckMsSUFBSUQsU0FBU0MsUUFBUSxDQUFDLFVBQVVELFNBQVNDLFFBQVEsQ0FBQyxVQUFVRCxTQUFTQyxRQUFRLENBQUMsUUFBUSxPQUFPO0lBQzdGLElBQUlELFNBQVNDLFFBQVEsQ0FBQyxTQUFTLE9BQU87SUFDdEMsSUFBSUQsU0FBU0MsUUFBUSxDQUFDLFdBQVdELFNBQVNDLFFBQVEsQ0FBQyxRQUFRLE9BQU87SUFDbEUsT0FBTztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvZmlsZVV0aWxzLnRzP2MwYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBdHRhY2htZW50IH0gZnJvbSAnLi9ub3N0cic7XG5cbmNvbnN0IE1BWF9GSUxFX1NJWkUgPSAyICogMTAyNCAqIDEwMjQgKiAxMDI0O1xuY29uc3QgSU5MSU5FX0xJTUlUID0gOCAqIDEwMjQgKiAxMDI0O1xuY29uc3QgSU1BR0VfVFlQRVMgPSBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL2dpZicsICdpbWFnZS93ZWJwJywgJ2ltYWdlL3N2Zyt4bWwnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2VUeXBlKG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIElNQUdFX1RZUEVTLmluY2x1ZGVzKG1pbWVUeXBlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoYnl0ZXMgPCAxMDI0KSByZXR1cm4gYCR7Ynl0ZXN9IEJgO1xuICBpZiAoYnl0ZXMgPCAxMDI0ICogMTAyNCkgcmV0dXJuIGAkeyhieXRlcyAvIDEwMjQpLnRvRml4ZWQoMSl9IEtCYDtcbiAgaWYgKGJ5dGVzIDwgMTAyNCAqIDEwMjQgKiAxMDI0KSByZXR1cm4gYCR7KGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTUJgO1xuICByZXR1cm4gYCR7KGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpLnRvRml4ZWQoMil9IEdCYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVUb0Jhc2U2NChmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IGFzIHN0cmluZztcbiAgICAgIGNvbnN0IGJhc2U2NCA9IHJlc3VsdC5zcGxpdCgnLCcpWzFdO1xuICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgIH07XG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb21wcmVzc0ltYWdlKGZpbGU6IEZpbGUsIG1heFdpZHRoOiBudW1iZXIsIG1heEhlaWdodDogbnVtYmVyLCBxdWFsaXR5OiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICBsZXQgdyA9IGltZy53aWR0aDtcbiAgICAgIGxldCBoID0gaW1nLmhlaWdodDtcbiAgICAgIGlmICh3ID4gbWF4V2lkdGggfHwgaCA+IG1heEhlaWdodCkge1xuICAgICAgICBjb25zdCByYXRpbyA9IE1hdGgubWluKG1heFdpZHRoIC8gdywgbWF4SGVpZ2h0IC8gaCk7XG4gICAgICAgIHcgPSBNYXRoLnJvdW5kKHcgKiByYXRpbyk7XG4gICAgICAgIGggPSBNYXRoLnJvdW5kKGggKiByYXRpbyk7XG4gICAgICB9XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHJldHVybiByZWplY3QobmV3IEVycm9yKCdDYW52YXMgY29udGV4dCB1bmF2YWlsYWJsZScpKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3LCBoKTtcbiAgICAgIGNvbnN0IGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgcXVhbGl0eSk7XG4gICAgICByZXNvbHZlKGRhdGFVcmwuc3BsaXQoJywnKVsxXSk7XG4gICAgfTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgICBpbWcuc3JjID0gdXJsO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGaWxlKGZpbGU6IEZpbGUpOiBQcm9taXNlPEF0dGFjaG1lbnQ+IHtcbiAgaWYgKGZpbGUuc2l6ZSA+IE1BWF9GSUxFX1NJWkUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgaXMgdG9vIGxhcmdlLiBNYXhpbXVtOiAke2Zvcm1hdEZpbGVTaXplKE1BWF9GSUxFX1NJWkUpfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGlzSW1hZ2UgPSBpc0ltYWdlVHlwZShmaWxlLnR5cGUpO1xuICBjb25zdCBtaW1lVHlwZSA9IGlzSW1hZ2UgPyAnaW1hZ2UvanBlZycgOiAoZmlsZS50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKTtcblxuICBpZiAoZmlsZS5zaXplID4gSU5MSU5FX0xJTUlUKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzSW1hZ2UgPyAnaW1hZ2UnIDogJ2ZpbGUnLFxuICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgbWltZVR5cGUsXG4gICAgICBkYXRhOiAnJyxcbiAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgIGZpbGUsXG4gICAgICBjaHVua2VkOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBiYXNlNjQgPSBpc0ltYWdlICYmIGZpbGUuc2l6ZSA+IDIwMCAqIDEwMjRcbiAgICA/IGF3YWl0IGNvbXByZXNzSW1hZ2UoZmlsZSwgMjA0OCwgMjA0OCwgMC44MilcbiAgICA6IGF3YWl0IGZpbGVUb0Jhc2U2NChmaWxlKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6IGlzSW1hZ2UgPyAnaW1hZ2UnIDogJ2ZpbGUnLFxuICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICBtaW1lVHlwZSxcbiAgICBkYXRhOiBiYXNlNjQsXG4gICAgc2l6ZTogZmlsZS5zaXplLFxuICAgIGZpbGUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0Jsb2IoYmFzZTY0OiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpOiBCbG9iIHtcbiAgY29uc3QgYnl0ZUNoYXJzID0gYXRvYihiYXNlNjQpO1xuICBjb25zdCBieXRlTnVtYmVycyA9IG5ldyBVaW50OEFycmF5KGJ5dGVDaGFycy5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVDaGFycy5sZW5ndGg7IGkrKykgYnl0ZU51bWJlcnNbaV0gPSBieXRlQ2hhcnMuY2hhckNvZGVBdChpKTtcbiAgcmV0dXJuIG5ldyBCbG9iKFtieXRlTnVtYmVycy5idWZmZXIgYXMgQXJyYXlCdWZmZXJdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IEF0dGFjaG1lbnQpIHtcbiAgY29uc3QgYmxvYiA9IGJhc2U2NFRvQmxvYihhdHRhY2htZW50LmRhdGEsIGF0dGFjaG1lbnQubWltZVR5cGUpO1xuICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBhLmhyZWYgPSB1cmw7XG4gIGEuZG93bmxvYWQgPSBhdHRhY2htZW50Lm5hbWU7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUljb24obWltZVR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChtaW1lVHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgcmV0dXJuICfwn5a877iPJztcbiAgaWYgKG1pbWVUeXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSByZXR1cm4gJ/CfjqwnO1xuICBpZiAobWltZVR5cGUuc3RhcnRzV2l0aCgnYXVkaW8vJykpIHJldHVybiAn8J+OtSc7XG4gIGlmIChtaW1lVHlwZS5pbmNsdWRlcygncGRmJykpIHJldHVybiAn8J+ThCc7XG4gIGlmIChtaW1lVHlwZS5pbmNsdWRlcygnemlwJykgfHwgbWltZVR5cGUuaW5jbHVkZXMoJ3JhcicpIHx8IG1pbWVUeXBlLmluY2x1ZGVzKCd0YXInKSkgcmV0dXJuICfwn5OmJztcbiAgaWYgKG1pbWVUeXBlLmluY2x1ZGVzKCd0ZXh0JykpIHJldHVybiAn8J+TnSc7XG4gIGlmIChtaW1lVHlwZS5pbmNsdWRlcygnanNvbicpIHx8IG1pbWVUeXBlLmluY2x1ZGVzKCd4bWwnKSkgcmV0dXJuICfimpnvuI8nO1xuICByZXR1cm4gJ/Cfk44nO1xufVxuIl0sIm5hbWVzIjpbIk1BWF9GSUxFX1NJWkUiLCJJTkxJTkVfTElNSVQiLCJJTUFHRV9UWVBFUyIsImlzSW1hZ2VUeXBlIiwibWltZVR5cGUiLCJpbmNsdWRlcyIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJ0b0ZpeGVkIiwiZmlsZVRvQmFzZTY0IiwiZmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsImJhc2U2NCIsInNwbGl0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJjb21wcmVzc0ltYWdlIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJxdWFsaXR5IiwiaW1nIiwid2luZG93IiwiSW1hZ2UiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJ3Iiwid2lkdGgiLCJoIiwiaGVpZ2h0IiwicmF0aW8iLCJNYXRoIiwibWluIiwicm91bmQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiRXJyb3IiLCJkcmF3SW1hZ2UiLCJkYXRhVXJsIiwidG9EYXRhVVJMIiwic3JjIiwicHJvY2Vzc0ZpbGUiLCJzaXplIiwiaXNJbWFnZSIsInR5cGUiLCJuYW1lIiwiZGF0YSIsImNodW5rZWQiLCJiYXNlNjRUb0Jsb2IiLCJieXRlQ2hhcnMiLCJhdG9iIiwiYnl0ZU51bWJlcnMiLCJVaW50OEFycmF5IiwibGVuZ3RoIiwiaSIsImNoYXJDb2RlQXQiLCJCbG9iIiwiYnVmZmVyIiwiZG93bmxvYWRBdHRhY2htZW50IiwiYXR0YWNobWVudCIsImJsb2IiLCJhIiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImdldEZpbGVJY29uIiwic3RhcnRzV2l0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/fileUtils.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/nostr.ts":
/*!**************************!*\
  !*** ./src/lib/nostr.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_RELAYS: () => (/* binding */ DEFAULT_RELAYS),\n/* harmony export */   nostrClient: () => (/* binding */ nostrClient)\n/* harmony export */ });\n/* harmony import */ var nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nostr-tools/pure */ \"(ssr)/./node_modules/nostr-tools/lib/esm/pure.js\");\n/* harmony import */ var nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nostr-tools/nip04 */ \"(ssr)/./node_modules/nostr-tools/lib/esm/nip04.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _chunkStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunkStore */ \"(ssr)/./src/lib/chunkStore.ts\");\n\n\n\n\nconst DEFAULT_RELAYS = [\n    \"wss://relay.damus.io\",\n    \"wss://nos.lol\",\n    \"wss://relay.snort.social\",\n    \"wss://relay.primal.net\",\n    \"wss://purplepag.es\",\n    \"wss://nostr.mom\",\n    \"wss://relay.nostr.bg\"\n];\nclass NostrClient {\n    get publicKey() {\n        return this._pk;\n    }\n    get privateKeyHex() {\n        return this._sk ? (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this._sk) : \"\";\n    }\n    get relays() {\n        return [\n            ...this._relays\n        ];\n    }\n    get channels() {\n        return [\n            ...this._channels\n        ];\n    }\n    get sk() {\n        return this._sk;\n    }\n    getRelayStatus(relay) {\n        return this.relayStatus.get(relay) || \"disconnected\";\n    }\n    get connectedRelayCount() {\n        let c = 0;\n        this.relayStatus.forEach((s)=>{\n            if (s === \"connected\") {\n                c++;\n            }\n        });\n        return c;\n    }\n    generateKeys() {\n        const sk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.generateSecretKey)();\n        const pk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.getPublicKey)(sk);\n        return {\n            privateKey: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(sk),\n            publicKey: pk\n        };\n    }\n    login(privateKeyHex) {\n        const sk = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)(privateKeyHex);\n        const pk = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.getPublicKey)(sk);\n        this._sk = sk;\n        this._pk = pk;\n        this._stopped = false;\n        localStorage.setItem(\"nostr_sk\", privateKeyHex);\n        return pk;\n    }\n    logout() {\n        this._stopped = true;\n        this.disconnectAll();\n        this._sk = null;\n        this._pk = \"\";\n        localStorage.removeItem(\"nostr_sk\");\n        localStorage.removeItem(\"nostr_contacts\");\n    }\n    tryAutoLogin() {\n        const sk = localStorage.getItem(\"nostr_sk\");\n        if (sk?.length === 64) {\n            try {\n                this.login(sk);\n                return true;\n            } catch  {\n                localStorage.removeItem(\"nostr_sk\");\n            }\n        }\n        return false;\n    }\n    onMessage(cb) {\n        this.messageCallbacks.add(cb);\n        return ()=>{\n            this.messageCallbacks.delete(cb);\n        };\n    }\n    onChannel(cb) {\n        this.channelCallbacks.add(cb);\n        return ()=>{\n            this.channelCallbacks.delete(cb);\n        };\n    }\n    onChannelMessage(cb) {\n        this.channelMessageCallbacks.add(cb);\n        return ()=>{\n            this.channelMessageCallbacks.delete(cb);\n        };\n    }\n    onProfile(cb) {\n        this.profileCallbacks.add(cb);\n        return ()=>{\n            this.profileCallbacks.delete(cb);\n        };\n    }\n    onConnection(cb) {\n        this.connectionCallbacks.add(cb);\n        return ()=>{\n            this.connectionCallbacks.delete(cb);\n        };\n    }\n    onSignal(cb) {\n        this.signalCallbacks.add(cb);\n        return ()=>{\n            this.signalCallbacks.delete(cb);\n        };\n    }\n    async connectToRelays() {\n        for (const r of this._relays)this.connectToRelay(r);\n    }\n    setChannels(channelIds) {\n        this._channels = [\n            ...new Set(channelIds.filter(Boolean))\n        ];\n        for (const [relay, ws] of this.sockets){\n            if (ws.readyState === WebSocket.OPEN) this.subscribeToChannels(relay);\n        }\n    }\n    connectToRelay(url) {\n        if (this._stopped) return;\n        if (this.sockets.has(url)) {\n            const e = this.sockets.get(url);\n            if (e.readyState === WebSocket.OPEN || e.readyState === WebSocket.CONNECTING) return;\n        }\n        this.relayStatus.set(url, \"connecting\");\n        this.connectionCallbacks.forEach((cb)=>cb(url, \"disconnected\"));\n        try {\n            const ws = new WebSocket(url);\n            const ct = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) ws.close();\n            }, 8000);\n            this.sockets.set(url, ws);\n            ws.onopen = ()=>{\n                clearTimeout(ct);\n                this.reconnectAttempts.set(url, 0);\n                this.relayStatus.set(url, \"connected\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"connected\"));\n                this.subscribeToMessages(url);\n            };\n            ws.onclose = ()=>{\n                clearTimeout(ct);\n                this.relayStatus.set(url, \"disconnected\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"disconnected\"));\n                this.sockets.delete(url);\n                this.scheduleReconnect(url);\n            };\n            ws.onerror = ()=>{\n                this.relayStatus.set(url, \"error\");\n                this.connectionCallbacks.forEach((cb)=>cb(url, \"error\"));\n            };\n            ws.onmessage = (e)=>{\n                try {\n                    this.handleRelayMessage(JSON.parse(e.data));\n                } catch  {}\n            };\n        } catch  {\n            this.relayStatus.set(url, \"error\");\n            this.scheduleReconnect(url);\n        }\n    }\n    scheduleReconnect(url) {\n        if (this._stopped) return;\n        const e = this.reconnectTimers.get(url);\n        if (e) clearTimeout(e);\n        const a = this.reconnectAttempts.get(url) || 0;\n        const d = Math.min(3000 * Math.pow(2, a), 60000);\n        this.reconnectAttempts.set(url, a + 1);\n        this.reconnectTimers.set(url, setTimeout(()=>{\n            if (!this._stopped && this._sk) this.connectToRelay(url);\n        }, d));\n    }\n    handleRelayMessage(data) {\n        if (!Array.isArray(data)) return;\n        if (data[0] === \"EVENT\") {\n            const ev = data[2];\n            if (!ev || this.seenEvents.has(ev.id)) return;\n            this.seenEvents.add(ev.id);\n            if (ev.kind === 4) this.handleEncryptedDM(ev);\n            else if (ev.kind === 0) this.handleProfileEvent(ev);\n            else if (ev.kind === 40) this.handleChannelEvent(ev);\n            else if (ev.kind === 42) this.handleChannelMessageEvent(ev);\n        }\n    }\n    async handleEncryptedDM(event) {\n        if (!this._sk) return;\n        const pTag = event.tags.find((t)=>t[0] === \"p\");\n        if (!pTag) return;\n        const isForMe = pTag[1] === this._pk, isFromMe = event.pubkey === this._pk;\n        if (!isForMe && !isFromMe) return;\n        const other = isFromMe ? pTag[1] : event.pubkey;\n        try {\n            const dec = await (0,nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__.decrypt)(this._sk, other, event.content);\n            try {\n                const p = JSON.parse(dec);\n                if (p?._nostr_msg_type) {\n                    const mt = p._nostr_msg_type;\n                    if (mt === \"text\") {\n                        this.messageCallbacks.forEach((cb)=>cb({\n                                id: event.id,\n                                from: event.pubkey,\n                                to: pTag[1],\n                                content: p.text || \"\",\n                                timestamp: event.created_at * 1000,\n                                msgType: \"text\",\n                                replyTo: p.replyTo\n                            }));\n                        return;\n                    }\n                    if ([\n                        \"webrtc-offer\",\n                        \"webrtc-answer\",\n                        \"webrtc-ice\",\n                        \"call-request\",\n                        \"call-accept\",\n                        \"call-reject\",\n                        \"call-end\"\n                    ].includes(mt)) {\n                        this.signalCallbacks.forEach((cb)=>cb(event.pubkey, {\n                                type: mt,\n                                sdp: p.sdp,\n                                candidate: p.candidate,\n                                callType: p.callType\n                            }));\n                        return;\n                    }\n                    if (mt === \"file-chunk\") {\n                        this.handleFileChunk(event.id, event.pubkey, pTag[1], event.created_at * 1000, p);\n                        return;\n                    }\n                    if (mt === \"file-meta\") {\n                        const transferId = p.transferId || \"\";\n                        if (!transferId) return;\n                        const fileType = p.fileType === \"image\" ? \"image\" : \"file\";\n                        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n                            transferId,\n                            fileName: p.fileName || \"file\",\n                            mimeType: p.mimeType || \"application/octet-stream\",\n                            fileType,\n                            size: p.size || 0,\n                            totalChunks: p.totalChunks || 0,\n                            text: p.text || \"\"\n                        });\n                        return;\n                    }\n                    if (mt === \"image\" || mt === \"file\") {\n                        this.messageCallbacks.forEach((cb)=>cb({\n                                id: event.id,\n                                from: event.pubkey,\n                                to: pTag[1],\n                                content: p.text || \"\",\n                                timestamp: event.created_at * 1000,\n                                msgType: mt,\n                                replyTo: p.replyTo,\n                                attachment: {\n                                    type: mt,\n                                    name: p.fileName || \"file\",\n                                    mimeType: p.mimeType || \"application/octet-stream\",\n                                    data: p.data || \"\",\n                                    size: p.size || 0\n                                }\n                            }));\n                        return;\n                    }\n                }\n            } catch  {}\n            this.messageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: pTag[1],\n                    content: dec,\n                    timestamp: event.created_at * 1000,\n                    msgType: \"text\"\n                }));\n        } catch  {}\n    }\n    async handleFileChunk(eventId, from, to, timestamp, p) {\n        const transferId = p.transferId;\n        const chunkIndex = p.chunkIndex;\n        const totalChunks = p.totalChunks;\n        const data = p.data;\n        if (!transferId || typeof chunkIndex !== \"number\" || typeof totalChunks !== \"number\" || typeof data !== \"string\") return;\n        const fileType = p.fileType === \"image\" ? \"image\" : \"file\";\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.ensureTransfer)({\n            transferId,\n            fileName: p.fileName || \"file\",\n            mimeType: p.mimeType || \"application/octet-stream\",\n            fileType,\n            size: p.size || 0,\n            totalChunks,\n            text: p.text || \"\"\n        });\n        await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.storeChunk)(transferId, chunkIndex, totalChunks, data);\n        const done = await (0,_chunkStore__WEBPACK_IMPORTED_MODULE_0__.isTransferComplete)(transferId);\n        if (!done) return;\n        this.messageCallbacks.forEach((cb)=>cb({\n                id: `${eventId}-assembled-${transferId}`,\n                from,\n                to,\n                content: p.text || \"\",\n                timestamp,\n                msgType: fileType,\n                replyTo: p.replyTo,\n                attachment: {\n                    type: fileType,\n                    name: p.fileName || \"file\",\n                    mimeType: p.mimeType || \"application/octet-stream\",\n                    data: \"\",\n                    size: p.size || 0,\n                    transferId,\n                    totalChunks,\n                    chunked: true\n                }\n            }));\n    }\n    handleProfileEvent(event) {\n        try {\n            const p = JSON.parse(event.content);\n            this.profileCache.set(event.pubkey, p);\n            this.pendingProfiles.delete(event.pubkey);\n            this.profileCallbacks.forEach((cb)=>cb(event.pubkey, p));\n        } catch  {}\n    }\n    handleChannelEvent(event) {\n        try {\n            const payload = JSON.parse(event.content);\n            const channel = {\n                id: event.id,\n                name: payload.name?.trim() || `channel-${event.id.slice(0, 8)}`,\n                about: payload.about,\n                createdBy: event.pubkey,\n                createdAt: event.created_at * 1000\n            };\n            this.channelCallbacks.forEach((cb)=>cb(channel));\n        } catch  {}\n    }\n    handleChannelMessageEvent(event) {\n        const eTag = event.tags.find((t)=>t[0] === \"e\")?.[1];\n        if (!eTag) return;\n        try {\n            const payload = JSON.parse(event.content);\n            this.channelMessageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: \"\",\n                    content: payload.text || \"\",\n                    timestamp: event.created_at * 1000,\n                    msgType: \"channel\",\n                    channelId: eTag,\n                    replyTo: payload.replyTo\n                }));\n        } catch  {\n            this.channelMessageCallbacks.forEach((cb)=>cb({\n                    id: event.id,\n                    from: event.pubkey,\n                    to: \"\",\n                    content: event.content || \"\",\n                    timestamp: event.created_at * 1000,\n                    msgType: \"channel\",\n                    channelId: eTag\n                }));\n        }\n    }\n    subscribeToMessages(relayUrl) {\n        if (!this._pk) return;\n        const ws = this.sockets.get(relayUrl);\n        if (!ws || ws.readyState !== WebSocket.OPEN) return;\n        const subId = \"dm-\" + Math.random().toString(36).slice(2, 8);\n        const since = Math.floor(Date.now() / 1000) - 86400 * 30;\n        ws.send(JSON.stringify([\n            \"REQ\",\n            subId,\n            {\n                kinds: [\n                    4\n                ],\n                \"#p\": [\n                    this._pk\n                ],\n                since\n            },\n            {\n                kinds: [\n                    4\n                ],\n                authors: [\n                    this._pk\n                ],\n                since\n            }\n        ]));\n        this.subscriptions.set(subId, {\n            filters: [],\n            relay: relayUrl\n        });\n        this.subscribeToChannels(relayUrl);\n    }\n    subscribeToChannels(relayUrl) {\n        const ws = this.sockets.get(relayUrl);\n        if (!ws || ws.readyState !== WebSocket.OPEN) return;\n        if (this._channels.length === 0) return; // Do not subscribe to global channels\n        const subId = \"ch-\" + Math.random().toString(36).slice(2, 8);\n        const since = Math.floor(Date.now() / 1000) - 86400 * 30;\n        // Only subscribe to channels the user has joined\n        ws.send(JSON.stringify([\n            \"REQ\",\n            subId,\n            {\n                kinds: [\n                    40\n                ],\n                ids: this._channels,\n                since\n            },\n            {\n                kinds: [\n                    42\n                ],\n                \"#e\": this._channels,\n                since\n            }\n        ]));\n        this.subscriptions.set(subId, {\n            filters: [],\n            relay: relayUrl\n        });\n    }\n    async sendEncryptedPayload(recipientPubkey, payload) {\n        if (!this._sk) throw new Error(\" \");\n        const encrypted = await (0,nostr_tools_nip04__WEBPACK_IMPORTED_MODULE_3__.encrypt)(this._sk, recipientPubkey, payload);\n        const ev = {\n            kind: 4,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [\n                [\n                    \"p\",\n                    recipientPubkey\n                ]\n            ],\n            content: encrypted,\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        this.seenEvents.add(event.id);\n        const json = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        const open = [];\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) open.push(ws);\n        if (!open.length) throw new Error(\"  \");\n        open.forEach((ws)=>{\n            try {\n                ws.send(json);\n            } catch  {}\n        });\n        return event.id;\n    }\n    bytesToBase64(bytes) {\n        let bin = \"\";\n        const step = 0x8000;\n        for(let i = 0; i < bytes.length; i += step){\n            bin += String.fromCharCode(...bytes.subarray(i, i + step));\n        }\n        return btoa(bin);\n    }\n    async sendDirectMessage(recipientPubkey, content, replyTo) {\n        const payload = replyTo ? JSON.stringify({\n            _nostr_msg_type: \"text\",\n            text: content,\n            replyTo\n        }) : content;\n        const id = await this.sendEncryptedPayload(recipientPubkey, payload);\n        return {\n            id,\n            from: this._pk,\n            to: recipientPubkey,\n            content,\n            timestamp: Date.now(),\n            msgType: \"text\",\n            replyTo\n        };\n    }\n    static{\n        // 256KB chunks, parallel send by 3\n        this.CHUNK_SIZE = 262144;\n    }\n    static{\n        this.PARALLEL = 3;\n    }\n    async sendAttachment(recipientPubkey, attachment, text, onProgress, replyTo) {\n        const maxSize = 2 * 1024 * 1024 * 1024;\n        if (attachment.size > maxSize) throw new Error(\"File is too large. Max size is 2GB.\");\n        if (!attachment.file) {\n            const b64 = attachment.data;\n            if (b64.length < 40000) {\n                const id = await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                    _nostr_msg_type: attachment.type,\n                    fileName: attachment.name,\n                    mimeType: attachment.mimeType,\n                    data: b64,\n                    size: attachment.size,\n                    text: text || \"\",\n                    replyTo\n                }));\n                return {\n                    id,\n                    from: this._pk,\n                    to: recipientPubkey,\n                    content: text || \"\",\n                    timestamp: Date.now(),\n                    msgType: attachment.type,\n                    attachment,\n                    replyTo\n                };\n            }\n        }\n        const file = attachment.file;\n        const transferId = Math.random().toString(36).slice(2) + Date.now().toString(36);\n        const fileSize = file ? file.size : attachment.size;\n        const totalChunks = Math.ceil(fileSize / NostrClient.CHUNK_SIZE);\n        let lastId = \"\";\n        let sent = 0;\n        await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n            _nostr_msg_type: \"file-meta\",\n            transferId,\n            totalChunks,\n            fileName: attachment.name,\n            mimeType: attachment.mimeType,\n            size: fileSize,\n            text: text || \"\",\n            fileType: attachment.type,\n            replyTo\n        }));\n        for(let batch = 0; batch < totalChunks; batch += NostrClient.PARALLEL){\n            const promises = [];\n            for(let j = 0; j < NostrClient.PARALLEL && batch + j < totalChunks; j++){\n                const i = batch + j;\n                if (file) {\n                    const start = i * NostrClient.CHUNK_SIZE;\n                    const end = Math.min(start + NostrClient.CHUNK_SIZE, fileSize);\n                    const bytes = new Uint8Array(await file.slice(start, end).arrayBuffer());\n                    const data = this.bytesToBase64(bytes);\n                    promises.push(this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                        _nostr_msg_type: \"file-chunk\",\n                        transferId,\n                        chunkIndex: i,\n                        totalChunks,\n                        data,\n                        fileName: attachment.name,\n                        mimeType: attachment.mimeType,\n                        size: fileSize,\n                        text: text || \"\",\n                        fileType: attachment.type,\n                        replyTo\n                    })));\n                } else {\n                    const base64ChunkSize = Math.floor(NostrClient.CHUNK_SIZE / 3 * 4);\n                    const chunk = attachment.data.slice(i * base64ChunkSize, (i + 1) * base64ChunkSize);\n                    promises.push(this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n                        _nostr_msg_type: \"file-chunk\",\n                        transferId,\n                        chunkIndex: i,\n                        totalChunks,\n                        data: chunk,\n                        fileName: attachment.name,\n                        mimeType: attachment.mimeType,\n                        size: fileSize,\n                        text: text || \"\",\n                        fileType: attachment.type,\n                        replyTo\n                    })));\n                }\n            }\n            const ids = await Promise.all(promises);\n            lastId = ids[ids.length - 1] || lastId;\n            sent += promises.length;\n            onProgress?.(sent, totalChunks);\n            if (sent < totalChunks) await new Promise((r)=>setTimeout(r, 50));\n        }\n        return {\n            id: lastId || `local-${transferId}`,\n            from: this._pk,\n            to: recipientPubkey,\n            content: text || \"\",\n            timestamp: Date.now(),\n            msgType: attachment.type,\n            replyTo,\n            attachment: {\n                ...attachment,\n                data: attachment.file ? \"\" : attachment.data,\n                transferId,\n                totalChunks,\n                chunked: true\n            }\n        };\n    }\n    async sendWebRTCSignal(recipientPubkey, signal) {\n        await this.sendEncryptedPayload(recipientPubkey, JSON.stringify({\n            _nostr_msg_type: signal.type,\n            sdp: signal.sdp,\n            candidate: signal.candidate,\n            callType: signal.callType\n        }));\n    }\n    async createChannel(name, about) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 40,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [],\n            content: JSON.stringify({\n                name,\n                about: about || \"\"\n            }),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const payload = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) try {\n            ws.send(payload);\n        } catch  {}\n        const channel = {\n            id: event.id,\n            name,\n            about,\n            createdBy: this._pk,\n            createdAt: Date.now()\n        };\n        this.channelCallbacks.forEach((cb)=>cb(channel));\n        return channel;\n    }\n    async sendChannelMessage(channelId, text, replyTo) {\n        if (!this._sk) throw new Error(\"Not authorized\");\n        const ev = {\n            kind: 42,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [\n                [\n                    \"e\",\n                    channelId,\n                    \"\",\n                    \"root\"\n                ]\n            ],\n            content: JSON.stringify({\n                text,\n                replyTo\n            }),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const payload = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        let sent = false;\n        for (const [, ws] of this.sockets){\n            if (ws.readyState !== WebSocket.OPEN) continue;\n            sent = true;\n            try {\n                ws.send(payload);\n            } catch  {}\n        }\n        if (!sent) throw new Error(\"No connected relays\");\n        return {\n            id: event.id,\n            from: this._pk,\n            to: \"\",\n            content: text,\n            timestamp: Date.now(),\n            msgType: \"channel\",\n            channelId,\n            replyTo\n        };\n    }\n    requestProfile(pubkey) {\n        if (this.profileCache.has(pubkey)) return this.profileCache.get(pubkey);\n        if (this.pendingProfiles.has(pubkey)) return null;\n        this.pendingProfiles.add(pubkey);\n        const subId = \"p-\" + Math.random().toString(36).slice(2, 8);\n        for (const [, ws] of this.sockets){\n            if (ws.readyState === WebSocket.OPEN) {\n                ws.send(JSON.stringify([\n                    \"REQ\",\n                    subId,\n                    {\n                        kinds: [\n                            0\n                        ],\n                        authors: [\n                            pubkey\n                        ],\n                        limit: 1\n                    }\n                ]));\n                break;\n            }\n        }\n        return null;\n    }\n    getProfile(pubkey) {\n        return this.profileCache.get(pubkey) || null;\n    }\n    async updateProfile(profile) {\n        if (!this._sk) throw new Error(\" \");\n        const ev = {\n            kind: 0,\n            created_at: Math.floor(Date.now() / 1000),\n            tags: [],\n            content: JSON.stringify(profile),\n            pubkey: this._pk\n        };\n        const event = (0,nostr_tools_pure__WEBPACK_IMPORTED_MODULE_2__.finalizeEvent)(ev, this._sk);\n        const json = JSON.stringify([\n            \"EVENT\",\n            event\n        ]);\n        for (const [, ws] of this.sockets)if (ws.readyState === WebSocket.OPEN) try {\n            ws.send(json);\n        } catch  {}\n        this.profileCache.set(this._pk, profile);\n    }\n    disconnectAll() {\n        for (const [, t] of this.reconnectTimers)clearTimeout(t);\n        this.reconnectTimers.clear();\n        this.reconnectAttempts.clear();\n        for (const [, ws] of this.sockets)ws.close();\n        this.sockets.clear();\n        this.subscriptions.clear();\n        this.relayStatus.clear();\n    }\n    addRelay(url) {\n        if (!this._relays.includes(url)) {\n            this._relays.push(url);\n            this.connectToRelay(url);\n        }\n    }\n    removeRelay(url) {\n        this._relays = this._relays.filter((r)=>r !== url);\n        const t = this.reconnectTimers.get(url);\n        if (t) {\n            clearTimeout(t);\n            this.reconnectTimers.delete(url);\n        }\n        this.reconnectAttempts.delete(url);\n        const ws = this.sockets.get(url);\n        if (ws) {\n            ws.close();\n            this.sockets.delete(url);\n        }\n        this.relayStatus.delete(url);\n    }\n    shortenKey(key) {\n        return !key || key.length < 16 ? key : key.slice(0, 8) + \"\" + key.slice(-8);\n    }\n    isValidHexKey(key) {\n        return /^[0-9a-fA-F]{64}$/.test(key);\n    }\n    constructor(){\n        this._sk = null;\n        this._pk = \"\";\n        this.sockets = new Map();\n        this.relayStatus = new Map();\n        this.subscriptions = new Map();\n        this.messageCallbacks = new Set();\n        this.channelCallbacks = new Set();\n        this.channelMessageCallbacks = new Set();\n        this.profileCallbacks = new Set();\n        this.connectionCallbacks = new Set();\n        this.signalCallbacks = new Set();\n        this.profileCache = new Map();\n        this.pendingProfiles = new Set();\n        this.seenEvents = new Set();\n        this._relays = [\n            ...DEFAULT_RELAYS\n        ];\n        this.reconnectAttempts = new Map();\n        this.reconnectTimers = new Map();\n        this._stopped = false;\n        this._channels = [];\n    }\n}\nconst nostrClient = new NostrClient();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUU7UUFBRSxPQUFPLG9CQUFvQkUsSUFBSSxDQUFDRjtJQUFNOzthQXhnQjNEak4sTUFBeUI7YUFDekJGLE1BQWM7YUFDZHFELFVBQWtDLElBQUlpSzthQUN0QzVNLGNBQWtGLElBQUk0TTthQUN0RjFELGdCQUFtRSxJQUFJMEQ7YUFDdkV2TCxtQkFBeUMsSUFBSWtCO2FBQzdDZCxtQkFBeUMsSUFBSWM7YUFDN0NaLDBCQUF1RCxJQUFJWTthQUMzRFYsbUJBQXlDLElBQUlVO2FBQzdDUixzQkFBK0MsSUFBSVE7YUFDbkROLGtCQUF1QyxJQUFJTTthQUMzQ29GLGVBQTBDLElBQUlpRjthQUM5Q2hGLGtCQUErQixJQUFJckY7YUFDbkNzQyxhQUEwQixJQUFJdEM7YUFDOUI3QyxVQUFvQjtlQUFJUDtTQUFlO2FBQ3ZDdUUsb0JBQXlDLElBQUlrSjthQUM3Q3hJLGtCQUE4RCxJQUFJd0k7YUFDbEVsTSxXQUFXO2FBQ1hkLFlBQXNCLEVBQUU7O0FBdWZsQztBQUVPLE1BQU1pTixjQUFjLElBQUl6TixjQUFjO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvbm9zdHIudHM/ZjhmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVNlY3JldEtleSwgZ2V0UHVibGljS2V5LCBmaW5hbGl6ZUV2ZW50LCB0eXBlIFVuc2lnbmVkRXZlbnQgfSBmcm9tICdub3N0ci10b29scy9wdXJlJztcbmltcG9ydCB7IGVuY3J5cHQsIGRlY3J5cHQgfSBmcm9tICdub3N0ci10b29scy9uaXAwNCc7XG5pbXBvcnQgeyBieXRlc1RvSGV4LCBoZXhUb0J5dGVzIH0gZnJvbSAnQG5vYmxlL2hhc2hlcy91dGlscyc7XG5pbXBvcnQgdHlwZSB7IEZpbHRlciB9IGZyb20gJ25vc3RyLXRvb2xzJztcbmltcG9ydCB7IGVuc3VyZVRyYW5zZmVyLCBpc1RyYW5zZmVyQ29tcGxldGUsIHN0b3JlQ2h1bmsgfSBmcm9tICcuL2NodW5rU3RvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vc3RyUHJvZmlsZSB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGFib3V0Pzogc3RyaW5nO1xuICBwaWN0dXJlPzogc3RyaW5nO1xuICBuaXAwNT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3N0ckV2ZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgcHVia2V5OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcbiAga2luZDogbnVtYmVyO1xuICB0YWdzOiBzdHJpbmdbXVtdO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHNpZzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlVHlwZSA9XG4gIHwgJ3RleHQnXG4gIHwgJ2ltYWdlJ1xuICB8ICdmaWxlJ1xuICB8ICdmaWxlLW1ldGEnXG4gIHwgJ2ZpbGUtY2h1bmsnXG4gIHwgJ2NoYW5uZWwnXG4gIHwgJ3dlYnJ0Yy1vZmZlcidcbiAgfCAnd2VicnRjLWFuc3dlcidcbiAgfCAnd2VicnRjLWljZSdcbiAgfCAnY2FsbC1yZXF1ZXN0J1xuICB8ICdjYWxsLWFjY2VwdCdcbiAgfCAnY2FsbC1yZWplY3QnXG4gIHwgJ2NhbGwtZW5kJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXBseVJlZiB7XG4gIGlkOiBzdHJpbmc7XG4gIGZyb206IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICB0eXBlOiAnaW1hZ2UnIHwgJ2ZpbGUnO1xuICBuYW1lOiBzdHJpbmc7XG4gIG1pbWVUeXBlOiBzdHJpbmc7XG4gIGRhdGE6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICBmaWxlPzogRmlsZTtcbiAgdHJhbnNmZXJJZD86IHN0cmluZztcbiAgdG90YWxDaHVua3M/OiBudW1iZXI7XG4gIGNodW5rZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBmcm9tOiBzdHJpbmc7XG4gIHRvOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHBlbmRpbmc/OiBib29sZWFuO1xuICBmYWlsZWQ/OiBib29sZWFuO1xuICBtc2dUeXBlPzogTWVzc2FnZVR5cGU7XG4gIGF0dGFjaG1lbnQ/OiBBdHRhY2htZW50O1xuICByZXBseVRvPzogUmVwbHlSZWY7XG4gIGNoYW5uZWxJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBhYm91dD86IHN0cmluZztcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhY3Qge1xuICBwdWJrZXk6IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgYWJvdXQ/OiBzdHJpbmc7XG4gIHBpY3R1cmU/OiBzdHJpbmc7XG4gIGxhc3RNZXNzYWdlPzogc3RyaW5nO1xuICBsYXN0TWVzc2FnZVRpbWU/OiBudW1iZXI7XG4gIHVucmVhZD86IG51bWJlcjtcbiAgb25saW5lPzogYm9vbGVhbjtcbn1cblxuY29uc3QgREVGQVVMVF9SRUxBWVMgPSBbXG4gICd3c3M6Ly9yZWxheS5kYW11cy5pbycsXG4gICd3c3M6Ly9ub3MubG9sJyxcbiAgJ3dzczovL3JlbGF5LnNub3J0LnNvY2lhbCcsXG4gICd3c3M6Ly9yZWxheS5wcmltYWwubmV0JyxcbiAgJ3dzczovL3B1cnBsZXBhZy5lcycsXG4gICd3c3M6Ly9ub3N0ci5tb20nLFxuICAnd3NzOi8vcmVsYXkubm9zdHIuYmcnLFxuXTtcblxudHlwZSBNZXNzYWdlQ2FsbGJhY2sgPSAobXNnOiBEaXJlY3RNZXNzYWdlKSA9PiB2b2lkO1xudHlwZSBDaGFubmVsQ2FsbGJhY2sgPSAoY2hhbm5lbDogQ2hhbm5lbCkgPT4gdm9pZDtcbnR5cGUgQ2hhbm5lbE1lc3NhZ2VDYWxsYmFjayA9IChtc2c6IERpcmVjdE1lc3NhZ2UpID0+IHZvaWQ7XG50eXBlIFByb2ZpbGVDYWxsYmFjayA9IChwdWJrZXk6IHN0cmluZywgcHJvZmlsZTogTm9zdHJQcm9maWxlKSA9PiB2b2lkO1xudHlwZSBDb25uZWN0aW9uQ2FsbGJhY2sgPSAocmVsYXk6IHN0cmluZywgc3RhdHVzOiAnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ2Vycm9yJykgPT4gdm9pZDtcbnR5cGUgU2lnbmFsQ2FsbGJhY2sgPSAoZnJvbTogc3RyaW5nLCBzaWduYWw6IFdlYlJUQ1NpZ25hbCkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBXZWJSVENTaWduYWwge1xuICB0eXBlOiBNZXNzYWdlVHlwZTtcbiAgc2RwPzogc3RyaW5nO1xuICBjYW5kaWRhdGU/OiBSVENJY2VDYW5kaWRhdGVJbml0O1xuICBjYWxsVHlwZT86ICdhdWRpbycgfCAndmlkZW8nO1xufVxuXG5jbGFzcyBOb3N0ckNsaWVudCB7XG4gIHByaXZhdGUgX3NrOiBVaW50OEFycmF5IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX3BrOiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBzb2NrZXRzOiBNYXA8c3RyaW5nLCBXZWJTb2NrZXQ+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHJlbGF5U3RhdHVzOiBNYXA8c3RyaW5nLCAnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Vycm9yJz4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uczogTWFwPHN0cmluZywgeyBmaWx0ZXJzOiBGaWx0ZXJbXTsgcmVsYXk6IHN0cmluZyB9PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBtZXNzYWdlQ2FsbGJhY2tzOiBTZXQ8TWVzc2FnZUNhbGxiYWNrPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBjaGFubmVsQ2FsbGJhY2tzOiBTZXQ8Q2hhbm5lbENhbGxiYWNrPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBjaGFubmVsTWVzc2FnZUNhbGxiYWNrczogU2V0PENoYW5uZWxNZXNzYWdlQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHByb2ZpbGVDYWxsYmFja3M6IFNldDxQcm9maWxlQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNvbm5lY3Rpb25DYWxsYmFja3M6IFNldDxDb25uZWN0aW9uQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHNpZ25hbENhbGxiYWNrczogU2V0PFNpZ25hbENhbGxiYWNrPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBwcm9maWxlQ2FjaGU6IE1hcDxzdHJpbmcsIE5vc3RyUHJvZmlsZT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcGVuZGluZ1Byb2ZpbGVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBzZWVuRXZlbnRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBfcmVsYXlzOiBzdHJpbmdbXSA9IFsuLi5ERUZBVUxUX1JFTEFZU107XG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVjb25uZWN0VGltZXJzOiBNYXA8c3RyaW5nLCBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0Pj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgX3N0b3BwZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfY2hhbm5lbHM6IHN0cmluZ1tdID0gW107XG5cbiAgZ2V0IHB1YmxpY0tleSgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fcGs7IH1cbiAgZ2V0IHByaXZhdGVLZXlIZXgoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuX3NrID8gYnl0ZXNUb0hleCh0aGlzLl9zaykgOiAnJzsgfVxuICBnZXQgcmVsYXlzKCk6IHN0cmluZ1tdIHsgcmV0dXJuIFsuLi50aGlzLl9yZWxheXNdOyB9XG4gIGdldCBjaGFubmVscygpOiBzdHJpbmdbXSB7IHJldHVybiBbLi4udGhpcy5fY2hhbm5lbHNdOyB9XG4gIGdldCBzaygpOiBVaW50OEFycmF5IHwgbnVsbCB7IHJldHVybiB0aGlzLl9zazsgfVxuXG4gIGdldFJlbGF5U3RhdHVzKHJlbGF5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnJlbGF5U3RhdHVzLmdldChyZWxheSkgfHwgJ2Rpc2Nvbm5lY3RlZCc7XG4gIH1cblxuICBnZXQgY29ubmVjdGVkUmVsYXlDb3VudCgpOiBudW1iZXIge1xuICAgIGxldCBjID0gMDtcbiAgICB0aGlzLnJlbGF5U3RhdHVzLmZvckVhY2goKHMpID0+IHtcbiAgICAgIGlmIChzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICBjKys7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBnZW5lcmF0ZUtleXMoKSB7XG4gICAgY29uc3Qgc2sgPSBnZW5lcmF0ZVNlY3JldEtleSgpO1xuICAgIGNvbnN0IHBrID0gZ2V0UHVibGljS2V5KHNrKTtcbiAgICByZXR1cm4geyBwcml2YXRlS2V5OiBieXRlc1RvSGV4KHNrKSwgcHVibGljS2V5OiBwayB9O1xuICB9XG5cbiAgbG9naW4ocHJpdmF0ZUtleUhleDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBzayA9IGhleFRvQnl0ZXMocHJpdmF0ZUtleUhleCk7XG4gICAgY29uc3QgcGsgPSBnZXRQdWJsaWNLZXkoc2spO1xuICAgIHRoaXMuX3NrID0gc2s7IHRoaXMuX3BrID0gcGs7IHRoaXMuX3N0b3BwZWQgPSBmYWxzZTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbm9zdHJfc2snLCBwcml2YXRlS2V5SGV4KTtcbiAgICByZXR1cm4gcGs7XG4gIH1cblxuICBsb2dvdXQoKSB7XG4gICAgdGhpcy5fc3RvcHBlZCA9IHRydWU7IHRoaXMuZGlzY29ubmVjdEFsbCgpO1xuICAgIHRoaXMuX3NrID0gbnVsbDsgdGhpcy5fcGsgPSAnJztcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbm9zdHJfc2snKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbm9zdHJfY29udGFjdHMnKTtcbiAgfVxuXG4gIHRyeUF1dG9Mb2dpbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBzayA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdub3N0cl9zaycpO1xuICAgIGlmIChzaz8ubGVuZ3RoID09PSA2NCkgeyB0cnkgeyB0aGlzLmxvZ2luKHNrKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbm9zdHJfc2snKTsgfSB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgb25NZXNzYWdlKGNiOiBNZXNzYWdlQ2FsbGJhY2spIHsgdGhpcy5tZXNzYWdlQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMubWVzc2FnZUNhbGxiYWNrcy5kZWxldGUoY2IpOyB9OyB9XG4gIG9uQ2hhbm5lbChjYjogQ2hhbm5lbENhbGxiYWNrKSB7IHRoaXMuY2hhbm5lbENhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLmNoYW5uZWxDYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuICBvbkNoYW5uZWxNZXNzYWdlKGNiOiBDaGFubmVsTWVzc2FnZUNhbGxiYWNrKSB7IHRoaXMuY2hhbm5lbE1lc3NhZ2VDYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5kZWxldGUoY2IpOyB9OyB9XG4gIG9uUHJvZmlsZShjYjogUHJvZmlsZUNhbGxiYWNrKSB7IHRoaXMucHJvZmlsZUNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLnByb2ZpbGVDYWxsYmFja3MuZGVsZXRlKGNiKTsgfTsgfVxuICBvbkNvbm5lY3Rpb24oY2I6IENvbm5lY3Rpb25DYWxsYmFjaykgeyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuYWRkKGNiKTsgcmV0dXJuICgpID0+IHsgdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25TaWduYWwoY2I6IFNpZ25hbENhbGxiYWNrKSB7IHRoaXMuc2lnbmFsQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMuc2lnbmFsQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cblxuICBhc3luYyBjb25uZWN0VG9SZWxheXMoKSB7IGZvciAoY29uc3QgciBvZiB0aGlzLl9yZWxheXMpIHRoaXMuY29ubmVjdFRvUmVsYXkocik7IH1cblxuICBzZXRDaGFubmVscyhjaGFubmVsSWRzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX2NoYW5uZWxzID0gWy4uLm5ldyBTZXQoY2hhbm5lbElkcy5maWx0ZXIoQm9vbGVhbikpXTtcbiAgICBmb3IgKGNvbnN0IFtyZWxheSwgd3NdIG9mIHRoaXMuc29ja2V0cykge1xuICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB0aGlzLnN1YnNjcmliZVRvQ2hhbm5lbHMocmVsYXkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29ubmVjdFRvUmVsYXkodXJsOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5fc3RvcHBlZCkgcmV0dXJuO1xuICAgIGlmICh0aGlzLnNvY2tldHMuaGFzKHVybCkpIHtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLnNvY2tldHMuZ2V0KHVybCkhO1xuICAgICAgaWYgKGUucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHwgZS5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlbGF5U3RhdHVzLnNldCh1cmwsICdjb25uZWN0aW5nJyk7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IodXJsLCAnZGlzY29ubmVjdGVkJykpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodXJsKTtcbiAgICAgIGNvbnN0IGN0ID0gc2V0VGltZW91dCgoKSA9PiB7IGlmICh3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgd3MuY2xvc2UoKTsgfSwgODAwMCk7XG4gICAgICB0aGlzLnNvY2tldHMuc2V0KHVybCwgd3MpO1xuICAgICAgd3Mub25vcGVuID0gKCkgPT4geyBjbGVhclRpbWVvdXQoY3QpOyB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldCh1cmwsIDApOyB0aGlzLnJlbGF5U3RhdHVzLnNldCh1cmwsICdjb25uZWN0ZWQnKTsgdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IodXJsLCAnY29ubmVjdGVkJykpOyB0aGlzLnN1YnNjcmliZVRvTWVzc2FnZXModXJsKTsgfTtcbiAgICAgIHdzLm9uY2xvc2UgPSAoKSA9PiB7IGNsZWFyVGltZW91dChjdCk7IHRoaXMucmVsYXlTdGF0dXMuc2V0KHVybCwgJ2Rpc2Nvbm5lY3RlZCcpOyB0aGlzLmNvbm5lY3Rpb25DYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih1cmwsICdkaXNjb25uZWN0ZWQnKSk7IHRoaXMuc29ja2V0cy5kZWxldGUodXJsKTsgdGhpcy5zY2hlZHVsZVJlY29ubmVjdCh1cmwpOyB9O1xuICAgICAgd3Mub25lcnJvciA9ICgpID0+IHsgdGhpcy5yZWxheVN0YXR1cy5zZXQodXJsLCAnZXJyb3InKTsgdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzLmZvckVhY2goY2IgPT4gY2IodXJsLCAnZXJyb3InKSk7IH07XG4gICAgICB3cy5vbm1lc3NhZ2UgPSAoZSkgPT4geyB0cnkgeyB0aGlzLmhhbmRsZVJlbGF5TWVzc2FnZShKU09OLnBhcnNlKGUuZGF0YSkpOyB9IGNhdGNoIHt9IH07XG4gICAgfSBjYXRjaCB7IHRoaXMucmVsYXlTdGF0dXMuc2V0KHVybCwgJ2Vycm9yJyk7IHRoaXMuc2NoZWR1bGVSZWNvbm5lY3QodXJsKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBzY2hlZHVsZVJlY29ubmVjdCh1cmw6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl9zdG9wcGVkKSByZXR1cm47XG4gICAgY29uc3QgZSA9IHRoaXMucmVjb25uZWN0VGltZXJzLmdldCh1cmwpOyBpZiAoZSkgY2xlYXJUaW1lb3V0KGUpO1xuICAgIGNvbnN0IGEgPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmdldCh1cmwpIHx8IDA7XG4gICAgY29uc3QgZCA9IE1hdGgubWluKDMwMDAgKiBNYXRoLnBvdygyLCBhKSwgNjAwMDApO1xuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuc2V0KHVybCwgYSArIDEpO1xuICAgIHRoaXMucmVjb25uZWN0VGltZXJzLnNldCh1cmwsIHNldFRpbWVvdXQoKCkgPT4geyBpZiAoIXRoaXMuX3N0b3BwZWQgJiYgdGhpcy5fc2spIHRoaXMuY29ubmVjdFRvUmVsYXkodXJsKTsgfSwgZCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSZWxheU1lc3NhZ2UoZGF0YTogdW5rbm93bltdKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSByZXR1cm47XG4gICAgaWYgKGRhdGFbMF0gPT09ICdFVkVOVCcpIHtcbiAgICAgIGNvbnN0IGV2ID0gZGF0YVsyXSBhcyBOb3N0ckV2ZW50O1xuICAgICAgaWYgKCFldiB8fCB0aGlzLnNlZW5FdmVudHMuaGFzKGV2LmlkKSkgcmV0dXJuO1xuICAgICAgdGhpcy5zZWVuRXZlbnRzLmFkZChldi5pZCk7XG4gICAgICBpZiAoZXYua2luZCA9PT0gNCkgdGhpcy5oYW5kbGVFbmNyeXB0ZWRETShldik7XG4gICAgICBlbHNlIGlmIChldi5raW5kID09PSAwKSB0aGlzLmhhbmRsZVByb2ZpbGVFdmVudChldik7XG4gICAgICBlbHNlIGlmIChldi5raW5kID09PSA0MCkgdGhpcy5oYW5kbGVDaGFubmVsRXZlbnQoZXYpO1xuICAgICAgZWxzZSBpZiAoZXYua2luZCA9PT0gNDIpIHRoaXMuaGFuZGxlQ2hhbm5lbE1lc3NhZ2VFdmVudChldik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVFbmNyeXB0ZWRETShldmVudDogTm9zdHJFdmVudCkge1xuICAgIGlmICghdGhpcy5fc2spIHJldHVybjtcbiAgICBjb25zdCBwVGFnID0gZXZlbnQudGFncy5maW5kKHQgPT4gdFswXSA9PT0gJ3AnKTsgaWYgKCFwVGFnKSByZXR1cm47XG4gICAgY29uc3QgaXNGb3JNZSA9IHBUYWdbMV0gPT09IHRoaXMuX3BrLCBpc0Zyb21NZSA9IGV2ZW50LnB1YmtleSA9PT0gdGhpcy5fcGs7XG4gICAgaWYgKCFpc0Zvck1lICYmICFpc0Zyb21NZSkgcmV0dXJuO1xuICAgIGNvbnN0IG90aGVyID0gaXNGcm9tTWUgPyBwVGFnWzFdIDogZXZlbnQucHVia2V5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZWMgPSBhd2FpdCBkZWNyeXB0KHRoaXMuX3NrLCBvdGhlciwgZXZlbnQuY29udGVudCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwID0gSlNPTi5wYXJzZShkZWMpO1xuICAgICAgICAgIGlmIChwPy5fbm9zdHJfbXNnX3R5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG10ID0gcC5fbm9zdHJfbXNnX3R5cGUgYXMgTWVzc2FnZVR5cGU7XG4gICAgICAgICAgICBpZiAobXQgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7XG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICAgICAgICAgIGZyb206IGV2ZW50LnB1YmtleSxcbiAgICAgICAgICAgICAgICB0bzogcFRhZ1sxXSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiAocC50ZXh0IGFzIHN0cmluZykgfHwgJycsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCxcbiAgICAgICAgICAgICAgICBtc2dUeXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgcmVwbHlUbzogcC5yZXBseVRvIGFzIFJlcGx5UmVmIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChbJ3dlYnJ0Yy1vZmZlcicsJ3dlYnJ0Yy1hbnN3ZXInLCd3ZWJydGMtaWNlJywnY2FsbC1yZXF1ZXN0JywnY2FsbC1hY2NlcHQnLCdjYWxsLXJlamVjdCcsJ2NhbGwtZW5kJ10uaW5jbHVkZXMobXQpKSB7XG4gICAgICAgICAgICB0aGlzLnNpZ25hbENhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKGV2ZW50LnB1YmtleSwgeyB0eXBlOiBtdCwgc2RwOiBwLnNkcCwgY2FuZGlkYXRlOiBwLmNhbmRpZGF0ZSwgY2FsbFR5cGU6IHAuY2FsbFR5cGUgfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobXQgPT09ICdmaWxlLWNodW5rJykgeyB0aGlzLmhhbmRsZUZpbGVDaHVuayhldmVudC5pZCwgZXZlbnQucHVia2V5LCBwVGFnWzFdLCBldmVudC5jcmVhdGVkX2F0ICogMTAwMCwgcCk7IHJldHVybjsgfVxuICAgICAgICAgIGlmIChtdCA9PT0gJ2ZpbGUtbWV0YScpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVySWQgPSAocC50cmFuc2ZlcklkIGFzIHN0cmluZykgfHwgJyc7XG4gICAgICAgICAgICBpZiAoIXRyYW5zZmVySWQpIHJldHVybjtcblx0ICAgIGNvbnN0IGZpbGVUeXBlID0gKHAuZmlsZVR5cGUgYXMgc3RyaW5nKSA9PT0gJ2ltYWdlJyA/ICdpbWFnZScgOiAnZmlsZSc7XG4gICAgICAgICAgICBhd2FpdCBlbnN1cmVUcmFuc2Zlcih7XG4gICAgICAgICAgICAgIHRyYW5zZmVySWQsXG4gICAgICAgICAgICAgIGZpbGVOYW1lOiAocC5maWxlTmFtZSBhcyBzdHJpbmcpIHx8ICdmaWxlJyxcbiAgICAgICAgICAgICAgbWltZVR5cGU6IChwLm1pbWVUeXBlIGFzIHN0cmluZykgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgICAgICAgIGZpbGVUeXBlLFxuICAgICAgICAgICAgICBzaXplOiAocC5zaXplIGFzIG51bWJlcikgfHwgMCxcbiAgICAgICAgICAgICAgdG90YWxDaHVua3M6IChwLnRvdGFsQ2h1bmtzIGFzIG51bWJlcikgfHwgMCxcbiAgICAgICAgICAgICAgdGV4dDogKHAudGV4dCBhcyBzdHJpbmcpIHx8ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtdCA9PT0gJ2ltYWdlJyB8fCBtdCA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7IGlkOiBldmVudC5pZCwgZnJvbTogZXZlbnQucHVia2V5LCB0bzogcFRhZ1sxXSwgY29udGVudDogcC50ZXh0IHx8ICcnLCB0aW1lc3RhbXA6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLCBtc2dUeXBlOiBtdCwgcmVwbHlUbzogcC5yZXBseVRvIGFzIFJlcGx5UmVmIHwgdW5kZWZpbmVkLCBhdHRhY2htZW50OiB7IHR5cGU6IG10LCBuYW1lOiBwLmZpbGVOYW1lIHx8ICdmaWxlJywgbWltZVR5cGU6IHAubWltZVR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsIGRhdGE6IHAuZGF0YSB8fCAnJywgc2l6ZTogcC5zaXplIHx8IDAgfSB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgICB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7IGlkOiBldmVudC5pZCwgZnJvbTogZXZlbnQucHVia2V5LCB0bzogcFRhZ1sxXSwgY29udGVudDogZGVjLCB0aW1lc3RhbXA6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLCBtc2dUeXBlOiAndGV4dCcgfSkpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlRmlsZUNodW5rKGV2ZW50SWQ6IHN0cmluZywgZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCB0aW1lc3RhbXA6IG51bWJlciwgcDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICBjb25zdCB0cmFuc2ZlcklkID0gcC50cmFuc2ZlcklkIGFzIHN0cmluZztcbiAgICBjb25zdCBjaHVua0luZGV4ID0gcC5jaHVua0luZGV4IGFzIG51bWJlcjtcbiAgICBjb25zdCB0b3RhbENodW5rcyA9IHAudG90YWxDaHVua3MgYXMgbnVtYmVyO1xuICAgIGNvbnN0IGRhdGEgPSBwLmRhdGEgYXMgc3RyaW5nO1xuICAgIGlmICghdHJhbnNmZXJJZCB8fCB0eXBlb2YgY2h1bmtJbmRleCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHRvdGFsQ2h1bmtzICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHJldHVybjtcblxuICAgIGNvbnN0IGZpbGVUeXBlID0gKHAuZmlsZVR5cGUgYXMgc3RyaW5nKSA9PT0gJ2ltYWdlJyA/ICdpbWFnZScgOiAnZmlsZSc7XG4gICAgYXdhaXQgZW5zdXJlVHJhbnNmZXIoe1xuICAgICAgdHJhbnNmZXJJZCxcbiAgICAgIGZpbGVOYW1lOiAocC5maWxlTmFtZSBhcyBzdHJpbmcpIHx8ICdmaWxlJyxcbiAgICAgIG1pbWVUeXBlOiAocC5taW1lVHlwZSBhcyBzdHJpbmcpIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgZmlsZVR5cGUsXG4gICAgICBzaXplOiAocC5zaXplIGFzIG51bWJlcikgfHwgMCxcbiAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgdGV4dDogKHAudGV4dCBhcyBzdHJpbmcpIHx8ICcnLFxuICAgIH0pO1xuICAgIGF3YWl0IHN0b3JlQ2h1bmsodHJhbnNmZXJJZCwgY2h1bmtJbmRleCwgdG90YWxDaHVua3MsIGRhdGEpO1xuICAgIGNvbnN0IGRvbmUgPSBhd2FpdCBpc1RyYW5zZmVyQ29tcGxldGUodHJhbnNmZXJJZCk7XG4gICAgaWYgKCFkb25lKSByZXR1cm47XG5cbiAgICB0aGlzLm1lc3NhZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih7XG4gICAgICBpZDogYCR7ZXZlbnRJZH0tYXNzZW1ibGVkLSR7dHJhbnNmZXJJZH1gLFxuICAgICAgZnJvbSxcbiAgICAgIHRvLFxuICAgICAgY29udGVudDogKHAudGV4dCBhcyBzdHJpbmcpIHx8ICcnLFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgbXNnVHlwZTogZmlsZVR5cGUsXG4gICAgICByZXBseVRvOiBwLnJlcGx5VG8gYXMgUmVwbHlSZWYgfCB1bmRlZmluZWQsXG4gICAgICBhdHRhY2htZW50OiB7XG4gICAgICAgIHR5cGU6IGZpbGVUeXBlLFxuICAgICAgICBuYW1lOiAocC5maWxlTmFtZSBhcyBzdHJpbmcpIHx8ICdmaWxlJyxcbiAgICAgICAgbWltZVR5cGU6IChwLm1pbWVUeXBlIGFzIHN0cmluZykgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgIGRhdGE6ICcnLFxuICAgICAgICBzaXplOiAocC5zaXplIGFzIG51bWJlcikgfHwgMCxcbiAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgdG90YWxDaHVua3MsXG4gICAgICAgIGNodW5rZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUHJvZmlsZUV2ZW50KGV2ZW50OiBOb3N0ckV2ZW50KSB7XG4gICAgdHJ5IHsgY29uc3QgcCA9IEpTT04ucGFyc2UoZXZlbnQuY29udGVudCkgYXMgTm9zdHJQcm9maWxlOyB0aGlzLnByb2ZpbGVDYWNoZS5zZXQoZXZlbnQucHVia2V5LCBwKTsgdGhpcy5wZW5kaW5nUHJvZmlsZXMuZGVsZXRlKGV2ZW50LnB1YmtleSk7IHRoaXMucHJvZmlsZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKGV2ZW50LnB1YmtleSwgcCkpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNoYW5uZWxFdmVudChldmVudDogTm9zdHJFdmVudCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShldmVudC5jb250ZW50KSBhcyB7IG5hbWU/OiBzdHJpbmc7IGFib3V0Pzogc3RyaW5nIH07XG4gICAgICBjb25zdCBjaGFubmVsOiBDaGFubmVsID0ge1xuICAgICAgICBpZDogZXZlbnQuaWQsXG4gICAgICAgIG5hbWU6IHBheWxvYWQubmFtZT8udHJpbSgpIHx8IGBjaGFubmVsLSR7ZXZlbnQuaWQuc2xpY2UoMCwgOCl9YCxcbiAgICAgICAgYWJvdXQ6IHBheWxvYWQuYWJvdXQsXG4gICAgICAgIGNyZWF0ZWRCeTogZXZlbnQucHVia2V5LFxuICAgICAgICBjcmVhdGVkQXQ6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLFxuICAgICAgfTtcbiAgICAgIHRoaXMuY2hhbm5lbENhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKGNoYW5uZWwpKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNoYW5uZWxNZXNzYWdlRXZlbnQoZXZlbnQ6IE5vc3RyRXZlbnQpIHtcbiAgICBjb25zdCBlVGFnID0gZXZlbnQudGFncy5maW5kKHQgPT4gdFswXSA9PT0gJ2UnKT8uWzFdO1xuICAgIGlmICghZVRhZykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShldmVudC5jb250ZW50KSBhcyB7IHRleHQ/OiBzdHJpbmc7IHJlcGx5VG8/OiBSZXBseVJlZiB9O1xuICAgICAgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHtcbiAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICBmcm9tOiBldmVudC5wdWJrZXksXG4gICAgICAgIHRvOiAnJyxcbiAgICAgICAgY29udGVudDogcGF5bG9hZC50ZXh0IHx8ICcnLFxuICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LmNyZWF0ZWRfYXQgKiAxMDAwLFxuICAgICAgICBtc2dUeXBlOiAnY2hhbm5lbCcsXG4gICAgICAgIGNoYW5uZWxJZDogZVRhZyxcbiAgICAgICAgcmVwbHlUbzogcGF5bG9hZC5yZXBseVRvLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5jaGFubmVsTWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHtcbiAgICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgICBmcm9tOiBldmVudC5wdWJrZXksXG4gICAgICAgIHRvOiAnJyxcbiAgICAgICAgY29udGVudDogZXZlbnQuY29udGVudCB8fCAnJyxcbiAgICAgICAgdGltZXN0YW1wOiBldmVudC5jcmVhdGVkX2F0ICogMTAwMCxcbiAgICAgICAgbXNnVHlwZTogJ2NoYW5uZWwnLFxuICAgICAgICBjaGFubmVsSWQ6IGVUYWcsXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVUb01lc3NhZ2VzKHJlbGF5VXJsOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuX3BrKSByZXR1cm47XG4gICAgY29uc3Qgd3MgPSB0aGlzLnNvY2tldHMuZ2V0KHJlbGF5VXJsKTsgaWYgKCF3cyB8fCB3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgcmV0dXJuO1xuICAgIGNvbnN0IHN1YklkID0gJ2RtLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgICBjb25zdCBzaW5jZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gODY0MDAgKiAzMDtcbiAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KFsnUkVRJywgc3ViSWQsIHsga2luZHM6IFs0XSwgJyNwJzogW3RoaXMuX3BrXSwgc2luY2UgfSwgeyBraW5kczogWzRdLCBhdXRob3JzOiBbdGhpcy5fcGtdLCBzaW5jZSB9XSkpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQoc3ViSWQsIHsgZmlsdGVyczogW10sIHJlbGF5OiByZWxheVVybCB9KTtcbiAgICB0aGlzLnN1YnNjcmliZVRvQ2hhbm5lbHMocmVsYXlVcmwpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVUb0NoYW5uZWxzKHJlbGF5VXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0cy5nZXQocmVsYXlVcmwpO1xuICAgIGlmICghd3MgfHwgd3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHJldHVybjtcbiAgICBpZiAodGhpcy5fY2hhbm5lbHMubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIERvIG5vdCBzdWJzY3JpYmUgdG8gZ2xvYmFsIGNoYW5uZWxzXG5cbiAgICBjb25zdCBzdWJJZCA9ICdjaC0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCk7XG4gICAgY29uc3Qgc2luY2UgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSAtIDg2NDAwICogMzA7XG5cbiAgICAvLyBPbmx5IHN1YnNjcmliZSB0byBjaGFubmVscyB0aGUgdXNlciBoYXMgam9pbmVkXG4gICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeShbJ1JFUScsIHN1YklkLCB7IGtpbmRzOiBbNDBdLCBpZHM6IHRoaXMuX2NoYW5uZWxzLCBzaW5jZSB9LCB7IGtpbmRzOiBbNDJdLCAnI2UnOiB0aGlzLl9jaGFubmVscywgc2luY2UgfV0pKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KHN1YklkLCB7IGZpbHRlcnM6IFtdLCByZWxheTogcmVsYXlVcmwgfSk7XG4gIH1cblxuICBhc3luYyBzZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXk6IHN0cmluZywgcGF5bG9hZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAoIXRoaXMuX3NrKSB0aHJvdyBuZXcgRXJyb3IoJ9Cd0LUg0LDQstGC0L7RgNC40LfQvtCy0LDQvScpO1xuICAgIGNvbnN0IGVuY3J5cHRlZCA9IGF3YWl0IGVuY3J5cHQodGhpcy5fc2ssIHJlY2lwaWVudFB1YmtleSwgcGF5bG9hZCk7XG4gICAgY29uc3QgZXY6IFVuc2lnbmVkRXZlbnQgPSB7IGtpbmQ6IDQsIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCB0YWdzOiBbWydwJywgcmVjaXBpZW50UHVia2V5XV0sIGNvbnRlbnQ6IGVuY3J5cHRlZCwgcHVia2V5OiB0aGlzLl9wayB9O1xuICAgIGNvbnN0IGV2ZW50ID0gZmluYWxpemVFdmVudChldiwgdGhpcy5fc2spO1xuICAgIHRoaXMuc2VlbkV2ZW50cy5hZGQoZXZlbnQuaWQpO1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShbJ0VWRU5UJywgZXZlbnRdKTtcbiAgICBjb25zdCBvcGVuOiBXZWJTb2NrZXRbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgWywgd3NdIG9mIHRoaXMuc29ja2V0cykgaWYgKHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSBvcGVuLnB1c2god3MpO1xuICAgIGlmICghb3Blbi5sZW5ndGgpIHRocm93IG5ldyBFcnJvcign0J3QtdGCINC/0L7QtNC60LvRjtGH0ZHQvdC90YvRhSDRgNC10LvQtdC10LInKTtcbiAgICBvcGVuLmZvckVhY2god3MgPT4geyB0cnkgeyB3cy5zZW5kKGpzb24pOyB9IGNhdGNoIHt9IH0pO1xuICAgIHJldHVybiBldmVudC5pZDtcbiAgfVxuXG4gIHByaXZhdGUgYnl0ZXNUb0Jhc2U2NChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XG4gICAgbGV0IGJpbiA9ICcnO1xuICAgIGNvbnN0IHN0ZXAgPSAweDgwMDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gc3RlcCkge1xuICAgICAgYmluICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYnl0ZXMuc3ViYXJyYXkoaSwgaSArIHN0ZXApKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0b2EoYmluKTtcbiAgfVxuXG4gIGFzeW5jIHNlbmREaXJlY3RNZXNzYWdlKHJlY2lwaWVudFB1YmtleTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHJlcGx5VG8/OiBSZXBseVJlZik6IFByb21pc2U8RGlyZWN0TWVzc2FnZT4ge1xuICAgIGNvbnN0IHBheWxvYWQgPSByZXBseVRvID8gSlNPTi5zdHJpbmdpZnkoeyBfbm9zdHJfbXNnX3R5cGU6ICd0ZXh0JywgdGV4dDogY29udGVudCwgcmVwbHlUbyB9KSA6IGNvbnRlbnQ7XG4gICAgY29uc3QgaWQgPSBhd2FpdCB0aGlzLnNlbmRFbmNyeXB0ZWRQYXlsb2FkKHJlY2lwaWVudFB1YmtleSwgcGF5bG9hZCk7XG4gICAgcmV0dXJuIHsgaWQsIGZyb206IHRoaXMuX3BrLCB0bzogcmVjaXBpZW50UHVia2V5LCBjb250ZW50LCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1zZ1R5cGU6ICd0ZXh0JywgcmVwbHlUbyB9O1xuICB9XG5cbiAgLy8gMjU2S0IgY2h1bmtzLCBwYXJhbGxlbCBzZW5kIGJ5IDNcbiAgcHJpdmF0ZSBzdGF0aWMgQ0hVTktfU0laRSA9IDI2MjE0NDtcbiAgcHJpdmF0ZSBzdGF0aWMgUEFSQUxMRUwgPSAzO1xuXG4gIGFzeW5jIHNlbmRBdHRhY2htZW50KFxuICAgIHJlY2lwaWVudFB1YmtleTogc3RyaW5nLFxuICAgIGF0dGFjaG1lbnQ6IEF0dGFjaG1lbnQsXG4gICAgdGV4dD86IHN0cmluZyxcbiAgICBvblByb2dyZXNzPzogKHNlbnQ6IG51bWJlciwgdG90YWw6IG51bWJlcikgPT4gdm9pZCxcbiAgICByZXBseVRvPzogUmVwbHlSZWYsXG4gICk6IFByb21pc2U8RGlyZWN0TWVzc2FnZT4ge1xuICAgIGNvbnN0IG1heFNpemUgPSAyICogMTAyNCAqIDEwMjQgKiAxMDI0O1xuICAgIGlmIChhdHRhY2htZW50LnNpemUgPiBtYXhTaXplKSB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgaXMgdG9vIGxhcmdlLiBNYXggc2l6ZSBpcyAyR0IuJyk7XG5cbiAgICBpZiAoIWF0dGFjaG1lbnQuZmlsZSkge1xuICAgICAgY29uc3QgYjY0ID0gYXR0YWNobWVudC5kYXRhO1xuICAgICAgaWYgKGI2NC5sZW5ndGggPCA0MDAwMCkge1xuICAgICAgICBjb25zdCBpZCA9IGF3YWl0IHRoaXMuc2VuZEVuY3J5cHRlZFBheWxvYWQocmVjaXBpZW50UHVia2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgX25vc3RyX21zZ190eXBlOiBhdHRhY2htZW50LnR5cGUsXG4gICAgICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgICAgICBtaW1lVHlwZTogYXR0YWNobWVudC5taW1lVHlwZSxcbiAgICAgICAgICBkYXRhOiBiNjQsXG4gICAgICAgICAgc2l6ZTogYXR0YWNobWVudC5zaXplLFxuICAgICAgICAgIHRleHQ6IHRleHQgfHwgJycsXG4gICAgICAgICAgcmVwbHlUbyxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4geyBpZCwgZnJvbTogdGhpcy5fcGssIHRvOiByZWNpcGllbnRQdWJrZXksIGNvbnRlbnQ6IHRleHQgfHwgJycsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbXNnVHlwZTogYXR0YWNobWVudC50eXBlLCBhdHRhY2htZW50LCByZXBseVRvIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZSA9IGF0dGFjaG1lbnQuZmlsZTtcbiAgICBjb25zdCB0cmFuc2ZlcklkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikgKyBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTtcbiAgICBjb25zdCBmaWxlU2l6ZSA9IGZpbGUgPyBmaWxlLnNpemUgOiBhdHRhY2htZW50LnNpemU7XG4gICAgY29uc3QgdG90YWxDaHVua3MgPSBNYXRoLmNlaWwoZmlsZVNpemUgLyBOb3N0ckNsaWVudC5DSFVOS19TSVpFKTtcbiAgICBsZXQgbGFzdElkID0gJyc7XG4gICAgbGV0IHNlbnQgPSAwO1xuXG4gICAgYXdhaXQgdGhpcy5zZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIF9ub3N0cl9tc2dfdHlwZTogJ2ZpbGUtbWV0YScsXG4gICAgICB0cmFuc2ZlcklkLFxuICAgICAgdG90YWxDaHVua3MsXG4gICAgICBmaWxlTmFtZTogYXR0YWNobWVudC5uYW1lLFxuICAgICAgbWltZVR5cGU6IGF0dGFjaG1lbnQubWltZVR5cGUsXG4gICAgICBzaXplOiBmaWxlU2l6ZSxcbiAgICAgIHRleHQ6IHRleHQgfHwgJycsXG4gICAgICBmaWxlVHlwZTogYXR0YWNobWVudC50eXBlLFxuICAgICAgcmVwbHlUbyxcbiAgICB9KSk7XG5cbiAgICBmb3IgKGxldCBiYXRjaCA9IDA7IGJhdGNoIDwgdG90YWxDaHVua3M7IGJhdGNoICs9IE5vc3RyQ2xpZW50LlBBUkFMTEVMKSB7XG4gICAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxzdHJpbmc+W10gPSBbXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTm9zdHJDbGllbnQuUEFSQUxMRUwgJiYgYmF0Y2ggKyBqIDwgdG90YWxDaHVua3M7IGorKykge1xuICAgICAgICBjb25zdCBpID0gYmF0Y2ggKyBqO1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSAqIE5vc3RyQ2xpZW50LkNIVU5LX1NJWkU7XG4gICAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4oc3RhcnQgKyBOb3N0ckNsaWVudC5DSFVOS19TSVpFLCBmaWxlU2l6ZSk7XG4gICAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhd2FpdCBmaWxlLnNsaWNlKHN0YXJ0LCBlbmQpLmFycmF5QnVmZmVyKCkpO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmJ5dGVzVG9CYXNlNjQoYnl0ZXMpO1xuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5zZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIF9ub3N0cl9tc2dfdHlwZTogJ2ZpbGUtY2h1bmsnLFxuICAgICAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgICAgIGNodW5rSW5kZXg6IGksXG4gICAgICAgICAgICB0b3RhbENodW5rcyxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBmaWxlTmFtZTogYXR0YWNobWVudC5uYW1lLFxuICAgICAgICAgICAgbWltZVR5cGU6IGF0dGFjaG1lbnQubWltZVR5cGUsXG4gICAgICAgICAgICBzaXplOiBmaWxlU2l6ZSxcbiAgICAgICAgICAgIHRleHQ6IHRleHQgfHwgJycsXG4gICAgICAgICAgICBmaWxlVHlwZTogYXR0YWNobWVudC50eXBlLFxuICAgICAgICAgICAgcmVwbHlUbyxcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGJhc2U2NENodW5rU2l6ZSA9IE1hdGguZmxvb3IoKE5vc3RyQ2xpZW50LkNIVU5LX1NJWkUgLyAzKSAqIDQpO1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gYXR0YWNobWVudC5kYXRhLnNsaWNlKGkgKiBiYXNlNjRDaHVua1NpemUsIChpICsgMSkgKiBiYXNlNjRDaHVua1NpemUpO1xuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5zZW5kRW5jcnlwdGVkUGF5bG9hZChyZWNpcGllbnRQdWJrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIF9ub3N0cl9tc2dfdHlwZTogJ2ZpbGUtY2h1bmsnLFxuICAgICAgICAgICAgdHJhbnNmZXJJZCxcbiAgICAgICAgICAgIGNodW5rSW5kZXg6IGksXG4gICAgICAgICAgICB0b3RhbENodW5rcyxcbiAgICAgICAgICAgIGRhdGE6IGNodW5rLFxuICAgICAgICAgICAgZmlsZU5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50Lm1pbWVUeXBlLFxuICAgICAgICAgICAgc2l6ZTogZmlsZVNpemUsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0IHx8ICcnLFxuICAgICAgICAgICAgZmlsZVR5cGU6IGF0dGFjaG1lbnQudHlwZSxcbiAgICAgICAgICAgIHJlcGx5VG8sXG4gICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaWRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgbGFzdElkID0gaWRzW2lkcy5sZW5ndGggLSAxXSB8fCBsYXN0SWQ7XG4gICAgICBzZW50ICs9IHByb21pc2VzLmxlbmd0aDtcbiAgICAgIG9uUHJvZ3Jlc3M/LihzZW50LCB0b3RhbENodW5rcyk7XG4gICAgICBpZiAoc2VudCA8IHRvdGFsQ2h1bmtzKSBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNTApKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGxhc3RJZCB8fCBgbG9jYWwtJHt0cmFuc2ZlcklkfWAsXG4gICAgICBmcm9tOiB0aGlzLl9wayxcbiAgICAgIHRvOiByZWNpcGllbnRQdWJrZXksXG4gICAgICBjb250ZW50OiB0ZXh0IHx8ICcnLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgbXNnVHlwZTogYXR0YWNobWVudC50eXBlLFxuICAgICAgcmVwbHlUbyxcbiAgICAgIGF0dGFjaG1lbnQ6IHtcbiAgICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgICAgZGF0YTogYXR0YWNobWVudC5maWxlID8gJycgOiBhdHRhY2htZW50LmRhdGEsXG4gICAgICAgIHRyYW5zZmVySWQsXG4gICAgICAgIHRvdGFsQ2h1bmtzLFxuICAgICAgICBjaHVua2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgc2VuZFdlYlJUQ1NpZ25hbChyZWNpcGllbnRQdWJrZXk6IHN0cmluZywgc2lnbmFsOiBXZWJSVENTaWduYWwpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRFbmNyeXB0ZWRQYXlsb2FkKHJlY2lwaWVudFB1YmtleSwgSlNPTi5zdHJpbmdpZnkoeyBfbm9zdHJfbXNnX3R5cGU6IHNpZ25hbC50eXBlLCBzZHA6IHNpZ25hbC5zZHAsIGNhbmRpZGF0ZTogc2lnbmFsLmNhbmRpZGF0ZSwgY2FsbFR5cGU6IHNpZ25hbC5jYWxsVHlwZSB9KSk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVDaGFubmVsKG5hbWU6IHN0cmluZywgYWJvdXQ/OiBzdHJpbmcpOiBQcm9taXNlPENoYW5uZWw+IHtcbiAgICBpZiAoIXRoaXMuX3NrKSB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRob3JpemVkJyk7XG4gICAgY29uc3QgZXY6IFVuc2lnbmVkRXZlbnQgPSB7XG4gICAgICBraW5kOiA0MCxcbiAgICAgIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLFxuICAgICAgdGFnczogW10sXG4gICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0OiBhYm91dCB8fCAnJyB9KSxcbiAgICAgIHB1YmtleTogdGhpcy5fcGssXG4gICAgfTtcbiAgICBjb25zdCBldmVudCA9IGZpbmFsaXplRXZlbnQoZXYsIHRoaXMuX3NrKTtcbiAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoWydFVkVOVCcsIGV2ZW50XSk7XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHRyeSB7IHdzLnNlbmQocGF5bG9hZCk7IH0gY2F0Y2gge31cbiAgICBjb25zdCBjaGFubmVsOiBDaGFubmVsID0geyBpZDogZXZlbnQuaWQsIG5hbWUsIGFib3V0LCBjcmVhdGVkQnk6IHRoaXMuX3BrLCBjcmVhdGVkQXQ6IERhdGUubm93KCkgfTtcbiAgICB0aGlzLmNoYW5uZWxDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYihjaGFubmVsKSk7XG4gICAgcmV0dXJuIGNoYW5uZWw7XG4gIH1cblxuICBhc3luYyBzZW5kQ2hhbm5lbE1lc3NhZ2UoY2hhbm5lbElkOiBzdHJpbmcsIHRleHQ6IHN0cmluZywgcmVwbHlUbz86IFJlcGx5UmVmKTogUHJvbWlzZTxEaXJlY3RNZXNzYWdlPiB7XG4gICAgaWYgKCF0aGlzLl9zaykgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXV0aG9yaXplZCcpO1xuICAgIGNvbnN0IGV2OiBVbnNpZ25lZEV2ZW50ID0ge1xuICAgICAga2luZDogNDIsXG4gICAgICBjcmVhdGVkX2F0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSxcbiAgICAgIHRhZ3M6IFtbJ2UnLCBjaGFubmVsSWQsICcnLCAncm9vdCddXSxcbiAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHsgdGV4dCwgcmVwbHlUbyB9KSxcbiAgICAgIHB1YmtleTogdGhpcy5fcGssXG4gICAgfTtcbiAgICBjb25zdCBldmVudCA9IGZpbmFsaXplRXZlbnQoZXYsIHRoaXMuX3NrKTtcbiAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoWydFVkVOVCcsIGV2ZW50XSk7XG4gICAgbGV0IHNlbnQgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IFssIHdzXSBvZiB0aGlzLnNvY2tldHMpIHtcbiAgICAgIGlmICh3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgY29udGludWU7XG4gICAgICBzZW50ID0gdHJ1ZTtcbiAgICAgIHRyeSB7IHdzLnNlbmQocGF5bG9hZCk7IH0gY2F0Y2gge31cbiAgICB9XG4gICAgaWYgKCFzZW50KSB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbm5lY3RlZCByZWxheXMnKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGV2ZW50LmlkLFxuICAgICAgZnJvbTogdGhpcy5fcGssXG4gICAgICB0bzogJycsXG4gICAgICBjb250ZW50OiB0ZXh0LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgbXNnVHlwZTogJ2NoYW5uZWwnLFxuICAgICAgY2hhbm5lbElkLFxuICAgICAgcmVwbHlUbyxcbiAgICB9O1xuICB9XG5cbiAgcmVxdWVzdFByb2ZpbGUocHVia2V5OiBzdHJpbmcpOiBOb3N0clByb2ZpbGUgfCBudWxsIHtcbiAgICBpZiAodGhpcy5wcm9maWxlQ2FjaGUuaGFzKHB1YmtleSkpIHJldHVybiB0aGlzLnByb2ZpbGVDYWNoZS5nZXQocHVia2V5KSE7XG4gICAgaWYgKHRoaXMucGVuZGluZ1Byb2ZpbGVzLmhhcyhwdWJrZXkpKSByZXR1cm4gbnVsbDtcbiAgICB0aGlzLnBlbmRpbmdQcm9maWxlcy5hZGQocHVia2V5KTtcbiAgICBjb25zdCBzdWJJZCA9ICdwLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgICBmb3IgKGNvbnN0IFssIHdzXSBvZiB0aGlzLnNvY2tldHMpIHsgaWYgKHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7IHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoWydSRVEnLCBzdWJJZCwgeyBraW5kczogWzBdLCBhdXRob3JzOiBbcHVia2V5XSwgbGltaXQ6IDEgfV0pKTsgYnJlYWs7IH0gfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0UHJvZmlsZShwdWJrZXk6IHN0cmluZykgeyByZXR1cm4gdGhpcy5wcm9maWxlQ2FjaGUuZ2V0KHB1YmtleSkgfHwgbnVsbDsgfVxuXG4gIGFzeW5jIHVwZGF0ZVByb2ZpbGUocHJvZmlsZTogTm9zdHJQcm9maWxlKSB7XG4gICAgaWYgKCF0aGlzLl9zaykgdGhyb3cgbmV3IEVycm9yKCfQndC1INCw0LLRgtC+0YDQuNC30L7QstCw0L0nKTtcbiAgICBjb25zdCBldjogVW5zaWduZWRFdmVudCA9IHsga2luZDogMCwgY3JlYXRlZF9hdDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCksIHRhZ3M6IFtdLCBjb250ZW50OiBKU09OLnN0cmluZ2lmeShwcm9maWxlKSwgcHVia2V5OiB0aGlzLl9wayB9O1xuICAgIGNvbnN0IGV2ZW50ID0gZmluYWxpemVFdmVudChldiwgdGhpcy5fc2spO1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShbJ0VWRU5UJywgZXZlbnRdKTtcbiAgICBmb3IgKGNvbnN0IFssIHdzXSBvZiB0aGlzLnNvY2tldHMpIGlmICh3cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgdHJ5IHsgd3Muc2VuZChqc29uKTsgfSBjYXRjaCB7fVxuICAgIHRoaXMucHJvZmlsZUNhY2hlLnNldCh0aGlzLl9waywgcHJvZmlsZSk7XG4gIH1cblxuICBkaXNjb25uZWN0QWxsKCkge1xuICAgIGZvciAoY29uc3QgWywgdF0gb2YgdGhpcy5yZWNvbm5lY3RUaW1lcnMpIGNsZWFyVGltZW91dCh0KTtcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVycy5jbGVhcigpOyB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmNsZWFyKCk7XG4gICAgZm9yIChjb25zdCBbLCB3c10gb2YgdGhpcy5zb2NrZXRzKSB3cy5jbG9zZSgpO1xuICAgIHRoaXMuc29ja2V0cy5jbGVhcigpOyB0aGlzLnN1YnNjcmlwdGlvbnMuY2xlYXIoKTsgdGhpcy5yZWxheVN0YXR1cy5jbGVhcigpO1xuICB9XG5cbiAgYWRkUmVsYXkodXJsOiBzdHJpbmcpIHsgaWYgKCF0aGlzLl9yZWxheXMuaW5jbHVkZXModXJsKSkgeyB0aGlzLl9yZWxheXMucHVzaCh1cmwpOyB0aGlzLmNvbm5lY3RUb1JlbGF5KHVybCk7IH0gfVxuICByZW1vdmVSZWxheSh1cmw6IHN0cmluZykge1xuICAgIHRoaXMuX3JlbGF5cyA9IHRoaXMuX3JlbGF5cy5maWx0ZXIociA9PiByICE9PSB1cmwpO1xuICAgIGNvbnN0IHQgPSB0aGlzLnJlY29ubmVjdFRpbWVycy5nZXQodXJsKTsgaWYgKHQpIHsgY2xlYXJUaW1lb3V0KHQpOyB0aGlzLnJlY29ubmVjdFRpbWVycy5kZWxldGUodXJsKTsgfVxuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZGVsZXRlKHVybCk7XG4gICAgY29uc3Qgd3MgPSB0aGlzLnNvY2tldHMuZ2V0KHVybCk7IGlmICh3cykgeyB3cy5jbG9zZSgpOyB0aGlzLnNvY2tldHMuZGVsZXRlKHVybCk7IH1cbiAgICB0aGlzLnJlbGF5U3RhdHVzLmRlbGV0ZSh1cmwpO1xuICB9XG5cbiAgc2hvcnRlbktleShrZXk6IHN0cmluZykgeyByZXR1cm4gKCFrZXkgfHwga2V5Lmxlbmd0aCA8IDE2KSA/IGtleSA6IGtleS5zbGljZSgwLCA4KSArICfigKYnICsga2V5LnNsaWNlKC04KTsgfVxuICBpc1ZhbGlkSGV4S2V5KGtleTogc3RyaW5nKSB7IHJldHVybiAvXlswLTlhLWZBLUZdezY0fSQvLnRlc3Qoa2V5KTsgfVxufVxuXG5leHBvcnQgY29uc3Qgbm9zdHJDbGllbnQgPSBuZXcgTm9zdHJDbGllbnQoKTtcbmV4cG9ydCB7IERFRkFVTFRfUkVMQVlTIH07XG4iXSwibmFtZXMiOlsiZ2VuZXJhdGVTZWNyZXRLZXkiLCJnZXRQdWJsaWNLZXkiLCJmaW5hbGl6ZUV2ZW50IiwiZW5jcnlwdCIsImRlY3J5cHQiLCJieXRlc1RvSGV4IiwiaGV4VG9CeXRlcyIsImVuc3VyZVRyYW5zZmVyIiwiaXNUcmFuc2ZlckNvbXBsZXRlIiwic3RvcmVDaHVuayIsIkRFRkFVTFRfUkVMQVlTIiwiTm9zdHJDbGllbnQiLCJwdWJsaWNLZXkiLCJfcGsiLCJwcml2YXRlS2V5SGV4IiwiX3NrIiwicmVsYXlzIiwiX3JlbGF5cyIsImNoYW5uZWxzIiwiX2NoYW5uZWxzIiwic2siLCJnZXRSZWxheVN0YXR1cyIsInJlbGF5IiwicmVsYXlTdGF0dXMiLCJnZXQiLCJjb25uZWN0ZWRSZWxheUNvdW50IiwiYyIsImZvckVhY2giLCJzIiwiZ2VuZXJhdGVLZXlzIiwicGsiLCJwcml2YXRlS2V5IiwibG9naW4iLCJfc3RvcHBlZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJsb2dvdXQiLCJkaXNjb25uZWN0QWxsIiwicmVtb3ZlSXRlbSIsInRyeUF1dG9Mb2dpbiIsImdldEl0ZW0iLCJsZW5ndGgiLCJvbk1lc3NhZ2UiLCJjYiIsIm1lc3NhZ2VDYWxsYmFja3MiLCJhZGQiLCJkZWxldGUiLCJvbkNoYW5uZWwiLCJjaGFubmVsQ2FsbGJhY2tzIiwib25DaGFubmVsTWVzc2FnZSIsImNoYW5uZWxNZXNzYWdlQ2FsbGJhY2tzIiwib25Qcm9maWxlIiwicHJvZmlsZUNhbGxiYWNrcyIsIm9uQ29ubmVjdGlvbiIsImNvbm5lY3Rpb25DYWxsYmFja3MiLCJvblNpZ25hbCIsInNpZ25hbENhbGxiYWNrcyIsImNvbm5lY3RUb1JlbGF5cyIsInIiLCJjb25uZWN0VG9SZWxheSIsInNldENoYW5uZWxzIiwiY2hhbm5lbElkcyIsIlNldCIsImZpbHRlciIsIkJvb2xlYW4iLCJ3cyIsInNvY2tldHMiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsInN1YnNjcmliZVRvQ2hhbm5lbHMiLCJ1cmwiLCJoYXMiLCJlIiwiQ09OTkVDVElORyIsInNldCIsImN0Iiwic2V0VGltZW91dCIsImNsb3NlIiwib25vcGVuIiwiY2xlYXJUaW1lb3V0IiwicmVjb25uZWN0QXR0ZW1wdHMiLCJzdWJzY3JpYmVUb01lc3NhZ2VzIiwib25jbG9zZSIsInNjaGVkdWxlUmVjb25uZWN0Iiwib25lcnJvciIsIm9ubWVzc2FnZSIsImhhbmRsZVJlbGF5TWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJyZWNvbm5lY3RUaW1lcnMiLCJhIiwiZCIsIk1hdGgiLCJtaW4iLCJwb3ciLCJBcnJheSIsImlzQXJyYXkiLCJldiIsInNlZW5FdmVudHMiLCJpZCIsImtpbmQiLCJoYW5kbGVFbmNyeXB0ZWRETSIsImhhbmRsZVByb2ZpbGVFdmVudCIsImhhbmRsZUNoYW5uZWxFdmVudCIsImhhbmRsZUNoYW5uZWxNZXNzYWdlRXZlbnQiLCJldmVudCIsInBUYWciLCJ0YWdzIiwiZmluZCIsInQiLCJpc0Zvck1lIiwiaXNGcm9tTWUiLCJwdWJrZXkiLCJvdGhlciIsImRlYyIsImNvbnRlbnQiLCJwIiwiX25vc3RyX21zZ190eXBlIiwibXQiLCJmcm9tIiwidG8iLCJ0ZXh0IiwidGltZXN0YW1wIiwiY3JlYXRlZF9hdCIsIm1zZ1R5cGUiLCJyZXBseVRvIiwiaW5jbHVkZXMiLCJ0eXBlIiwic2RwIiwiY2FuZGlkYXRlIiwiY2FsbFR5cGUiLCJoYW5kbGVGaWxlQ2h1bmsiLCJ0cmFuc2ZlcklkIiwiZmlsZVR5cGUiLCJmaWxlTmFtZSIsIm1pbWVUeXBlIiwic2l6ZSIsInRvdGFsQ2h1bmtzIiwiYXR0YWNobWVudCIsIm5hbWUiLCJldmVudElkIiwiY2h1bmtJbmRleCIsImRvbmUiLCJjaHVua2VkIiwicHJvZmlsZUNhY2hlIiwicGVuZGluZ1Byb2ZpbGVzIiwicGF5bG9hZCIsImNoYW5uZWwiLCJ0cmltIiwic2xpY2UiLCJhYm91dCIsImNyZWF0ZWRCeSIsImNyZWF0ZWRBdCIsImVUYWciLCJjaGFubmVsSWQiLCJyZWxheVVybCIsInN1YklkIiwicmFuZG9tIiwidG9TdHJpbmciLCJzaW5jZSIsImZsb29yIiwiRGF0ZSIsIm5vdyIsInNlbmQiLCJzdHJpbmdpZnkiLCJraW5kcyIsImF1dGhvcnMiLCJzdWJzY3JpcHRpb25zIiwiZmlsdGVycyIsImlkcyIsInNlbmRFbmNyeXB0ZWRQYXlsb2FkIiwicmVjaXBpZW50UHVia2V5IiwiRXJyb3IiLCJlbmNyeXB0ZWQiLCJqc29uIiwib3BlbiIsInB1c2giLCJieXRlc1RvQmFzZTY0IiwiYnl0ZXMiLCJiaW4iLCJzdGVwIiwiaSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInN1YmFycmF5IiwiYnRvYSIsInNlbmREaXJlY3RNZXNzYWdlIiwiQ0hVTktfU0laRSIsIlBBUkFMTEVMIiwic2VuZEF0dGFjaG1lbnQiLCJvblByb2dyZXNzIiwibWF4U2l6ZSIsImZpbGUiLCJiNjQiLCJmaWxlU2l6ZSIsImNlaWwiLCJsYXN0SWQiLCJzZW50IiwiYmF0Y2giLCJwcm9taXNlcyIsImoiLCJzdGFydCIsImVuZCIsIlVpbnQ4QXJyYXkiLCJhcnJheUJ1ZmZlciIsImJhc2U2NENodW5rU2l6ZSIsImNodW5rIiwiUHJvbWlzZSIsImFsbCIsInNlbmRXZWJSVENTaWduYWwiLCJzaWduYWwiLCJjcmVhdGVDaGFubmVsIiwic2VuZENoYW5uZWxNZXNzYWdlIiwicmVxdWVzdFByb2ZpbGUiLCJsaW1pdCIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwicHJvZmlsZSIsImNsZWFyIiwiYWRkUmVsYXkiLCJyZW1vdmVSZWxheSIsInNob3J0ZW5LZXkiLCJrZXkiLCJpc1ZhbGlkSGV4S2V5IiwidGVzdCIsIk1hcCIsIm5vc3RyQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/nostr.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/store.ts":
/*!**************************!*\
  !*** ./src/lib/store.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addChannel: () => (/* binding */ addChannel),\n/* harmony export */   addChannelMessage: () => (/* binding */ addChannelMessage),\n/* harmony export */   addContact: () => (/* binding */ addContact),\n/* harmony export */   addMessage: () => (/* binding */ addMessage),\n/* harmony export */   getChannelMessages: () => (/* binding */ getChannelMessages),\n/* harmony export */   getMessages: () => (/* binding */ getMessages),\n/* harmony export */   goBackToSidebar: () => (/* binding */ goBackToSidebar),\n/* harmony export */   loadChannels: () => (/* binding */ loadChannels),\n/* harmony export */   loadContacts: () => (/* binding */ loadContacts),\n/* harmony export */   removeContact: () => (/* binding */ removeContact),\n/* harmony export */   setActiveChat: () => (/* binding */ setActiveChat),\n/* harmony export */   setLoggedIn: () => (/* binding */ setLoggedIn),\n/* harmony export */   toggleSidebar: () => (/* binding */ toggleSidebar),\n/* harmony export */   updateContactProfile: () => (/* binding */ updateContactProfile),\n/* harmony export */   useAppState: () => (/* binding */ useAppState),\n/* harmony export */   useRelayStatuses: () => (/* binding */ useRelayStatuses)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _nostr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nostr */ \"(ssr)/./src/lib/nostr.ts\");\n\n\nconst initialState = {\n    contacts: [],\n    channels: [],\n    messages: new Map(),\n    channelMessages: new Map(),\n    activeChat: null,\n    isLoggedIn: false,\n    showSidebar: true\n};\nlet state = {\n    ...initialState\n};\nconst listeners = new Set();\nfunction notify() {\n    listeners.forEach((l)=>l());\n}\nfunction getSnapshot() {\n    return state;\n}\nfunction getServerSnapshot() {\n    return initialState;\n}\nfunction subscribe(listener) {\n    listeners.add(listener);\n    return ()=>listeners.delete(listener);\n}\nfunction useAppState() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(subscribe, getSnapshot, getServerSnapshot);\n}\nfunction setActiveChat(pubkey) {\n    state = {\n        ...state,\n        activeChat: pubkey\n    };\n    if (pubkey && !pubkey.startsWith(\"channel:\")) {\n        const contacts = state.contacts.map((c)=>c.pubkey === pubkey ? {\n                ...c,\n                unread: 0\n            } : c);\n        state = {\n            ...state,\n            contacts\n        };\n    }\n    notify();\n}\nfunction goBackToSidebar() {\n    state = {\n        ...state,\n        activeChat: null\n    };\n    notify();\n}\nfunction setLoggedIn(value) {\n    state = {\n        ...state,\n        isLoggedIn: value\n    };\n    notify();\n}\nfunction toggleSidebar() {\n    state = {\n        ...state,\n        showSidebar: !state.showSidebar\n    };\n    notify();\n}\nfunction addContact(pubkey, name) {\n    if (state.contacts.find((c)=>c.pubkey === pubkey)) return;\n    const contact = {\n        pubkey,\n        name: name || _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(pubkey),\n        unread: 0\n    };\n    state = {\n        ...state,\n        contacts: [\n            ...state.contacts,\n            contact\n        ]\n    };\n    saveContacts();\n    _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(pubkey);\n    notify();\n}\nfunction removeContact(pubkey) {\n    state = {\n        ...state,\n        contacts: state.contacts.filter((c)=>c.pubkey !== pubkey),\n        activeChat: state.activeChat === pubkey ? null : state.activeChat\n    };\n    saveContacts();\n    notify();\n}\nfunction updateContactProfile(pubkey, name, picture, about) {\n    state = {\n        ...state,\n        contacts: state.contacts.map((c)=>c.pubkey === pubkey ? {\n                ...c,\n                name: name || c.name,\n                picture,\n                about\n            } : c)\n    };\n    notify();\n}\nfunction getLastMessagePreview(msg) {\n    if (msg.msgType === \"image\") return \"\\uD83D\\uDDBC Photo\";\n    if (msg.msgType === \"file\") return ` ${msg.attachment?.name || \"File\"}`;\n    return msg.content;\n}\nfunction addMessage(msg) {\n    const otherPubkey = msg.from === _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey ? msg.to : msg.from;\n    const existing = state.messages.get(otherPubkey) || [];\n    if (existing.find((m)=>m.id === msg.id)) return;\n    const updated = [\n        ...existing,\n        msg\n    ].sort((a, b)=>a.timestamp - b.timestamp);\n    const newMessages = new Map(state.messages);\n    newMessages.set(otherPubkey, updated);\n    const preview = getLastMessagePreview(msg);\n    const contacts = state.contacts.map((c)=>{\n        if (c.pubkey === otherPubkey) {\n            return {\n                ...c,\n                lastMessage: preview,\n                lastMessageTime: msg.timestamp,\n                unread: state.activeChat === otherPubkey ? 0 : (c.unread || 0) + (msg.from !== _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey ? 1 : 0)\n            };\n        }\n        return c;\n    });\n    const hasContact = contacts.find((c)=>c.pubkey === otherPubkey);\n    if (!hasContact && msg.from !== _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.publicKey) {\n        contacts.push({\n            pubkey: otherPubkey,\n            name: _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(otherPubkey),\n            lastMessage: preview,\n            lastMessageTime: msg.timestamp,\n            unread: state.activeChat === otherPubkey ? 0 : 1\n        });\n        _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(otherPubkey);\n        saveContacts();\n    }\n    state = {\n        ...state,\n        messages: newMessages,\n        contacts\n    };\n    notify();\n}\nfunction addChannel(channel) {\n    if (state.channels.find((c)=>c.id === channel.id)) return;\n    state = {\n        ...state,\n        channels: [\n            channel,\n            ...state.channels\n        ]\n    };\n    saveChannels();\n    _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.setChannels(state.channels.map((c)=>c.id));\n    notify();\n}\nfunction addChannelMessage(msg) {\n    const channelId = msg.channelId;\n    if (!channelId) return;\n    const existing = state.channelMessages.get(channelId) || [];\n    if (existing.find((m)=>m.id === msg.id)) return;\n    const updated = [\n        ...existing,\n        msg\n    ].sort((a, b)=>a.timestamp - b.timestamp);\n    const map = new Map(state.channelMessages);\n    map.set(channelId, updated);\n    state = {\n        ...state,\n        channelMessages: map\n    };\n    notify();\n}\nfunction getChannelMessages(channelId) {\n    return state.channelMessages.get(channelId) || [];\n}\nfunction getMessages(pubkey) {\n    return state.messages.get(pubkey) || [];\n}\nfunction saveContacts() {\n    if (true) return;\n    const data = state.contacts.map((c)=>({\n            pubkey: c.pubkey,\n            name: c.name\n        }));\n    localStorage.setItem(\"nostr_contacts\", JSON.stringify(data));\n}\nfunction saveChannels() {\n    if (true) return;\n    localStorage.setItem(\"nostr_channels\", JSON.stringify(state.channels));\n}\nfunction loadContacts() {\n    if (true) return;\n    try {\n        const raw = localStorage.getItem(\"nostr_contacts\");\n        if (raw) {\n            const data = JSON.parse(raw);\n            const contacts = data.map((d)=>({\n                    pubkey: d.pubkey,\n                    name: d.name || _nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.shortenKey(d.pubkey),\n                    unread: 0\n                }));\n            state = {\n                ...state,\n                contacts\n            };\n            notify();\n            contacts.forEach((c)=>_nostr__WEBPACK_IMPORTED_MODULE_1__.nostrClient.requestProfile(c.pubkey));\n        }\n    } catch  {\n    // ignore\n    }\n}\nfunction loadChannels() {\n// No-op. Channels are now added dynamically.\n}\nfunction useRelayStatuses() {\n    const [, setTick] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>setTick((t)=>t + 1), []);\n    return {\n        refresh\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUtLLEtBQUssQ0FBQ0Y7WUFDeEIsTUFBTW5GLFdBQXNCNkUsS0FBS3JELEdBQUcsQ0FBQzhELENBQUFBLElBQU07b0JBQ3pDaEUsUUFBUWdFLEVBQUVoRSxNQUFNO29CQUNoQlUsTUFBTXNELEVBQUV0RCxJQUFJLElBQUlsQywrQ0FBV0EsQ0FBQ3FDLFVBQVUsQ0FBQ21ELEVBQUVoRSxNQUFNO29CQUMvQ0ksUUFBUTtnQkFDVjtZQUNBbEIsUUFBUTtnQkFBRSxHQUFHQSxLQUFLO2dCQUFFUjtZQUFTO1lBQzdCVztZQUNBWCxTQUFTWSxPQUFPLENBQUNhLENBQUFBLElBQUszQiwrQ0FBV0EsQ0FBQ3VDLGNBQWMsQ0FBQ1osRUFBRUgsTUFBTTtRQUMzRDtJQUNGLEVBQUUsT0FBTTtJQUNOLFNBQVM7SUFDWDtBQUNGO0FBRU8sU0FBU2lFO0FBQ2QsNkNBQTZDO0FBQy9DO0FBRU8sU0FBU0M7SUFDZCxNQUFNLEdBQUdDLFFBQVEsR0FBRzlGLCtDQUFRQSxDQUFDO0lBQzdCLE1BQU0rRixVQUFVOUYsa0RBQVdBLENBQUMsSUFBTTZGLFFBQVFFLENBQUFBLElBQUtBLElBQUksSUFBSSxFQUFFO0lBQ3pELE9BQU87UUFBRUQ7SUFBUTtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvbGliL3N0b3JlLnRzP2FkMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vc3RyQ2xpZW50LCB0eXBlIENvbnRhY3QsIHR5cGUgRGlyZWN0TWVzc2FnZSwgdHlwZSBDaGFubmVsIH0gZnJvbSAnLi9ub3N0cic7XG5cbmludGVyZmFjZSBBcHBTdGF0ZSB7XG4gIGNvbnRhY3RzOiBDb250YWN0W107XG4gIGNoYW5uZWxzOiBDaGFubmVsW107XG4gIG1lc3NhZ2VzOiBNYXA8c3RyaW5nLCBEaXJlY3RNZXNzYWdlW10+O1xuICBjaGFubmVsTWVzc2FnZXM6IE1hcDxzdHJpbmcsIERpcmVjdE1lc3NhZ2VbXT47XG4gIGFjdGl2ZUNoYXQ6IHN0cmluZyB8IG51bGw7XG4gIGlzTG9nZ2VkSW46IGJvb2xlYW47XG4gIHNob3dTaWRlYmFyOiBib29sZWFuO1xufVxuXG5jb25zdCBpbml0aWFsU3RhdGU6IEFwcFN0YXRlID0ge1xuICBjb250YWN0czogW10sXG4gIGNoYW5uZWxzOiBbXSxcbiAgbWVzc2FnZXM6IG5ldyBNYXAoKSxcbiAgY2hhbm5lbE1lc3NhZ2VzOiBuZXcgTWFwKCksXG4gIGFjdGl2ZUNoYXQ6IG51bGwsXG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBzaG93U2lkZWJhcjogdHJ1ZSxcbn07XG5cbmxldCBzdGF0ZTogQXBwU3RhdGUgPSB7IC4uLmluaXRpYWxTdGF0ZSB9O1xuXG5jb25zdCBsaXN0ZW5lcnMgPSBuZXcgU2V0PCgpID0+IHZvaWQ+KCk7XG5cbmZ1bmN0aW9uIG5vdGlmeSgpIHtcbiAgbGlzdGVuZXJzLmZvckVhY2gobCA9PiBsKCkpO1xufVxuXG5mdW5jdGlvbiBnZXRTbmFwc2hvdCgpIHtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBnZXRTZXJ2ZXJTbmFwc2hvdCgpIHtcbiAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSB7XG4gIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBcHBTdGF0ZSgpIHtcbiAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFjdGl2ZUNoYXQocHVia2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgYWN0aXZlQ2hhdDogcHVia2V5IH07XG4gIGlmIChwdWJrZXkgJiYgIXB1YmtleS5zdGFydHNXaXRoKCdjaGFubmVsOicpKSB7XG4gICAgY29uc3QgY29udGFjdHMgPSBzdGF0ZS5jb250YWN0cy5tYXAoYyA9PlxuICAgICAgYy5wdWJrZXkgPT09IHB1YmtleSA/IHsgLi4uYywgdW5yZWFkOiAwIH0gOiBjXG4gICAgKTtcbiAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzIH07XG4gIH1cbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb0JhY2tUb1NpZGViYXIoKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgYWN0aXZlQ2hhdDogbnVsbCB9O1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ2dlZEluKHZhbHVlOiBib29sZWFuKSB7XG4gIHN0YXRlID0geyAuLi5zdGF0ZSwgaXNMb2dnZWRJbjogdmFsdWUgfTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIHNob3dTaWRlYmFyOiAhc3RhdGUuc2hvd1NpZGViYXIgfTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250YWN0KHB1YmtleTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKSB7XG4gIGlmIChzdGF0ZS5jb250YWN0cy5maW5kKGMgPT4gYy5wdWJrZXkgPT09IHB1YmtleSkpIHJldHVybjtcbiAgY29uc3QgY29udGFjdDogQ29udGFjdCA9IHtcbiAgICBwdWJrZXksXG4gICAgbmFtZTogbmFtZSB8fCBub3N0ckNsaWVudC5zaG9ydGVuS2V5KHB1YmtleSksXG4gICAgdW5yZWFkOiAwLFxuICB9O1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzOiBbLi4uc3RhdGUuY29udGFjdHMsIGNvbnRhY3RdIH07XG4gIHNhdmVDb250YWN0cygpO1xuICBub3N0ckNsaWVudC5yZXF1ZXN0UHJvZmlsZShwdWJrZXkpO1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbnRhY3QocHVia2V5OiBzdHJpbmcpIHtcbiAgc3RhdGUgPSB7XG4gICAgLi4uc3RhdGUsXG4gICAgY29udGFjdHM6IHN0YXRlLmNvbnRhY3RzLmZpbHRlcihjID0+IGMucHVia2V5ICE9PSBwdWJrZXkpLFxuICAgIGFjdGl2ZUNoYXQ6IHN0YXRlLmFjdGl2ZUNoYXQgPT09IHB1YmtleSA/IG51bGwgOiBzdGF0ZS5hY3RpdmVDaGF0LFxuICB9O1xuICBzYXZlQ29udGFjdHMoKTtcbiAgbm90aWZ5KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDb250YWN0UHJvZmlsZShwdWJrZXk6IHN0cmluZywgbmFtZT86IHN0cmluZywgcGljdHVyZT86IHN0cmluZywgYWJvdXQ/OiBzdHJpbmcpIHtcbiAgc3RhdGUgPSB7XG4gICAgLi4uc3RhdGUsXG4gICAgY29udGFjdHM6IHN0YXRlLmNvbnRhY3RzLm1hcChjID0+XG4gICAgICBjLnB1YmtleSA9PT0gcHVia2V5ID8geyAuLi5jLCBuYW1lOiBuYW1lIHx8IGMubmFtZSwgcGljdHVyZSwgYWJvdXQgfSA6IGNcbiAgICApLFxuICB9O1xuICBub3RpZnkoKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdE1lc3NhZ2VQcmV2aWV3KG1zZzogRGlyZWN0TWVzc2FnZSk6IHN0cmluZyB7XG4gIGlmIChtc2cubXNnVHlwZSA9PT0gJ2ltYWdlJykgcmV0dXJuICfwn5a877iPIFBob3RvJztcbiAgaWYgKG1zZy5tc2dUeXBlID09PSAnZmlsZScpIHJldHVybiBg8J+TjiAke21zZy5hdHRhY2htZW50Py5uYW1lIHx8ICdGaWxlJ31gO1xuICByZXR1cm4gbXNnLmNvbnRlbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNZXNzYWdlKG1zZzogRGlyZWN0TWVzc2FnZSkge1xuICBjb25zdCBvdGhlclB1YmtleSA9IG1zZy5mcm9tID09PSBub3N0ckNsaWVudC5wdWJsaWNLZXkgPyBtc2cudG8gOiBtc2cuZnJvbTtcbiAgY29uc3QgZXhpc3RpbmcgPSBzdGF0ZS5tZXNzYWdlcy5nZXQob3RoZXJQdWJrZXkpIHx8IFtdO1xuXG4gIGlmIChleGlzdGluZy5maW5kKG0gPT4gbS5pZCA9PT0gbXNnLmlkKSkgcmV0dXJuO1xuXG4gIGNvbnN0IHVwZGF0ZWQgPSBbLi4uZXhpc3RpbmcsIG1zZ10uc29ydCgoYSwgYikgPT4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcCk7XG4gIGNvbnN0IG5ld01lc3NhZ2VzID0gbmV3IE1hcChzdGF0ZS5tZXNzYWdlcyk7XG4gIG5ld01lc3NhZ2VzLnNldChvdGhlclB1YmtleSwgdXBkYXRlZCk7XG5cbiAgY29uc3QgcHJldmlldyA9IGdldExhc3RNZXNzYWdlUHJldmlldyhtc2cpO1xuXG4gIGNvbnN0IGNvbnRhY3RzID0gc3RhdGUuY29udGFjdHMubWFwKGMgPT4ge1xuICAgIGlmIChjLnB1YmtleSA9PT0gb3RoZXJQdWJrZXkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmMsXG4gICAgICAgIGxhc3RNZXNzYWdlOiBwcmV2aWV3LFxuICAgICAgICBsYXN0TWVzc2FnZVRpbWU6IG1zZy50aW1lc3RhbXAsXG4gICAgICAgIHVucmVhZDogc3RhdGUuYWN0aXZlQ2hhdCA9PT0gb3RoZXJQdWJrZXkgPyAwIDogKGMudW5yZWFkIHx8IDApICsgKG1zZy5mcm9tICE9PSBub3N0ckNsaWVudC5wdWJsaWNLZXkgPyAxIDogMCksXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfSk7XG5cbiAgY29uc3QgaGFzQ29udGFjdCA9IGNvbnRhY3RzLmZpbmQoYyA9PiBjLnB1YmtleSA9PT0gb3RoZXJQdWJrZXkpO1xuICBpZiAoIWhhc0NvbnRhY3QgJiYgbXNnLmZyb20gIT09IG5vc3RyQ2xpZW50LnB1YmxpY0tleSkge1xuICAgIGNvbnRhY3RzLnB1c2goe1xuICAgICAgcHVia2V5OiBvdGhlclB1YmtleSxcbiAgICAgIG5hbWU6IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkob3RoZXJQdWJrZXkpLFxuICAgICAgbGFzdE1lc3NhZ2U6IHByZXZpZXcsXG4gICAgICBsYXN0TWVzc2FnZVRpbWU6IG1zZy50aW1lc3RhbXAsXG4gICAgICB1bnJlYWQ6IHN0YXRlLmFjdGl2ZUNoYXQgPT09IG90aGVyUHVia2V5ID8gMCA6IDEsXG4gICAgfSk7XG4gICAgbm9zdHJDbGllbnQucmVxdWVzdFByb2ZpbGUob3RoZXJQdWJrZXkpO1xuICAgIHNhdmVDb250YWN0cygpO1xuICB9XG5cbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBtZXNzYWdlczogbmV3TWVzc2FnZXMsIGNvbnRhY3RzIH07XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbm5lbChjaGFubmVsOiBDaGFubmVsKSB7XG4gIGlmIChzdGF0ZS5jaGFubmVscy5maW5kKGMgPT4gYy5pZCA9PT0gY2hhbm5lbC5pZCkpIHJldHVybjtcbiAgc3RhdGUgPSB7IC4uLnN0YXRlLCBjaGFubmVsczogW2NoYW5uZWwsIC4uLnN0YXRlLmNoYW5uZWxzXSB9O1xuICBzYXZlQ2hhbm5lbHMoKTtcbiAgbm9zdHJDbGllbnQuc2V0Q2hhbm5lbHMoc3RhdGUuY2hhbm5lbHMubWFwKGMgPT4gYy5pZCkpO1xuICBub3RpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5uZWxNZXNzYWdlKG1zZzogRGlyZWN0TWVzc2FnZSkge1xuICBjb25zdCBjaGFubmVsSWQgPSBtc2cuY2hhbm5lbElkO1xuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuO1xuICBjb25zdCBleGlzdGluZyA9IHN0YXRlLmNoYW5uZWxNZXNzYWdlcy5nZXQoY2hhbm5lbElkKSB8fCBbXTtcbiAgaWYgKGV4aXN0aW5nLmZpbmQobSA9PiBtLmlkID09PSBtc2cuaWQpKSByZXR1cm47XG4gIGNvbnN0IHVwZGF0ZWQgPSBbLi4uZXhpc3RpbmcsIG1zZ10uc29ydCgoYSwgYikgPT4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcCk7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXAoc3RhdGUuY2hhbm5lbE1lc3NhZ2VzKTtcbiAgbWFwLnNldChjaGFubmVsSWQsIHVwZGF0ZWQpO1xuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNoYW5uZWxNZXNzYWdlczogbWFwIH07XG4gIG5vdGlmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWxJZDogc3RyaW5nKTogRGlyZWN0TWVzc2FnZVtdIHtcbiAgcmV0dXJuIHN0YXRlLmNoYW5uZWxNZXNzYWdlcy5nZXQoY2hhbm5lbElkKSB8fCBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lc3NhZ2VzKHB1YmtleTogc3RyaW5nKTogRGlyZWN0TWVzc2FnZVtdIHtcbiAgcmV0dXJuIHN0YXRlLm1lc3NhZ2VzLmdldChwdWJrZXkpIHx8IFtdO1xufVxuXG5mdW5jdGlvbiBzYXZlQ29udGFjdHMoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBjb25zdCBkYXRhID0gc3RhdGUuY29udGFjdHMubWFwKGMgPT4gKHsgcHVia2V5OiBjLnB1YmtleSwgbmFtZTogYy5uYW1lIH0pKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25vc3RyX2NvbnRhY3RzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xufVxuXG5mdW5jdGlvbiBzYXZlQ2hhbm5lbHMoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbm9zdHJfY2hhbm5lbHMnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jaGFubmVscykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENvbnRhY3RzKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgdHJ5IHtcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbm9zdHJfY29udGFjdHMnKTtcbiAgICBpZiAocmF3KSB7XG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyYXcpIGFzIHsgcHVia2V5OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmcgfVtdO1xuICAgICAgY29uc3QgY29udGFjdHM6IENvbnRhY3RbXSA9IGRhdGEubWFwKGQgPT4gKHtcbiAgICAgICAgcHVia2V5OiBkLnB1YmtleSxcbiAgICAgICAgbmFtZTogZC5uYW1lIHx8IG5vc3RyQ2xpZW50LnNob3J0ZW5LZXkoZC5wdWJrZXkpLFxuICAgICAgICB1bnJlYWQ6IDAsXG4gICAgICB9KSk7XG4gICAgICBzdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzIH07XG4gICAgICBub3RpZnkoKTtcbiAgICAgIGNvbnRhY3RzLmZvckVhY2goYyA9PiBub3N0ckNsaWVudC5yZXF1ZXN0UHJvZmlsZShjLnB1YmtleSkpO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gaWdub3JlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDaGFubmVscygpIHtcbiAgLy8gTm8tb3AuIENoYW5uZWxzIGFyZSBub3cgYWRkZWQgZHluYW1pY2FsbHkuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWxheVN0YXR1c2VzKCkge1xuICBjb25zdCBbLCBzZXRUaWNrXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0VGljayh0ID0+IHQgKyAxKSwgW10pO1xuICByZXR1cm4geyByZWZyZXNoIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVN5bmNFeHRlcm5hbFN0b3JlIiwibm9zdHJDbGllbnQiLCJpbml0aWFsU3RhdGUiLCJjb250YWN0cyIsImNoYW5uZWxzIiwibWVzc2FnZXMiLCJNYXAiLCJjaGFubmVsTWVzc2FnZXMiLCJhY3RpdmVDaGF0IiwiaXNMb2dnZWRJbiIsInNob3dTaWRlYmFyIiwic3RhdGUiLCJsaXN0ZW5lcnMiLCJTZXQiLCJub3RpZnkiLCJmb3JFYWNoIiwibCIsImdldFNuYXBzaG90IiwiZ2V0U2VydmVyU25hcHNob3QiLCJzdWJzY3JpYmUiLCJsaXN0ZW5lciIsImFkZCIsImRlbGV0ZSIsInVzZUFwcFN0YXRlIiwic2V0QWN0aXZlQ2hhdCIsInB1YmtleSIsInN0YXJ0c1dpdGgiLCJtYXAiLCJjIiwidW5yZWFkIiwiZ29CYWNrVG9TaWRlYmFyIiwic2V0TG9nZ2VkSW4iLCJ2YWx1ZSIsInRvZ2dsZVNpZGViYXIiLCJhZGRDb250YWN0IiwibmFtZSIsImZpbmQiLCJjb250YWN0Iiwic2hvcnRlbktleSIsInNhdmVDb250YWN0cyIsInJlcXVlc3RQcm9maWxlIiwicmVtb3ZlQ29udGFjdCIsImZpbHRlciIsInVwZGF0ZUNvbnRhY3RQcm9maWxlIiwicGljdHVyZSIsImFib3V0IiwiZ2V0TGFzdE1lc3NhZ2VQcmV2aWV3IiwibXNnIiwibXNnVHlwZSIsImF0dGFjaG1lbnQiLCJjb250ZW50IiwiYWRkTWVzc2FnZSIsIm90aGVyUHVia2V5IiwiZnJvbSIsInB1YmxpY0tleSIsInRvIiwiZXhpc3RpbmciLCJnZXQiLCJtIiwiaWQiLCJ1cGRhdGVkIiwic29ydCIsImEiLCJiIiwidGltZXN0YW1wIiwibmV3TWVzc2FnZXMiLCJzZXQiLCJwcmV2aWV3IiwibGFzdE1lc3NhZ2UiLCJsYXN0TWVzc2FnZVRpbWUiLCJoYXNDb250YWN0IiwicHVzaCIsImFkZENoYW5uZWwiLCJjaGFubmVsIiwic2F2ZUNoYW5uZWxzIiwic2V0Q2hhbm5lbHMiLCJhZGRDaGFubmVsTWVzc2FnZSIsImNoYW5uZWxJZCIsImdldENoYW5uZWxNZXNzYWdlcyIsImdldE1lc3NhZ2VzIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwibG9hZENvbnRhY3RzIiwicmF3IiwiZ2V0SXRlbSIsInBhcnNlIiwiZCIsImxvYWRDaGFubmVscyIsInVzZVJlbGF5U3RhdHVzZXMiLCJzZXRUaWNrIiwicmVmcmVzaCIsInQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/store.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/webrtc.ts":
/*!***************************!*\
  !*** ./src/lib/webrtc.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webrtcManager: () => (/* binding */ webrtcManager)\n/* harmony export */ });\n/* harmony import */ var _nostr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nostr */ \"(ssr)/./src/lib/nostr.ts\");\n\nconst ICE_CONFIG = {\n    iceServers: [\n        {\n            urls: \"stun:stun.l.google.com:19302\"\n        },\n        {\n            urls: \"stun:stun1.l.google.com:19302\"\n        },\n        {\n            urls: \"stun:stun.cloudflare.com:3478\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:80\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:443\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        },\n        {\n            urls: \"turn:openrelay.metered.ca:443?transport=tcp\",\n            username: \"openrelayproject\",\n            credential: \"openrelayproject\"\n        }\n    ],\n    iceCandidatePoolSize: 10\n};\nclass WebRTCManager {\n    get callState() {\n        return this._callState;\n    }\n    get remotePubkey() {\n        return this._remotePubkey;\n    }\n    get callType() {\n        return this._callType;\n    }\n    get callStartTime() {\n        return this._callStartTime;\n    }\n    onStateChange(cb) {\n        this.stateCallbacks.add(cb);\n        return ()=>{\n            this.stateCallbacks.delete(cb);\n        };\n    }\n    onStream(cb) {\n        this.streamCallbacks.add(cb);\n        return ()=>{\n            this.streamCallbacks.delete(cb);\n        };\n    }\n    setState(state, error) {\n        this._callState = state;\n        if (state === \"connected\") {\n            this._callStartTime = Date.now();\n            this.stopRingtone();\n        }\n        if (state === \"idle\" || state === \"ended\") this.stopRingtone();\n        this.stateCallbacks.forEach((cb)=>cb(state, this._remotePubkey, this._callType, error));\n    }\n    notifyStreams() {\n        this.streamCallbacks.forEach((cb)=>cb(this.localStream, this.remoteStream));\n    }\n    playRingtone() {\n        this.stopRingtone();\n        try {\n            this.audioCtx = new AudioContext();\n            this.audioOsc = this.audioCtx.createOscillator();\n            const gain = this.audioCtx.createGain();\n            this.audioOsc.connect(gain);\n            gain.connect(this.audioCtx.destination);\n            this.audioOsc.frequency.value = 440;\n            gain.gain.value = 0.08;\n            this.audioOsc.start();\n            const ctx = this.audioCtx;\n            const pulse = ()=>{\n                if (this._callState !== \"ringing\" || !this.audioCtx) {\n                    try {\n                        this.audioOsc?.stop();\n                        ctx.close();\n                    } catch  {}\n                    return;\n                }\n                gain.gain.setValueAtTime(0.08, ctx.currentTime);\n                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);\n                setTimeout(pulse, 1200);\n            };\n            pulse();\n        } catch  {}\n    }\n    stopRingtone() {\n        try {\n            this.audioOsc?.stop();\n        } catch  {}\n        try {\n            this.audioCtx?.close();\n        } catch  {}\n        this.audioOsc = null;\n        this.audioCtx = null;\n    }\n    init() {\n        if (this._unsubSignal) return;\n        this._unsubSignal = _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.onSignal((from, signal)=>{\n            this.handleSignal(from, signal);\n        });\n    }\n    destroy() {\n        if (this._unsubSignal) {\n            this._unsubSignal();\n            this._unsubSignal = null;\n        }\n        this.cleanup(false);\n    }\n    async handleSignal(from, signal) {\n        switch(signal.type){\n            case \"call-request\":\n                if (this._callState !== \"idle\") {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(from, {\n                        type: \"call-reject\"\n                    }).catch(()=>{});\n                    return;\n                }\n                this._remotePubkey = from;\n                this._callType = signal.callType || \"audio\";\n                this.setState(\"ringing\");\n                this.playRingtone();\n                this.callTimeout = setTimeout(()=>{\n                    if (this._callState === \"ringing\") this.rejectCall();\n                }, 45000);\n                break;\n            case \"call-accept\":\n                if (this._callState === \"calling\" && this._remotePubkey === from) {\n                    this.clearRetry();\n                    this.clearCallTimeout();\n                    this.setState(\"connecting\");\n                    await this.startWebRTC(true);\n                }\n                break;\n            case \"call-reject\":\n                if (this._remotePubkey === from) {\n                    this.cleanup(false);\n                    this.setState(\"idle\", \" \");\n                }\n                break;\n            case \"call-end\":\n                if (this._remotePubkey === from) this.cleanup(false);\n                break;\n            case \"webrtc-offer\":\n                if (this._remotePubkey === from && signal.sdp) await this.handleOffer(signal.sdp);\n                break;\n            case \"webrtc-answer\":\n                if (this._remotePubkey === from && signal.sdp) await this.handleAnswer(signal.sdp);\n                break;\n            case \"webrtc-ice\":\n                if (this._remotePubkey === from && signal.candidate) await this.handleIceCandidate(signal.candidate);\n                break;\n        }\n    }\n    clearCallTimeout() {\n        if (this.callTimeout) {\n            clearTimeout(this.callTimeout);\n            this.callTimeout = null;\n        }\n    }\n    clearRetry() {\n        if (this.retryInterval) {\n            clearInterval(this.retryInterval);\n            this.retryInterval = null;\n        }\n    }\n    async initiateCall(pubkey, type) {\n        if (this._callState !== \"idle\") return;\n        //       ,    \n        try {\n            this.preStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true\n                },\n                video: type === \"video\" ? {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                } : false\n            });\n        } catch (err) {\n            //        \n            if (type === \"video\") {\n                try {\n                    this.preStream = await navigator.mediaDevices.getUserMedia({\n                        audio: true,\n                        video: false\n                    });\n                    type = \"audio\";\n                } catch  {\n                    this.setState(\"idle\", this.mediaErrorMsg(err));\n                    return;\n                }\n            } else {\n                this.setState(\"idle\", this.mediaErrorMsg(err));\n                return;\n            }\n        }\n        this._remotePubkey = pubkey;\n        this._callType = type;\n        this.setState(\"calling\");\n        //  call-request    3  (Nostr )\n        const sendReq = ()=>{\n            _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(pubkey, {\n                type: \"call-request\",\n                callType: type\n            }).catch(()=>{});\n        };\n        sendReq();\n        this.retryInterval = setInterval(()=>{\n            if (this._callState === \"calling\") sendReq();\n            else this.clearRetry();\n        }, 3000);\n        //  40 \n        this.callTimeout = setTimeout(()=>{\n            if (this._callState === \"calling\") {\n                this.cleanup(true);\n                this.setState(\"idle\", \" \");\n            }\n        }, 40000);\n    }\n    async acceptCall() {\n        if (this._callState !== \"ringing\" || !this._remotePubkey) return;\n        this.clearCallTimeout();\n        this.stopRingtone();\n        this.setState(\"connecting\");\n        //    \n        try {\n            this.preStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true\n                },\n                video: this._callType === \"video\" ? {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                } : false\n            });\n        } catch (err) {\n            if (this._callType === \"video\") {\n                try {\n                    this.preStream = await navigator.mediaDevices.getUserMedia({\n                        audio: true\n                    });\n                    this._callType = \"audio\";\n                } catch  {\n                    this.cleanup(false);\n                    this.setState(\"idle\", this.mediaErrorMsg(err));\n                    return;\n                }\n            } else {\n                this.cleanup(false);\n                this.setState(\"idle\", this.mediaErrorMsg(err));\n                return;\n            }\n        }\n        await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n            type: \"call-accept\"\n        });\n        await this.startWebRTC(false);\n    }\n    async rejectCall() {\n        if (this._callState !== \"ringing\" || !this._remotePubkey) return;\n        this.clearCallTimeout();\n        this.stopRingtone();\n        _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n            type: \"call-reject\"\n        }).catch(()=>{});\n        this.cleanup(false);\n    }\n    mediaErrorMsg(err) {\n        if (err instanceof DOMException) {\n            if (err.name === \"NotAllowedError\") return \"  / .    .\";\n            if (err.name === \"NotFoundError\") return \"/  .  .\";\n            if (err.name === \"NotReadableError\") return \"   .\";\n            return `: ${err.message}`;\n        }\n        return \"     \";\n    }\n    async startWebRTC(isInitiator) {\n        try {\n            this.pc = new RTCPeerConnection(ICE_CONFIG);\n            //   \n            this.localStream = this.preStream;\n            this.preStream = null;\n            if (!this.localStream) {\n                this.localStream = await navigator.mediaDevices.getUserMedia({\n                    audio: true,\n                    video: this._callType === \"video\"\n                });\n            }\n            this.localStream.getTracks().forEach((track)=>{\n                this.pc.addTrack(track, this.localStream);\n            });\n            this.remoteStream = new MediaStream();\n            this.pc.ontrack = (event)=>{\n                if (event.streams[0]) {\n                    event.streams[0].getTracks().forEach((track)=>{\n                        this.remoteStream.addTrack(track);\n                    });\n                } else if (event.track) {\n                    this.remoteStream.addTrack(event.track);\n                }\n                this.notifyStreams();\n            };\n            this.pc.onicecandidate = (event)=>{\n                if (event.candidate && this._remotePubkey) {\n                    _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                        type: \"webrtc-ice\",\n                        candidate: event.candidate.toJSON()\n                    }).catch(()=>{});\n                }\n            };\n            this.pc.oniceconnectionstatechange = ()=>{\n                const s = this.pc?.iceConnectionState;\n                if (s === \"connected\" || s === \"completed\") {\n                    this.setState(\"connected\");\n                } else if (s === \"failed\") {\n                    if (this.pc && isInitiator) {\n                        try {\n                            this.pc.restartIce();\n                        } catch  {\n                            this.endCall(\" \");\n                        }\n                    } else {\n                        this.endCall(\" \");\n                    }\n                } else if (s === \"disconnected\") {\n                    setTimeout(()=>{\n                        if (this.pc?.iceConnectionState === \"disconnected\") this.endCall(\" \");\n                    }, 7000);\n                }\n            };\n            this.notifyStreams();\n            if (isInitiator) {\n                const offer = await this.pc.createOffer({\n                    offerToReceiveAudio: true,\n                    offerToReceiveVideo: this._callType === \"video\"\n                });\n                await this.pc.setLocalDescription(offer);\n                await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                    type: \"webrtc-offer\",\n                    sdp: offer.sdp\n                });\n            }\n            for (const c of this.iceCandidateQueue){\n                try {\n                    await this.pc.addIceCandidate(new RTCIceCandidate(c));\n                } catch  {}\n            }\n            this.iceCandidateQueue = [];\n        } catch (err) {\n            this.endCall(this.mediaErrorMsg(err));\n        }\n    }\n    async handleOffer(sdp) {\n        if (!this.pc) return;\n        try {\n            await this.pc.setRemoteDescription(new RTCSessionDescription({\n                type: \"offer\",\n                sdp\n            }));\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                type: \"webrtc-answer\",\n                sdp: answer.sdp\n            });\n        } catch (e) {\n            console.error(\"handleOffer:\", e);\n        }\n    }\n    async handleAnswer(sdp) {\n        if (!this.pc) return;\n        try {\n            await this.pc.setRemoteDescription(new RTCSessionDescription({\n                type: \"answer\",\n                sdp\n            }));\n        } catch (e) {\n            console.error(\"handleAnswer:\", e);\n        }\n    }\n    async handleIceCandidate(candidate) {\n        if (!this.pc || !this.pc.remoteDescription) {\n            this.iceCandidateQueue.push(candidate);\n            return;\n        }\n        try {\n            await this.pc.addIceCandidate(new RTCIceCandidate(candidate));\n        } catch  {}\n    }\n    endCall(error) {\n        if (this._remotePubkey && this._callState !== \"idle\" && this._callState !== \"ended\") {\n            _nostr__WEBPACK_IMPORTED_MODULE_0__.nostrClient.sendWebRTCSignal(this._remotePubkey, {\n                type: \"call-end\"\n            }).catch(()=>{});\n        }\n        this.cleanup(false);\n        if (error) this.setState(\"idle\", error);\n    }\n    cleanup(silent) {\n        this.clearCallTimeout();\n        this.clearRetry();\n        this.stopRingtone();\n        if (this.preStream) {\n            this.preStream.getTracks().forEach((t)=>t.stop());\n            this.preStream = null;\n        }\n        if (this.localStream) {\n            this.localStream.getTracks().forEach((t)=>t.stop());\n            this.localStream = null;\n        }\n        if (this.remoteStream) {\n            this.remoteStream.getTracks().forEach((t)=>t.stop());\n            this.remoteStream = null;\n        }\n        if (this.pc) {\n            this.pc.close();\n            this.pc = null;\n        }\n        this.iceCandidateQueue = [];\n        this._remotePubkey = null;\n        this._callStartTime = 0;\n        if (!silent) this.setState(\"idle\");\n        this.notifyStreams();\n    }\n    toggleMute() {\n        if (!this.localStream) return false;\n        const t = this.localStream.getAudioTracks()[0];\n        if (t) {\n            t.enabled = !t.enabled;\n            return !t.enabled;\n        }\n        return false;\n    }\n    toggleVideo() {\n        if (!this.localStream) return false;\n        const t = this.localStream.getVideoTracks()[0];\n        if (t) {\n            t.enabled = !t.enabled;\n            return !t.enabled;\n        }\n        return false;\n    }\n    constructor(){\n        this.pc = null;\n        this.localStream = null;\n        this.remoteStream = null;\n        this._callState = \"idle\";\n        this._remotePubkey = null;\n        this._callType = \"audio\";\n        this.stateCallbacks = new Set();\n        this.streamCallbacks = new Set();\n        this.iceCandidateQueue = [];\n        this._callStartTime = 0;\n        this._unsubSignal = null;\n        this.callTimeout = null;\n        this.retryInterval = null;\n        this.audioCtx = null;\n        this.audioOsc = null;\n        //           \n        this.preStream = null;\n    }\n}\nconst webrtcManager = new WebRTCManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksSUFBSSxDQUFDeEcsV0FBVyxDQUFDNkcsY0FBYyxFQUFFLENBQUMsRUFBRTtRQUM5QyxJQUFJTCxHQUFHO1lBQUVBLEVBQUVHLE9BQU8sR0FBRyxDQUFDSCxFQUFFRyxPQUFPO1lBQUUsT0FBTyxDQUFDSCxFQUFFRyxPQUFPO1FBQUU7UUFDcEQsT0FBTztJQUNUOzthQWhXUXJDLEtBQStCO2FBQy9CdEUsY0FBa0M7YUFDbENDLGVBQW1DO2FBQ25DdkIsYUFBd0I7YUFDeEJFLGdCQUErQjthQUMvQkUsWUFBc0I7YUFDdEJLLGlCQUF5QyxJQUFJMkg7YUFDN0N2SCxrQkFBdUMsSUFBSXVIO2FBQzNDbEIsb0JBQTJDLEVBQUU7YUFDN0M1RyxpQkFBeUI7YUFDekJ1QyxlQUFvQzthQUNwQ1UsY0FBb0Q7YUFDcERXLGdCQUF1RDthQUN2RHpDLFdBQWdDO2FBQ2hDRSxXQUFrQztRQUMxQyxxRUFBcUU7YUFDN0QyQyxZQUFnQzs7QUFpVjFDO0FBRU8sTUFBTStELGdCQUFnQixJQUFJdkksZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9saWIvd2VicnRjLnRzPzMxZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9zdHJDbGllbnQsIHR5cGUgV2ViUlRDU2lnbmFsIH0gZnJvbSAnLi9ub3N0cic7XG5cbmV4cG9ydCB0eXBlIENhbGxTdGF0ZSA9ICdpZGxlJyB8ICdjYWxsaW5nJyB8ICdyaW5naW5nJyB8ICdjb25uZWN0aW5nJyB8ICdjb25uZWN0ZWQnIHwgJ2VuZGVkJztcbmV4cG9ydCB0eXBlIENhbGxUeXBlID0gJ2F1ZGlvJyB8ICd2aWRlbyc7XG5cbnR5cGUgQ2FsbFN0YXRlQ2FsbGJhY2sgPSAoc3RhdGU6IENhbGxTdGF0ZSwgcmVtb3RlUHVia2V5OiBzdHJpbmcgfCBudWxsLCBjYWxsVHlwZTogQ2FsbFR5cGUsIGVycm9yPzogc3RyaW5nKSA9PiB2b2lkO1xudHlwZSBTdHJlYW1DYWxsYmFjayA9IChsb2NhbDogTWVkaWFTdHJlYW0gfCBudWxsLCByZW1vdGU6IE1lZGlhU3RyZWFtIHwgbnVsbCkgPT4gdm9pZDtcblxuY29uc3QgSUNFX0NPTkZJRzogUlRDQ29uZmlndXJhdGlvbiA9IHtcbiAgaWNlU2VydmVyczogW1xuICAgIHsgdXJsczogJ3N0dW46c3R1bi5sLmdvb2dsZS5jb206MTkzMDInIH0sXG4gICAgeyB1cmxzOiAnc3R1bjpzdHVuMS5sLmdvb2dsZS5jb206MTkzMDInIH0sXG4gICAgeyB1cmxzOiAnc3R1bjpzdHVuLmNsb3VkZmxhcmUuY29tOjM0NzgnIH0sXG4gICAge1xuICAgICAgdXJsczogJ3R1cm46b3BlbnJlbGF5Lm1ldGVyZWQuY2E6ODAnLFxuICAgICAgdXNlcm5hbWU6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICAgIGNyZWRlbnRpYWw6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHVybHM6ICd0dXJuOm9wZW5yZWxheS5tZXRlcmVkLmNhOjQ0MycsXG4gICAgICB1c2VybmFtZTogJ29wZW5yZWxheXByb2plY3QnLFxuICAgICAgY3JlZGVudGlhbDogJ29wZW5yZWxheXByb2plY3QnLFxuICAgIH0sXG4gICAge1xuICAgICAgdXJsczogJ3R1cm46b3BlbnJlbGF5Lm1ldGVyZWQuY2E6NDQzP3RyYW5zcG9ydD10Y3AnLFxuICAgICAgdXNlcm5hbWU6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICAgIGNyZWRlbnRpYWw6ICdvcGVucmVsYXlwcm9qZWN0JyxcbiAgICB9LFxuICBdLFxuICBpY2VDYW5kaWRhdGVQb29sU2l6ZTogMTAsXG59O1xuXG5jbGFzcyBXZWJSVENNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBwYzogUlRDUGVlckNvbm5lY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBsb2NhbFN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZW1vdGVTdHJlYW06IE1lZGlhU3RyZWFtIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX2NhbGxTdGF0ZTogQ2FsbFN0YXRlID0gJ2lkbGUnO1xuICBwcml2YXRlIF9yZW1vdGVQdWJrZXk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF9jYWxsVHlwZTogQ2FsbFR5cGUgPSAnYXVkaW8nO1xuICBwcml2YXRlIHN0YXRlQ2FsbGJhY2tzOiBTZXQ8Q2FsbFN0YXRlQ2FsbGJhY2s+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHN0cmVhbUNhbGxiYWNrczogU2V0PFN0cmVhbUNhbGxiYWNrPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBpY2VDYW5kaWRhdGVRdWV1ZTogUlRDSWNlQ2FuZGlkYXRlSW5pdFtdID0gW107XG4gIHByaXZhdGUgX2NhbGxTdGFydFRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3Vuc3ViU2lnbmFsOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjYWxsVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZXRyeUludGVydmFsOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhdWRpb0N0eDogQXVkaW9Db250ZXh0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYXVkaW9Pc2M6IE9zY2lsbGF0b3JOb2RlIHwgbnVsbCA9IG51bGw7XG4gIC8vINCf0YDQtdC00LfQsNGF0LLQsNGH0LXQvdC90YvQuSDRgdGC0YDQuNC8IOKAlCDQsdC10YDRkdC8INC80LXQtNC40LAg0JTQniDQt9Cy0L7QvdC60LAg0YfRgtC+0LHRiyDQv9C+0YLQvtC8INC90LUg0LbQtNCw0YLRjFxuICBwcml2YXRlIHByZVN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcblxuICBnZXQgY2FsbFN0YXRlKCkgeyByZXR1cm4gdGhpcy5fY2FsbFN0YXRlOyB9XG4gIGdldCByZW1vdGVQdWJrZXkoKSB7IHJldHVybiB0aGlzLl9yZW1vdGVQdWJrZXk7IH1cbiAgZ2V0IGNhbGxUeXBlKCkgeyByZXR1cm4gdGhpcy5fY2FsbFR5cGU7IH1cbiAgZ2V0IGNhbGxTdGFydFRpbWUoKSB7IHJldHVybiB0aGlzLl9jYWxsU3RhcnRUaW1lOyB9XG5cbiAgb25TdGF0ZUNoYW5nZShjYjogQ2FsbFN0YXRlQ2FsbGJhY2spIHsgdGhpcy5zdGF0ZUNhbGxiYWNrcy5hZGQoY2IpOyByZXR1cm4gKCkgPT4geyB0aGlzLnN0YXRlQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cbiAgb25TdHJlYW0oY2I6IFN0cmVhbUNhbGxiYWNrKSB7IHRoaXMuc3RyZWFtQ2FsbGJhY2tzLmFkZChjYik7IHJldHVybiAoKSA9PiB7IHRoaXMuc3RyZWFtQ2FsbGJhY2tzLmRlbGV0ZShjYik7IH07IH1cblxuICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBDYWxsU3RhdGUsIGVycm9yPzogc3RyaW5nKSB7XG4gICAgdGhpcy5fY2FsbFN0YXRlID0gc3RhdGU7XG4gICAgaWYgKHN0YXRlID09PSAnY29ubmVjdGVkJykgeyB0aGlzLl9jYWxsU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsgdGhpcy5zdG9wUmluZ3RvbmUoKTsgfVxuICAgIGlmIChzdGF0ZSA9PT0gJ2lkbGUnIHx8IHN0YXRlID09PSAnZW5kZWQnKSB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRoaXMuc3RhdGVDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYihzdGF0ZSwgdGhpcy5fcmVtb3RlUHVia2V5LCB0aGlzLl9jYWxsVHlwZSwgZXJyb3IpKTtcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5U3RyZWFtcygpIHtcbiAgICB0aGlzLnN0cmVhbUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHRoaXMubG9jYWxTdHJlYW0sIHRoaXMucmVtb3RlU3RyZWFtKSk7XG4gIH1cblxuICBwcml2YXRlIHBsYXlSaW5ndG9uZSgpIHtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgdGhpcy5hdWRpb09zYyA9IHRoaXMuYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpO1xuICAgICAgY29uc3QgZ2FpbiA9IHRoaXMuYXVkaW9DdHguY3JlYXRlR2FpbigpO1xuICAgICAgdGhpcy5hdWRpb09zYy5jb25uZWN0KGdhaW4pO1xuICAgICAgZ2Fpbi5jb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuICAgICAgdGhpcy5hdWRpb09zYy5mcmVxdWVuY3kudmFsdWUgPSA0NDA7XG4gICAgICBnYWluLmdhaW4udmFsdWUgPSAwLjA4O1xuICAgICAgdGhpcy5hdWRpb09zYy5zdGFydCgpO1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5hdWRpb0N0eDtcbiAgICAgIGNvbnN0IHB1bHNlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5fY2FsbFN0YXRlICE9PSAncmluZ2luZycgfHwgIXRoaXMuYXVkaW9DdHgpIHsgdHJ5IHsgdGhpcy5hdWRpb09zYz8uc3RvcCgpOyBjdHguY2xvc2UoKTsgfSBjYXRjaCB7fSByZXR1cm47IH1cbiAgICAgICAgZ2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDgsIGN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIGdhaW4uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAxLCBjdHguY3VycmVudFRpbWUgKyAwLjUpO1xuICAgICAgICBzZXRUaW1lb3V0KHB1bHNlLCAxMjAwKTtcbiAgICAgIH07XG4gICAgICBwdWxzZSgpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIHByaXZhdGUgc3RvcFJpbmd0b25lKCkge1xuICAgIHRyeSB7IHRoaXMuYXVkaW9Pc2M/LnN0b3AoKTsgfSBjYXRjaCB7fVxuICAgIHRyeSB7IHRoaXMuYXVkaW9DdHg/LmNsb3NlKCk7IH0gY2F0Y2gge31cbiAgICB0aGlzLmF1ZGlvT3NjID0gbnVsbDtcbiAgICB0aGlzLmF1ZGlvQ3R4ID0gbnVsbDtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgaWYgKHRoaXMuX3Vuc3ViU2lnbmFsKSByZXR1cm47XG4gICAgdGhpcy5fdW5zdWJTaWduYWwgPSBub3N0ckNsaWVudC5vblNpZ25hbCgoZnJvbSwgc2lnbmFsKSA9PiB7IHRoaXMuaGFuZGxlU2lnbmFsKGZyb20sIHNpZ25hbCk7IH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5fdW5zdWJTaWduYWwpIHsgdGhpcy5fdW5zdWJTaWduYWwoKTsgdGhpcy5fdW5zdWJTaWduYWwgPSBudWxsOyB9XG4gICAgdGhpcy5jbGVhbnVwKGZhbHNlKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlU2lnbmFsKGZyb206IHN0cmluZywgc2lnbmFsOiBXZWJSVENTaWduYWwpIHtcbiAgICBzd2l0Y2ggKHNpZ25hbC50eXBlKSB7XG4gICAgICBjYXNlICdjYWxsLXJlcXVlc3QnOlxuICAgICAgICBpZiAodGhpcy5fY2FsbFN0YXRlICE9PSAnaWRsZScpIHtcbiAgICAgICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKGZyb20sIHsgdHlwZTogJ2NhbGwtcmVqZWN0JyB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbW90ZVB1YmtleSA9IGZyb207XG4gICAgICAgIHRoaXMuX2NhbGxUeXBlID0gc2lnbmFsLmNhbGxUeXBlIHx8ICdhdWRpbyc7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoJ3JpbmdpbmcnKTtcbiAgICAgICAgdGhpcy5wbGF5UmluZ3RvbmUoKTtcbiAgICAgICAgdGhpcy5jYWxsVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4geyBpZiAodGhpcy5fY2FsbFN0YXRlID09PSAncmluZ2luZycpIHRoaXMucmVqZWN0Q2FsbCgpOyB9LCA0NTAwMCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLWFjY2VwdCc6XG4gICAgICAgIGlmICgodGhpcy5fY2FsbFN0YXRlID09PSAnY2FsbGluZycpICYmIHRoaXMuX3JlbW90ZVB1YmtleSA9PT0gZnJvbSkge1xuICAgICAgICAgIHRoaXMuY2xlYXJSZXRyeSgpO1xuICAgICAgICAgIHRoaXMuY2xlYXJDYWxsVGltZW91dCgpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0V2ViUlRDKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLXJlamVjdCc6XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVQdWJrZXkgPT09IGZyb20pIHsgdGhpcy5jbGVhbnVwKGZhbHNlKTsgdGhpcy5zZXRTdGF0ZSgnaWRsZScsICfQl9Cy0L7QvdC+0Log0L7RgtC60LvQvtC90ZHQvScpOyB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYWxsLWVuZCc6XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVQdWJrZXkgPT09IGZyb20pIHRoaXMuY2xlYW51cChmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3ZWJydGMtb2ZmZXInOlxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlUHVia2V5ID09PSBmcm9tICYmIHNpZ25hbC5zZHApIGF3YWl0IHRoaXMuaGFuZGxlT2ZmZXIoc2lnbmFsLnNkcCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3ZWJydGMtYW5zd2VyJzpcbiAgICAgICAgaWYgKHRoaXMuX3JlbW90ZVB1YmtleSA9PT0gZnJvbSAmJiBzaWduYWwuc2RwKSBhd2FpdCB0aGlzLmhhbmRsZUFuc3dlcihzaWduYWwuc2RwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3dlYnJ0Yy1pY2UnOlxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlUHVia2V5ID09PSBmcm9tICYmIHNpZ25hbC5jYW5kaWRhdGUpIGF3YWl0IHRoaXMuaGFuZGxlSWNlQ2FuZGlkYXRlKHNpZ25hbC5jYW5kaWRhdGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNsZWFyQ2FsbFRpbWVvdXQoKSB7IGlmICh0aGlzLmNhbGxUaW1lb3V0KSB7IGNsZWFyVGltZW91dCh0aGlzLmNhbGxUaW1lb3V0KTsgdGhpcy5jYWxsVGltZW91dCA9IG51bGw7IH0gfVxuICBwcml2YXRlIGNsZWFyUmV0cnkoKSB7IGlmICh0aGlzLnJldHJ5SW50ZXJ2YWwpIHsgY2xlYXJJbnRlcnZhbCh0aGlzLnJldHJ5SW50ZXJ2YWwpOyB0aGlzLnJldHJ5SW50ZXJ2YWwgPSBudWxsOyB9IH1cblxuICBhc3luYyBpbml0aWF0ZUNhbGwocHVia2V5OiBzdHJpbmcsIHR5cGU6IENhbGxUeXBlKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ2lkbGUnKSByZXR1cm47XG5cbiAgICAvLyDQl9Cw0YXQstCw0YLRi9Cy0LDQtdC8INC80LXQtNC40LAg0KHQoNCQ0JfQoyDigJQg0LXRgdC70Lgg0L3QtSDQv9C+0LvRg9GH0LjRgtGB0Y8sINGB0L7QvtCx0YnQsNC10Lwg0LTQviDQvdCw0YfQsNC70LAg0LfQstC+0L3QutCwXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucHJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogeyBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLCBub2lzZVN1cHByZXNzaW9uOiB0cnVlLCBhdXRvR2FpbkNvbnRyb2w6IHRydWUgfSxcbiAgICAgICAgdmlkZW86IHR5cGUgPT09ICd2aWRlbycgPyB7IHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sIGhlaWdodDogeyBpZGVhbDogNzIwIH0sIGZhY2luZ01vZGU6ICd1c2VyJyB9IDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vINCV0YHQu9C4INCy0LjQtNC10L4g0L3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDigJQg0L/RgNC+0LHRg9C10Lwg0YLQvtC70YzQutC+INCw0YPQtNC40L5cbiAgICAgIGlmICh0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5wcmVTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogZmFsc2UgfSk7XG4gICAgICAgICAgdHlwZSA9ICdhdWRpbyc7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnLCB0aGlzLm1lZGlhRXJyb3JNc2coZXJyKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCdpZGxlJywgdGhpcy5tZWRpYUVycm9yTXNnKGVycikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gcHVia2V5O1xuICAgIHRoaXMuX2NhbGxUeXBlID0gdHlwZTtcbiAgICB0aGlzLnNldFN0YXRlKCdjYWxsaW5nJyk7XG5cbiAgICAvLyDQntGC0L/RgNCw0LLQu9GP0LXQvCBjYWxsLXJlcXVlc3Qg0Lgg0L/QvtCy0YLQvtGA0Y/QtdC8INC60LDQttC00YvQtSAzINGB0LXQuiAoTm9zdHIg0L3QtdC90LDQtNGR0LbQtdC9KVxuICAgIGNvbnN0IHNlbmRSZXEgPSAoKSA9PiB7XG4gICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHB1YmtleSwgeyB0eXBlOiAnY2FsbC1yZXF1ZXN0JywgY2FsbFR5cGU6IHR5cGUgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH07XG4gICAgc2VuZFJlcSgpO1xuICAgIHRoaXMucmV0cnlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgPT09ICdjYWxsaW5nJykgc2VuZFJlcSgpO1xuICAgICAgZWxzZSB0aGlzLmNsZWFyUmV0cnkoKTtcbiAgICB9LCAzMDAwKTtcblxuICAgIC8vINCi0LDQudC80LDRg9GCIDQwINGB0LXQulxuICAgIHRoaXMuY2FsbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jYWxsU3RhdGUgPT09ICdjYWxsaW5nJykge1xuICAgICAgICB0aGlzLmNsZWFudXAodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnLCAn0J3QtdGCINC+0YLQstC10YLQsCcpO1xuICAgICAgfVxuICAgIH0sIDQwMDAwKTtcbiAgfVxuXG4gIGFzeW5jIGFjY2VwdENhbGwoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ3JpbmdpbmcnIHx8ICF0aGlzLl9yZW1vdGVQdWJrZXkpIHJldHVybjtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoJ2Nvbm5lY3RpbmcnKTtcblxuICAgIC8vINCX0LDRhdCy0LDRgtGL0LLQsNC10Lwg0LzQtdC00LjQsCDQv9GA0Lgg0L/RgNC40L3Rj9GC0LjQuFxuICAgIHRyeSB7XG4gICAgICB0aGlzLnByZVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgYXVkaW86IHsgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSwgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSwgYXV0b0dhaW5Db250cm9sOiB0cnVlIH0sXG4gICAgICAgIHZpZGVvOiB0aGlzLl9jYWxsVHlwZSA9PT0gJ3ZpZGVvJyA/IHsgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSwgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSwgZmFjaW5nTW9kZTogJ3VzZXInIH0gOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRoaXMuX2NhbGxUeXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRyeSB7IHRoaXMucHJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTsgdGhpcy5fY2FsbFR5cGUgPSAnYXVkaW8nOyB9XG4gICAgICAgIGNhdGNoIHsgdGhpcy5jbGVhbnVwKGZhbHNlKTsgdGhpcy5zZXRTdGF0ZSgnaWRsZScsIHRoaXMubWVkaWFFcnJvck1zZyhlcnIpKTsgcmV0dXJuOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFudXAoZmFsc2UpOyB0aGlzLnNldFN0YXRlKCdpZGxlJywgdGhpcy5tZWRpYUVycm9yTXNnKGVycikpOyByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgbm9zdHJDbGllbnQuc2VuZFdlYlJUQ1NpZ25hbCh0aGlzLl9yZW1vdGVQdWJrZXksIHsgdHlwZTogJ2NhbGwtYWNjZXB0JyB9KTtcbiAgICBhd2FpdCB0aGlzLnN0YXJ0V2ViUlRDKGZhbHNlKTtcbiAgfVxuXG4gIGFzeW5jIHJlamVjdENhbGwoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxTdGF0ZSAhPT0gJ3JpbmdpbmcnIHx8ICF0aGlzLl9yZW1vdGVQdWJrZXkpIHJldHVybjtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTsgdGhpcy5zdG9wUmluZ3RvbmUoKTtcbiAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSwgeyB0eXBlOiAnY2FsbC1yZWplY3QnIH0pLmNhdGNoKCgpID0+IHt9KTtcbiAgICB0aGlzLmNsZWFudXAoZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBtZWRpYUVycm9yTXNnKGVycjogdW5rbm93bik6IHN0cmluZyB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbikge1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykgcmV0dXJuICfQlNC+0YHRgtGD0L8g0Log0LzQuNC60YDQvtGE0L7QvdGDL9C60LDQvNC10YDQtSDQt9Cw0L/RgNC10YnRkdC9LiDQoNCw0LfRgNC10YjQuNGC0LUg0LIg0L3QsNGB0YLRgNC+0LnQutCw0YUg0LHRgNCw0YPQt9C10YDQsC4nO1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHJldHVybiAn0JzQuNC60YDQvtGE0L7QvS/QutCw0LzQtdGA0LAg0L3QtSDQvdCw0LnQtNC10L3Riy4g0J/QvtC00LrQu9GO0YfQuNGC0LUg0YPRgdGC0YDQvtC50YHRgtCy0L4uJztcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ05vdFJlYWRhYmxlRXJyb3InKSByZXR1cm4gJ9Cj0YHRgtGA0L7QudGB0YLQstC+INC30LDQvdGP0YLQviDQtNGA0YPQs9C40Lwg0L/RgNC40LvQvtC20LXQvdC40LXQvC4nO1xuICAgICAgcmV0dXJuIGDQntGI0LjQsdC60LA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICB9XG4gICAgcmV0dXJuICfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LTQvtGB0YLRg9C/INC6INC80LXQtNC40LAnO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdGFydFdlYlJUQyhpc0luaXRpYXRvcjogYm9vbGVhbikge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKElDRV9DT05GSUcpO1xuXG4gICAgICAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQv9GA0LXQtNC30LDRhdCy0LDRh9C10L3QvdGL0Lkg0YHRgtGA0LjQvFxuICAgICAgdGhpcy5sb2NhbFN0cmVhbSA9IHRoaXMucHJlU3RyZWFtO1xuICAgICAgdGhpcy5wcmVTdHJlYW0gPSBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMubG9jYWxTdHJlYW0pIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICB2aWRlbzogdGhpcy5fY2FsbFR5cGUgPT09ICd2aWRlbycsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICB0aGlzLnBjIS5hZGRUcmFjayh0cmFjaywgdGhpcy5sb2NhbFN0cmVhbSEpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG5cbiAgICAgIHRoaXMucGMub250cmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuc3RyZWFtc1swXSkge1xuICAgICAgICAgIGV2ZW50LnN0cmVhbXNbMF0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZVN0cmVhbSEuYWRkVHJhY2sodHJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRyYWNrKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVTdHJlYW0hLmFkZFRyYWNrKGV2ZW50LnRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGlmeVN0cmVhbXMoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucGMub25pY2VjYW5kaWRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSAmJiB0aGlzLl9yZW1vdGVQdWJrZXkpIHtcbiAgICAgICAgICBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSwge1xuICAgICAgICAgICAgdHlwZTogJ3dlYnJ0Yy1pY2UnLFxuICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUudG9KU09OKCksXG4gICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzID0gdGhpcy5wYz8uaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgICAgICBpZiAocyA9PT0gJ2Nvbm5lY3RlZCcgfHwgcyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgIGlmICh0aGlzLnBjICYmIGlzSW5pdGlhdG9yKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLnBjLnJlc3RhcnRJY2UoKTsgfSBjYXRjaCB7IHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/RgNC10YDQstCw0L3QvicpOyB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/RgNC10YDQstCw0L3QvicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucGM/LmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHRoaXMuZW5kQ2FsbCgn0KHQvtC10LTQuNC90LXQvdC40LUg0L/QvtGC0LXRgNGP0L3QvicpO1xuICAgICAgICAgIH0sIDcwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLm5vdGlmeVN0cmVhbXMoKTtcblxuICAgICAgaWYgKGlzSW5pdGlhdG9yKSB7XG4gICAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgdGhpcy5wYy5jcmVhdGVPZmZlcih7XG4gICAgICAgICAgb2ZmZXJUb1JlY2VpdmVBdWRpbzogdHJ1ZSxcbiAgICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0aGlzLl9jYWxsVHlwZSA9PT0gJ3ZpZGVvJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgIGF3YWl0IG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwodGhpcy5fcmVtb3RlUHVia2V5ISwge1xuICAgICAgICAgIHR5cGU6ICd3ZWJydGMtb2ZmZXInLFxuICAgICAgICAgIHNkcDogb2ZmZXIuc2RwLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUpIHtcbiAgICAgICAgdHJ5IHsgYXdhaXQgdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZShjKSk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUgPSBbXTtcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbmRDYWxsKHRoaXMubWVkaWFFcnJvck1zZyhlcnIpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZU9mZmVyKHNkcDogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnBjKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7IHR5cGU6ICdvZmZlcicsIHNkcCB9KSk7XG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZUFuc3dlcigpO1xuICAgICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICBhd2FpdCBub3N0ckNsaWVudC5zZW5kV2ViUlRDU2lnbmFsKHRoaXMuX3JlbW90ZVB1YmtleSEsIHsgdHlwZTogJ3dlYnJ0Yy1hbnN3ZXInLCBzZHA6IGFuc3dlci5zZHAgfSk7XG4gICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKCdoYW5kbGVPZmZlcjonLCBlKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVBbnN3ZXIoc2RwOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMucGMpIHJldHVybjtcbiAgICB0cnkgeyBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oeyB0eXBlOiAnYW5zd2VyJywgc2RwIH0pKTsgfVxuICAgIGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoJ2hhbmRsZUFuc3dlcjonLCBlKTsgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJY2VDYW5kaWRhdGUoY2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGVJbml0KSB7XG4gICAgaWYgKCF0aGlzLnBjIHx8ICF0aGlzLnBjLnJlbW90ZURlc2NyaXB0aW9uKSB7IHRoaXMuaWNlQ2FuZGlkYXRlUXVldWUucHVzaChjYW5kaWRhdGUpOyByZXR1cm47IH1cbiAgICB0cnkgeyBhd2FpdCB0aGlzLnBjLmFkZEljZUNhbmRpZGF0ZShuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkpOyB9IGNhdGNoIHt9XG4gIH1cblxuICBlbmRDYWxsKGVycm9yPzogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX3JlbW90ZVB1YmtleSAmJiB0aGlzLl9jYWxsU3RhdGUgIT09ICdpZGxlJyAmJiB0aGlzLl9jYWxsU3RhdGUgIT09ICdlbmRlZCcpIHtcbiAgICAgIG5vc3RyQ2xpZW50LnNlbmRXZWJSVENTaWduYWwodGhpcy5fcmVtb3RlUHVia2V5LCB7IHR5cGU6ICdjYWxsLWVuZCcgfSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cbiAgICB0aGlzLmNsZWFudXAoZmFsc2UpO1xuICAgIGlmIChlcnJvcikgdGhpcy5zZXRTdGF0ZSgnaWRsZScsIGVycm9yKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW51cChzaWxlbnQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmNsZWFyQ2FsbFRpbWVvdXQoKTtcbiAgICB0aGlzLmNsZWFyUmV0cnkoKTtcbiAgICB0aGlzLnN0b3BSaW5ndG9uZSgpO1xuICAgIGlmICh0aGlzLnByZVN0cmVhbSkgeyB0aGlzLnByZVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHQgPT4gdC5zdG9wKCkpOyB0aGlzLnByZVN0cmVhbSA9IG51bGw7IH1cbiAgICBpZiAodGhpcy5sb2NhbFN0cmVhbSkgeyB0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7IHRoaXMubG9jYWxTdHJlYW0gPSBudWxsOyB9XG4gICAgaWYgKHRoaXMucmVtb3RlU3RyZWFtKSB7IHRoaXMucmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7IHRoaXMucmVtb3RlU3RyZWFtID0gbnVsbDsgfVxuICAgIGlmICh0aGlzLnBjKSB7IHRoaXMucGMuY2xvc2UoKTsgdGhpcy5wYyA9IG51bGw7IH1cbiAgICB0aGlzLmljZUNhbmRpZGF0ZVF1ZXVlID0gW107XG4gICAgdGhpcy5fcmVtb3RlUHVia2V5ID0gbnVsbDtcbiAgICB0aGlzLl9jYWxsU3RhcnRUaW1lID0gMDtcbiAgICBpZiAoIXNpbGVudCkgdGhpcy5zZXRTdGF0ZSgnaWRsZScpO1xuICAgIHRoaXMubm90aWZ5U3RyZWFtcygpO1xuICB9XG5cbiAgdG9nZ2xlTXV0ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMubG9jYWxTdHJlYW0pIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB0ID0gdGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgIGlmICh0KSB7IHQuZW5hYmxlZCA9ICF0LmVuYWJsZWQ7IHJldHVybiAhdC5lbmFibGVkOyB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdG9nZ2xlVmlkZW8oKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmxvY2FsU3RyZWFtKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdCA9IHRoaXMubG9jYWxTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICBpZiAodCkgeyB0LmVuYWJsZWQgPSAhdC5lbmFibGVkOyByZXR1cm4gIXQuZW5hYmxlZDsgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgd2VicnRjTWFuYWdlciA9IG5ldyBXZWJSVENNYW5hZ2VyKCk7XG4iXSwibmFtZXMiOlsibm9zdHJDbGllbnQiLCJJQ0VfQ09ORklHIiwiaWNlU2VydmVycyIsInVybHMiLCJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJpY2VDYW5kaWRhdGVQb29sU2l6ZSIsIldlYlJUQ01hbmFnZXIiLCJjYWxsU3RhdGUiLCJfY2FsbFN0YXRlIiwicmVtb3RlUHVia2V5IiwiX3JlbW90ZVB1YmtleSIsImNhbGxUeXBlIiwiX2NhbGxUeXBlIiwiY2FsbFN0YXJ0VGltZSIsIl9jYWxsU3RhcnRUaW1lIiwib25TdGF0ZUNoYW5nZSIsImNiIiwic3RhdGVDYWxsYmFja3MiLCJhZGQiLCJkZWxldGUiLCJvblN0cmVhbSIsInN0cmVhbUNhbGxiYWNrcyIsInNldFN0YXRlIiwic3RhdGUiLCJlcnJvciIsIkRhdGUiLCJub3ciLCJzdG9wUmluZ3RvbmUiLCJmb3JFYWNoIiwibm90aWZ5U3RyZWFtcyIsImxvY2FsU3RyZWFtIiwicmVtb3RlU3RyZWFtIiwicGxheVJpbmd0b25lIiwiYXVkaW9DdHgiLCJBdWRpb0NvbnRleHQiLCJhdWRpb09zYyIsImNyZWF0ZU9zY2lsbGF0b3IiLCJnYWluIiwiY3JlYXRlR2FpbiIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImZyZXF1ZW5jeSIsInZhbHVlIiwic3RhcnQiLCJjdHgiLCJwdWxzZSIsInN0b3AiLCJjbG9zZSIsInNldFZhbHVlQXRUaW1lIiwiY3VycmVudFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwic2V0VGltZW91dCIsImluaXQiLCJfdW5zdWJTaWduYWwiLCJvblNpZ25hbCIsImZyb20iLCJzaWduYWwiLCJoYW5kbGVTaWduYWwiLCJkZXN0cm95IiwiY2xlYW51cCIsInR5cGUiLCJzZW5kV2ViUlRDU2lnbmFsIiwiY2F0Y2giLCJjYWxsVGltZW91dCIsInJlamVjdENhbGwiLCJjbGVhclJldHJ5IiwiY2xlYXJDYWxsVGltZW91dCIsInN0YXJ0V2ViUlRDIiwic2RwIiwiaGFuZGxlT2ZmZXIiLCJoYW5kbGVBbnN3ZXIiLCJjYW5kaWRhdGUiLCJoYW5kbGVJY2VDYW5kaWRhdGUiLCJjbGVhclRpbWVvdXQiLCJyZXRyeUludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImluaXRpYXRlQ2FsbCIsInB1YmtleSIsInByZVN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImF1ZGlvIiwiZWNob0NhbmNlbGxhdGlvbiIsIm5vaXNlU3VwcHJlc3Npb24iLCJhdXRvR2FpbkNvbnRyb2wiLCJ2aWRlbyIsIndpZHRoIiwiaWRlYWwiLCJoZWlnaHQiLCJmYWNpbmdNb2RlIiwiZXJyIiwibWVkaWFFcnJvck1zZyIsInNlbmRSZXEiLCJzZXRJbnRlcnZhbCIsImFjY2VwdENhbGwiLCJET01FeGNlcHRpb24iLCJuYW1lIiwibWVzc2FnZSIsImlzSW5pdGlhdG9yIiwicGMiLCJSVENQZWVyQ29ubmVjdGlvbiIsImdldFRyYWNrcyIsInRyYWNrIiwiYWRkVHJhY2siLCJNZWRpYVN0cmVhbSIsIm9udHJhY2siLCJldmVudCIsInN0cmVhbXMiLCJvbmljZWNhbmRpZGF0ZSIsInRvSlNPTiIsIm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlIiwicyIsImljZUNvbm5lY3Rpb25TdGF0ZSIsInJlc3RhcnRJY2UiLCJlbmRDYWxsIiwib2ZmZXIiLCJjcmVhdGVPZmZlciIsIm9mZmVyVG9SZWNlaXZlQXVkaW8iLCJvZmZlclRvUmVjZWl2ZVZpZGVvIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsImMiLCJpY2VDYW5kaWRhdGVRdWV1ZSIsImFkZEljZUNhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwiYW5zd2VyIiwiY3JlYXRlQW5zd2VyIiwiZSIsImNvbnNvbGUiLCJyZW1vdGVEZXNjcmlwdGlvbiIsInB1c2giLCJzaWxlbnQiLCJ0IiwidG9nZ2xlTXV0ZSIsImdldEF1ZGlvVHJhY2tzIiwiZW5hYmxlZCIsInRvZ2dsZVZpZGVvIiwiZ2V0VmlkZW9UcmFja3MiLCJTZXQiLCJ3ZWJydGNNYW5hZ2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/webrtc.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d9cef20d5e01\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhY2Vob2xkZXItbW9kZWwtMS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/YWY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImQ5Y2VmMjBkNWUwMVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-inter\"}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-inter\\\"}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/app/layout.tsx\",\"import\":\"Space_Mono\",\"arguments\":[{\"subsets\":[\"latin\"],\"weight\":\"400\",\"variable\":\"--font-space-mono\"}],\"variableName\":\"spaceMono\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/app/layout.tsx\\\",\\\"import\\\":\\\"Space_Mono\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"weight\\\":\\\"400\\\",\\\"variable\\\":\\\"--font-space-mono\\\"}],\\\"variableName\\\":\\\"spaceMono\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _components_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ThemeProvider */ \"(rsc)/./src/components/ThemeProvider.tsx\");\n\n\n\n\n\nconst metadata = {\n    title: \"Nostr Client\",\n    description: \"A modern Nostr client built with Next.js.\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: `${(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default().variable)} ${(next_font_google_target_css_path_src_app_layout_tsx_import_Space_Mono_arguments_subsets_latin_weight_400_variable_font_space_mono_variableName_spaceMono___WEBPACK_IMPORTED_MODULE_4___default().variable)} font-sans`,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n                attribute: \"class\",\n                defaultTheme: \"dark\",\n                enableSystem: true,\n                disableTransitionOnChange: true,\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/user/nostr/src/app/layout.tsx\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/user/nostr/src/app/layout.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/user/nostr/src/app/layout.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFJTUE7QUFDQUM7QUFMaUI7QUFFb0M7QUFLcEQsTUFBTUUsV0FBVztJQUN0QkMsT0FBTztJQUNQQyxhQUFhO0FBQ2YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFBRUMsUUFBUSxFQUFpQztJQUM1RSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyx3QkFBd0I7a0JBQ3RDLDRFQUFDQztZQUFLQyxXQUFXLENBQUMsRUFBRVosa0xBQWMsQ0FBQyxDQUFDLEVBQUVDLDJNQUFrQixDQUFDLFVBQVUsQ0FBQztzQkFDbEUsNEVBQUNDLG9FQUFhQTtnQkFDWlksV0FBVTtnQkFDVkMsY0FBYTtnQkFDYkMsWUFBWTtnQkFDWkMseUJBQXlCOzBCQUV4QlY7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYWNlaG9sZGVyLW1vZGVsLTEvLi9zcmMvYXBwL2xheW91dC50c3g/NTdhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuL2dsb2JhbHMuY3NzXCI7XG5pbXBvcnQgeyBJbnRlciwgU3BhY2VfTW9ubyB9IGZyb20gXCJuZXh0L2ZvbnQvZ29vZ2xlXCI7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9UaGVtZVByb3ZpZGVyXCI7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbXCJsYXRpblwiXSwgdmFyaWFibGU6IFwiLS1mb250LWludGVyXCIgfSk7XG5jb25zdCBzcGFjZU1vbm8gPSBTcGFjZV9Nb25vKHsgc3Vic2V0czogW1wibGF0aW5cIl0sIHdlaWdodDogXCI0MDBcIiwgdmFyaWFibGU6IFwiLS1mb250LXNwYWNlLW1vbm9cIiB9KTtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICB0aXRsZTogXCJOb3N0ciBDbGllbnRcIixcbiAgZGVzY3JpcHRpb246IFwiQSBtb2Rlcm4gTm9zdHIgY2xpZW50IGJ1aWx0IHdpdGggTmV4dC5qcy5cIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgIDxib2R5IGNsYXNzTmFtZT17YCR7aW50ZXIudmFyaWFibGV9ICR7c3BhY2VNb25vLnZhcmlhYmxlfSBmb250LXNhbnNgfT5cbiAgICAgICAgPFRoZW1lUHJvdmlkZXJcbiAgICAgICAgICBhdHRyaWJ1dGU9XCJjbGFzc1wiXG4gICAgICAgICAgZGVmYXVsdFRoZW1lPVwiZGFya1wiXG4gICAgICAgICAgZW5hYmxlU3lzdGVtXG4gICAgICAgICAgZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbImludGVyIiwic3BhY2VNb25vIiwiVGhlbWVQcm92aWRlciIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiYm9keSIsImNsYXNzTmFtZSIsInZhcmlhYmxlIiwiYXR0cmlidXRlIiwiZGVmYXVsdFRoZW1lIiwiZW5hYmxlU3lzdGVtIiwiZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/app/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/ThemeProvider.tsx":
/*!******************************************!*\
  !*** ./src/components/ThemeProvider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeProvider: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/user/nostr/src/components/ThemeProvider.tsx#ThemeProvider`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/next-themes","vendor-chunks/framer-motion","vendor-chunks/lucide-react","vendor-chunks/motion-dom","vendor-chunks/@noble","vendor-chunks/nostr-tools","vendor-chunks/motion-utils","vendor-chunks/idb","vendor-chunks/@scure"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fhome%2Fuser%2Fnostr%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2Fnostr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();